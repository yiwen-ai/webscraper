<table>
   <tbody>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="P0IIc7">RFC 8949</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="BTneht">CBOR</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="Zu0SlI">December 2020</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="dF6WTI">Bormann &amp; Hoffman</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="ZcTD0N">Standards Track</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="NeFX5i">[Page]</p>
         </td>
      </tr>
   </tbody>
</table>
<p data-id="Esp9G6">Stream:</p>
<p data-id="ykuRdu">Internet Engineering Task Force (IETF)</p>
<p data-id="Bzu3LN">RFC:</p>
<p data-id="So_EX_"><a target="_blank" rel="noopener noreferrer" href="https://www.rfc-editor.org/rfc/rfc8949">8949</a>
</p>
<p data-id="XJ3kDl">STD:</p>
<p data-id="iXTN96">94</p>
<p data-id="ZyQS8E">Obsoletes:</p>
<p data-id="fkCfTY"><a target="_blank" rel="noopener noreferrer" href="https://www.rfc-editor.org/rfc/rfc7049">7049</a>
</p>
<p data-id="v2UVlm">Category:</p>
<p data-id="sjkTIt">Standards Track</p>
<p data-id="p44P7k">Published:</p>
<p data-id="PgXtyE">December 2020</p>
<p data-id="ZQkEh4">ISSN:</p>
<p data-id="VqNG-t">2070-1721</p>
<p data-id="fDWtAH">Authors:</p>
<p data-id="uYBGj1">C. Bormann</p>
<p data-id="dAu0Y6">Universität Bremen TZI</p>
<p data-id="-ap73j">P. Hoffman</p>
<p data-id="TfXZtu">ICANN</p>
<h1 data-id="hrx7vP">RFC 8949</h1>
<h1 data-id="fDN0HK">Concise Binary Object Representation (CBOR)</h1>
<h2 data-id="tACRwp"><a target="_blank" rel="noopener noreferrer" href="#abstract">Abstract</a></h2>
<p data-id="cVn1gn">The Concise Binary Object Representation (CBOR) is a data format whose design goals include the
   possibility of extremely small code size, fairly small message size, and extensibility without the need for version
   negotiation. These design goals make it different from earlier binary serializations such as ASN.1 and MessagePack.<a
      target="_blank" rel="noopener noreferrer" href="#section-abstract-1">¶</a></p>
<p data-id="LQRLg5">This document obsoletes RFC 7049, providing editorial improvements, new details, and errata fixes
   while keeping full compatibility with the interchange format of RFC 7049. It does not create a new version of the
   format.<a target="_blank" rel="noopener noreferrer" href="#section-abstract-2">¶</a></p>
<h2 data-id="U-U8GZ"><a target="_blank" rel="noopener noreferrer" href="#name-status-of-this-memo">Status of This
      Memo</a></h2>
<p data-id="SZs2_g">This is an Internet Standards Track document.<a target="_blank" rel="noopener noreferrer"
      href="#section-boilerplate.1-1">¶</a></p>
<p data-id="YYc-za">This document is a product of the Internet Engineering Task Force (IETF). It represents the
   consensus of the IETF community. It has received public review and has been approved for publication by the Internet
   Engineering Steering Group (IESG). Further information on Internet Standards is available in Section 2 of RFC 7841.<a
      target="_blank" rel="noopener noreferrer" href="#section-boilerplate.1-2">¶</a></p>
<p data-id="Y1aQ_O">Information about the current status of this document, any errata, and how to provide feedback on it
   may be obtained at <a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/info/rfc8949">https://www.rfc-editor.org/info/rfc8949</a>.<a target="_blank"
      rel="noopener noreferrer" href="#section-boilerplate.1-3">¶</a></p>
<h2 data-id="U3xaP7"><a target="_blank" rel="noopener noreferrer" href="#name-copyright-notice">Copyright Notice</a>
</h2>
<p data-id="Kc0v44">Copyright (c) 2020 IETF Trust and the persons identified as the document authors. All rights
   reserved.<a target="_blank" rel="noopener noreferrer" href="#section-boilerplate.2-1">¶</a></p>
<p data-id="l29RKz">This document is subject to BCP 78 and the IETF Trust&apos;s Legal Provisions Relating to IETF
   Documents (<a target="_blank" rel="noopener noreferrer"
      href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document. Please review these documents carefully, as they describe your rights and restrictions
   with respect to this document. Code Components extracted from this document must include Simplified BSD License text
   as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the
   Simplified BSD License.<a target="_blank" rel="noopener noreferrer" href="#section-boilerplate.2-2">¶</a></p>
<p data-id="oojqMw"><a target="_blank" rel="noopener noreferrer" href="#">▲</a></p>
<h2 data-id="lU0u6q"><a target="_blank" rel="noopener noreferrer" href="#name-table-of-contents">Table of Contents</a>
</h2>
<ol>
   <li>
      <p data-id="wq_G8q"><a target="_blank" rel="noopener noreferrer" href="#section-1">1</a>.  <a target="_blank"
            rel="noopener noreferrer" href="#name-introduction">Introduction</a><a target="_blank"
            rel="noopener noreferrer" href="#section-toc.1-1.1.1">¶</a></p>
      <ol>
         <li>
            <p data-id="V8fOv1"><a target="_blank" rel="noopener noreferrer" href="#section-1.1">1.1</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-objectives">Objectives</a><a target="_blank"
                  rel="noopener noreferrer" href="#section-toc.1-1.1.2.1.1">¶</a></p>
         </li>
         <li>
            <p data-id="iaUP05"><a target="_blank" rel="noopener noreferrer" href="#section-1.2">1.2</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-terminology">Terminology</a><a target="_blank"
                  rel="noopener noreferrer" href="#section-toc.1-1.1.2.2.1">¶</a></p>
         </li>
      </ol>
   </li>
   <li>
      <p data-id="yyZsYh"><a target="_blank" rel="noopener noreferrer" href="#section-2">2</a>.  <a target="_blank"
            rel="noopener noreferrer" href="#name-cbor-data-models">CBOR Data Models</a><a target="_blank"
            rel="noopener noreferrer" href="#section-toc.1-1.2.1">¶</a></p>
      <ol>
         <li>
            <p data-id="o9Ac6R"><a target="_blank" rel="noopener noreferrer" href="#section-2.1">2.1</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-extended-generic-data-model">Extended Generic
                  Data Models</a><a target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.2.2.1.1">¶</a></p>
         </li>
         <li>
            <p data-id="30WctJ"><a target="_blank" rel="noopener noreferrer" href="#section-2.2">2.2</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-specific-data-models">Specific Data Models</a><a
                  target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.2.2.2.1">¶</a></p>
         </li>
      </ol>
   </li>
   <li>
      <p data-id="-bPZhc"><a target="_blank" rel="noopener noreferrer" href="#section-3">3</a>.  <a target="_blank"
            rel="noopener noreferrer" href="#name-specification-of-the-cbor-e">Specification of the CBOR Encoding</a><a
            target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.3.1">¶</a></p>
      <ol>
         <li>
            <p data-id="N2qI2p"><a target="_blank" rel="noopener noreferrer" href="#section-3.1">3.1</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-major-types">Major Types</a><a target="_blank"
                  rel="noopener noreferrer" href="#section-toc.1-1.3.2.1.1">¶</a></p>
         </li>
         <li>
            <p data-id="zXSGUI"><a target="_blank" rel="noopener noreferrer" href="#section-3.2">3.2</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-indefinite-lengths-for-some">Indefinite Lengths
                  for Some Major Types</a><a target="_blank" rel="noopener noreferrer"
                  href="#section-toc.1-1.3.2.2.1">¶</a></p>
            <ol>
               <li>
                  <p data-id="4jWFke"><a target="_blank" rel="noopener noreferrer" href="#section-3.2.1">3.2.1</a>.  <a
                        target="_blank" rel="noopener noreferrer" href="#name-the-break-stop-code">The &quot;break&quot;
                        Stop Code</a><a target="_blank" rel="noopener noreferrer"
                        href="#section-toc.1-1.3.2.2.2.1.1">¶</a></p>
               </li>
               <li>
                  <p data-id="XshTy8"><a target="_blank" rel="noopener noreferrer" href="#section-3.2.2">3.2.2</a>.  <a
                        target="_blank" rel="noopener noreferrer"
                        href="#name-indefinite-length-arrays-an">Indefinite-Length Arrays and Maps</a><a target="_blank"
                        rel="noopener noreferrer" href="#section-toc.1-1.3.2.2.2.2.1">¶</a></p>
               </li>
               <li>
                  <p data-id="jg2Oue"><a target="_blank" rel="noopener noreferrer" href="#section-3.2.3">3.2.3</a>.  <a
                        target="_blank" rel="noopener noreferrer"
                        href="#name-indefinite-length-byte-stri">Indefinite-Length Byte Strings and Text Strings</a><a
                        target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.3.2.2.2.3.1">¶</a></p>
               </li>
               <li>
                  <p data-id="TnzG2P"><a target="_blank" rel="noopener noreferrer" href="#section-3.2.4">3.2.4</a>.  <a
                        target="_blank" rel="noopener noreferrer" href="#name-summary-of-indefinite-lengt">Summary of
                        Indefinite-Length Use of Major Types</a><a target="_blank" rel="noopener noreferrer"
                        href="#section-toc.1-1.3.2.2.2.4.1">¶</a></p>
               </li>
            </ol>
         </li>
         <li>
            <p data-id="Psn7Yv"><a target="_blank" rel="noopener noreferrer" href="#section-3.3">3.3</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-floating-point-numbers-and-">Floating-Point
                  Numbers and Values with No Content</a><a target="_blank" rel="noopener noreferrer"
                  href="#section-toc.1-1.3.2.3.1">¶</a></p>
         </li>
         <li>
            <p data-id="-Oslv8"><a target="_blank" rel="noopener noreferrer" href="#section-3.4">3.4</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-tagging-of-items">Tagging of Items</a><a
                  target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.3.2.4.1">¶</a></p>
            <ol>
               <li>
                  <p data-id="mA_7Rh"><a target="_blank" rel="noopener noreferrer" href="#section-3.4.1">3.4.1</a>.  <a
                        target="_blank" rel="noopener noreferrer" href="#name-standard-date-time-string">Standard
                        Date/Time String</a><a target="_blank" rel="noopener noreferrer"
                        href="#section-toc.1-1.3.2.4.2.1.1">¶</a></p>
               </li>
               <li>
                  <p data-id="HQ1NJc"><a target="_blank" rel="noopener noreferrer" href="#section-3.4.2">3.4.2</a>.  <a
                        target="_blank" rel="noopener noreferrer" href="#name-epoch-based-date-time">Epoch-Based
                        Date/Time</a><a target="_blank" rel="noopener noreferrer"
                        href="#section-toc.1-1.3.2.4.2.2.1">¶</a></p>
               </li>
               <li>
                  <p data-id="fPdXv4"><a target="_blank" rel="noopener noreferrer" href="#section-3.4.3">3.4.3</a>.  <a
                        target="_blank" rel="noopener noreferrer" href="#name-bignums">Bignums</a><a target="_blank"
                        rel="noopener noreferrer" href="#section-toc.1-1.3.2.4.2.3.1">¶</a></p>
               </li>
               <li>
                  <p data-id="kaIKBc"><a target="_blank" rel="noopener noreferrer" href="#section-3.4.4">3.4.4</a>.  <a
                        target="_blank" rel="noopener noreferrer" href="#name-decimal-fractions-and-bigfl">Decimal
                        Fractions and Bigfloats</a><a target="_blank" rel="noopener noreferrer"
                        href="#section-toc.1-1.3.2.4.2.4.1">¶</a></p>
               </li>
               <li>
                  <p data-id="8kePuG"><a target="_blank" rel="noopener noreferrer" href="#section-3.4.5">3.4.5</a>.  <a
                        target="_blank" rel="noopener noreferrer" href="#name-content-hints">Content Hints</a><a
                        target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.3.2.4.2.5.1">¶</a></p>
                  <ol>
                     <li>
                        <p data-id="SagCBc"><a target="_blank" rel="noopener noreferrer"
                              href="#section-3.4.5.1">3.4.5.1</a>.  <a target="_blank" rel="noopener noreferrer"
                              href="#name-encoded-cbor-data-item">Encoded CBOR Data Item</a><a target="_blank"
                              rel="noopener noreferrer" href="#section-toc.1-1.3.2.4.2.5.2.1.1">¶</a></p>
                     </li>
                     <li>
                        <p data-id="jMs9WN"><a target="_blank" rel="noopener noreferrer"
                              href="#section-3.4.5.2">3.4.5.2</a>.  <a target="_blank" rel="noopener noreferrer"
                              href="#name-expected-later-encoding-for">Expected Later Encoding for CBOR-to-JSON
                              Converters</a><a target="_blank" rel="noopener noreferrer"
                              href="#section-toc.1-1.3.2.4.2.5.2.2.1">¶</a></p>
                     </li>
                     <li>
                        <p data-id="RAHL6d"><a target="_blank" rel="noopener noreferrer"
                              href="#section-3.4.5.3">3.4.5.3</a>.  <a target="_blank" rel="noopener noreferrer"
                              href="#name-encoded-text">Encoded Text</a><a target="_blank" rel="noopener noreferrer"
                              href="#section-toc.1-1.3.2.4.2.5.2.3.1">¶</a></p>
                     </li>
                  </ol>
               </li>
               <li>
                  <p data-id="E5UhEG"><a target="_blank" rel="noopener noreferrer" href="#section-3.4.6">3.4.6</a>.  <a
                        target="_blank" rel="noopener noreferrer" href="#name-self-described-cbor">Self-Described
                        CBOR</a><a target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.3.2.4.2.6.1">¶</a>
                  </p>
               </li>
            </ol>
         </li>
      </ol>
   </li>
   <li>
      <p data-id="HzwcJ1"><a target="_blank" rel="noopener noreferrer" href="#section-4">4</a>.  <a target="_blank"
            rel="noopener noreferrer" href="#name-serialization-consideration">Serialization Considerations</a><a
            target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.4.1">¶</a></p>
      <ol>
         <li>
            <p data-id="Mgs2HY"><a target="_blank" rel="noopener noreferrer" href="#section-4.1">4.1</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-preferred-serialization">Preferred
                  Serialization</a><a target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.4.2.1.1">¶</a>
            </p>
         </li>
         <li>
            <p data-id="4OZfEH"><a target="_blank" rel="noopener noreferrer" href="#section-4.2">4.2</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-deterministically-encoded-c">Deterministically
                  Encoded CBOR</a><a target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.4.2.2.1">¶</a></p>
            <ol>
               <li>
                  <p data-id="d2b-BD"><a target="_blank" rel="noopener noreferrer" href="#section-4.2.1">4.2.1</a>.  <a
                        target="_blank" rel="noopener noreferrer" href="#name-core-deterministic-encoding">Core
                        Deterministic Encoding Requirements</a><a target="_blank" rel="noopener noreferrer"
                        href="#section-toc.1-1.4.2.2.2.1.1">¶</a></p>
               </li>
               <li>
                  <p data-id="ItDUqe"><a target="_blank" rel="noopener noreferrer" href="#section-4.2.2">4.2.2</a>.  <a
                        target="_blank" rel="noopener noreferrer" href="#name-additional-deterministic-en">Additional
                        Deterministic Encoding Considerations</a><a target="_blank" rel="noopener noreferrer"
                        href="#section-toc.1-1.4.2.2.2.2.1">¶</a></p>
               </li>
               <li>
                  <p data-id="05UtJG"><a target="_blank" rel="noopener noreferrer" href="#section-4.2.3">4.2.3</a>.  <a
                        target="_blank" rel="noopener noreferrer" href="#name-length-first-map-key-orderi">Length-First
                        Map Key Ordering</a><a target="_blank" rel="noopener noreferrer"
                        href="#section-toc.1-1.4.2.2.2.3.1">¶</a></p>
               </li>
            </ol>
         </li>
      </ol>
   </li>
   <li>
      <p data-id="JYMs9L"><a target="_blank" rel="noopener noreferrer" href="#section-5">5</a>.  <a target="_blank"
            rel="noopener noreferrer" href="#name-creating-cbor-based-protoco">Creating CBOR-Based Protocols</a><a
            target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.5.1">¶</a></p>
      <ol>
         <li>
            <p data-id="Z-ojwk"><a target="_blank" rel="noopener noreferrer" href="#section-5.1">5.1</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-cbor-in-streaming-applicati">CBOR in Streaming
                  Applications</a><a target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.5.2.1.1">¶</a></p>
         </li>
         <li>
            <p data-id="BbwMAD"><a target="_blank" rel="noopener noreferrer" href="#section-5.2">5.2</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-generic-encoders-and-decode">Generic Encoders
                  and Decoders</a><a target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.5.2.2.1">¶</a></p>
         </li>
         <li>
            <p data-id="4HV6Je"><a target="_blank" rel="noopener noreferrer" href="#section-5.3">5.3</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-validity-of-items">Validity of Items</a><a
                  target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.5.2.3.1">¶</a></p>
            <ol>
               <li>
                  <p data-id="939CoR"><a target="_blank" rel="noopener noreferrer" href="#section-5.3.1">5.3.1</a>.  <a
                        target="_blank" rel="noopener noreferrer" href="#name-basic-validity">Basic validity</a><a
                        target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.5.2.3.2.1.1">¶</a></p>
               </li>
               <li>
                  <p data-id="0ghTEh"><a target="_blank" rel="noopener noreferrer" href="#section-5.3.2">5.3.2</a>.  <a
                        target="_blank" rel="noopener noreferrer" href="#name-tag-validity">Tag validity</a><a
                        target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.5.2.3.2.2.1">¶</a></p>
               </li>
            </ol>
         </li>
         <li>
            <p data-id="9H1hJE"><a target="_blank" rel="noopener noreferrer" href="#section-5.4">5.4</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-validity-and-evolution">Validity and
                  Evolution</a><a target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.5.2.4.1">¶</a></p>
         </li>
         <li>
            <p data-id="HEyiGn"><a target="_blank" rel="noopener noreferrer" href="#section-5.5">5.5</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-numbers">Numbers</a><a target="_blank"
                  rel="noopener noreferrer" href="#section-toc.1-1.5.2.5.1">¶</a></p>
         </li>
         <li>
            <p data-id="_vvQHS"><a target="_blank" rel="noopener noreferrer" href="#section-5.6">5.6</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-specifying-keys-for-maps">Specifying Keys for
                  Maps</a><a target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.5.2.6.1">¶</a></p>
            <ol>
               <li>
                  <p data-id="L0WvSH"><a target="_blank" rel="noopener noreferrer" href="#section-5.6.1">5.6.1</a>.  <a
                        target="_blank" rel="noopener noreferrer" href="#name-equivalence-of-keys">Equivalence of
                        Keys</a><a target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.5.2.6.2.1.1">¶</a>
                  </p>
               </li>
            </ol>
         </li>
         <li>
            <p data-id="t8orBP"><a target="_blank" rel="noopener noreferrer" href="#section-5.7">5.7</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-undefined-values">Undefined Values</a><a
                  target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.5.2.7.1">¶</a></p>
         </li>
      </ol>
   </li>
   <li>
      <p data-id="2Ytzr5"><a target="_blank" rel="noopener noreferrer" href="#section-6">6</a>.  <a target="_blank"
            rel="noopener noreferrer" href="#name-converting-data-between-cbo">Converting Data between CBOR and
            JSON</a><a target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.6.1">¶</a></p>
      <ol>
         <li>
            <p data-id="0VNAIs"><a target="_blank" rel="noopener noreferrer" href="#section-6.1">6.1</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-converting-from-cbor-to-jso">Converting from
                  CBOR to JSON</a><a target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.6.2.1.1">¶</a></p>
         </li>
         <li>
            <p data-id="ZiLb1V"><a target="_blank" rel="noopener noreferrer" href="#section-6.2">6.2</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-converting-from-json-to-cbo">Converting from
                  JSON to CBOR</a><a target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.6.2.2.1">¶</a></p>
         </li>
      </ol>
   </li>
   <li>
      <p data-id="ysr31Q"><a target="_blank" rel="noopener noreferrer" href="#section-7">7</a>.  <a target="_blank"
            rel="noopener noreferrer" href="#name-future-evolution-of-cbor">Future Evolution of CBOR</a><a
            target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.7.1">¶</a></p>
      <ol>
         <li>
            <p data-id="UQNKIJ"><a target="_blank" rel="noopener noreferrer" href="#section-7.1">7.1</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-extension-points">Extension Points</a><a
                  target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.7.2.1.1">¶</a></p>
         </li>
         <li>
            <p data-id="k_UhaU"><a target="_blank" rel="noopener noreferrer" href="#section-7.2">7.2</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-curating-the-additional-inf">Curating the
                  Additional Information Space</a><a target="_blank" rel="noopener noreferrer"
                  href="#section-toc.1-1.7.2.2.1">¶</a></p>
         </li>
      </ol>
   </li>
   <li>
      <p data-id="kY02Dw"><a target="_blank" rel="noopener noreferrer" href="#section-8">8</a>.  <a target="_blank"
            rel="noopener noreferrer" href="#name-diagnostic-notation">Diagnostic Notation</a><a target="_blank"
            rel="noopener noreferrer" href="#section-toc.1-1.8.1">¶</a></p>
      <ol>
         <li>
            <p data-id="YfiAaA"><a target="_blank" rel="noopener noreferrer" href="#section-8.1">8.1</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-encoding-indicators">Encoding Indicators</a><a
                  target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.8.2.1.1">¶</a></p>
         </li>
      </ol>
   </li>
   <li>
      <p data-id="Rp6m2y"><a target="_blank" rel="noopener noreferrer" href="#section-9">9</a>.  <a target="_blank"
            rel="noopener noreferrer" href="#name-iana-considerations">IANA Considerations</a><a target="_blank"
            rel="noopener noreferrer" href="#section-toc.1-1.9.1">¶</a></p>
      <ol>
         <li>
            <p data-id="atj5QK"><a target="_blank" rel="noopener noreferrer" href="#section-9.1">9.1</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-cbor-simple-values-registry">CBOR Simple Values
                  Registry</a><a target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.9.2.1.1">¶</a></p>
         </li>
         <li>
            <p data-id="BCS7AB"><a target="_blank" rel="noopener noreferrer" href="#section-9.2">9.2</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-cbor-tags-registry">CBOR Tags Registry</a><a
                  target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.9.2.2.1">¶</a></p>
         </li>
         <li>
            <p data-id="GQT3O0"><a target="_blank" rel="noopener noreferrer" href="#section-9.3">9.3</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-media-types-registry">Media Types Registry</a><a
                  target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.9.2.3.1">¶</a></p>
         </li>
         <li>
            <p data-id="A3FnJ9"><a target="_blank" rel="noopener noreferrer" href="#section-9.4">9.4</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-coap-content-format-registr">CoAP Content-Format
                  Registry</a><a target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.9.2.4.1">¶</a></p>
         </li>
         <li>
            <p data-id="jhp0UN"><a target="_blank" rel="noopener noreferrer" href="#section-9.5">9.5</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-structured-syntax-suffix-re">Structured Syntax
                  Suffix Registry</a><a target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.9.2.5.1">¶</a>
            </p>
         </li>
      </ol>
   </li>
   <li>
      <p data-id="bNhakN"><a target="_blank" rel="noopener noreferrer" href="#section-10">10</a>. <a target="_blank"
            rel="noopener noreferrer" href="#name-security-considerations">Security Considerations</a><a target="_blank"
            rel="noopener noreferrer" href="#section-toc.1-1.10.1">¶</a></p>
   </li>
   <li>
      <p data-id="cJcsMj"><a target="_blank" rel="noopener noreferrer" href="#section-11">11</a>. <a target="_blank"
            rel="noopener noreferrer" href="#name-references">References</a><a target="_blank" rel="noopener noreferrer"
            href="#section-toc.1-1.11.1">¶</a></p>
      <ol>
         <li>
            <p data-id="2QsjrY"><a target="_blank" rel="noopener noreferrer" href="#section-11.1">11.1</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-normative-references">Normative References</a><a
                  target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.11.2.1.1">¶</a></p>
         </li>
         <li>
            <p data-id="Wmqan3"><a target="_blank" rel="noopener noreferrer" href="#section-11.2">11.2</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-informative-references">Informative
                  References</a><a target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.11.2.2.1">¶</a></p>
         </li>
      </ol>
   </li>
   <li>
      <p data-id="VLvXt7"><a target="_blank" rel="noopener noreferrer" href="#section-appendix.a">Appendix A</a>.  <a
            target="_blank" rel="noopener noreferrer" href="#name-examples-of-encoded-cbor-da">Examples of Encoded CBOR
            Data Items</a><a target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.12.1">¶</a></p>
   </li>
   <li>
      <p data-id="qMYdYC"><a target="_blank" rel="noopener noreferrer" href="#section-appendix.b">Appendix B</a>.  <a
            target="_blank" rel="noopener noreferrer" href="#name-jump-table-for-initial-byte">Jump Table for Initial
            Byte</a><a target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.13.1">¶</a></p>
   </li>
   <li>
      <p data-id="Md9Sb7"><a target="_blank" rel="noopener noreferrer" href="#section-appendix.c">Appendix C</a>.  <a
            target="_blank" rel="noopener noreferrer" href="#name-pseudocode">Pseudocode</a><a target="_blank"
            rel="noopener noreferrer" href="#section-toc.1-1.14.1">¶</a></p>
   </li>
   <li>
      <p data-id="33BDxt"><a target="_blank" rel="noopener noreferrer" href="#section-appendix.d">Appendix D</a>.  <a
            target="_blank" rel="noopener noreferrer" href="#name-half-precision">Half-Precision</a><a target="_blank"
            rel="noopener noreferrer" href="#section-toc.1-1.15.1">¶</a></p>
   </li>
   <li>
      <p data-id="v2sONm"><a target="_blank" rel="noopener noreferrer" href="#section-appendix.e">Appendix E</a>.  <a
            target="_blank" rel="noopener noreferrer" href="#name-comparison-of-other-binary-">Comparison of Other
            Binary Formats to CBOR&apos;s Design Objectives</a><a target="_blank" rel="noopener noreferrer"
            href="#section-toc.1-1.16.1">¶</a></p>
      <ol>
         <li>
            <p data-id="_Ro-8X"><a target="_blank" rel="noopener noreferrer" href="#section-e.1">E.1</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-asn1-der-ber-and-per">ASN.1 DER, BER, and
                  PER</a><a target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.16.2.1.1">¶</a></p>
         </li>
         <li>
            <p data-id="gBYKob"><a target="_blank" rel="noopener noreferrer" href="#section-e.2">E.2</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-messagepack">MessagePack</a><a target="_blank"
                  rel="noopener noreferrer" href="#section-toc.1-1.16.2.2.1">¶</a></p>
         </li>
         <li>
            <p data-id="urA6NT"><a target="_blank" rel="noopener noreferrer" href="#section-e.3">E.3</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-bson">BSON</a><a target="_blank"
                  rel="noopener noreferrer" href="#section-toc.1-1.16.2.3.1">¶</a></p>
         </li>
         <li>
            <p data-id="WDlejG"><a target="_blank" rel="noopener noreferrer" href="#section-e.4">E.4</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-msdtp-rfc-713">MSDTP: RFC 713</a><a
                  target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.16.2.4.1">¶</a></p>
         </li>
         <li>
            <p data-id="I1kGqt"><a target="_blank" rel="noopener noreferrer" href="#section-e.5">E.5</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-conciseness-on-the-wire">Conciseness on the
                  Wire</a><a target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.16.2.5.1">¶</a></p>
         </li>
      </ol>
   </li>
   <li>
      <p data-id="RIh0jb"><a target="_blank" rel="noopener noreferrer" href="#section-appendix.f">Appendix F</a>.  <a
            target="_blank" rel="noopener noreferrer" href="#name-well-formedness-errors-and-">Well-Formedness Errors
            and Examples</a><a target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.17.1">¶</a></p>
      <ol>
         <li>
            <p data-id="hFXpCw"><a target="_blank" rel="noopener noreferrer" href="#section-f.1">F.1</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-examples-of-cbor-data-items">Examples of CBOR
                  Data Items That Are Not Well-Formed</a><a target="_blank" rel="noopener noreferrer"
                  href="#section-toc.1-1.17.2.1.1">¶</a></p>
         </li>
      </ol>
   </li>
   <li>
      <p data-id="GP5MxO"><a target="_blank" rel="noopener noreferrer" href="#section-appendix.g">Appendix G</a>.  <a
            target="_blank" rel="noopener noreferrer" href="#name-changes-from-rfc-7049">Changes from RFC 7049</a><a
            target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.18.1">¶</a></p>
      <ol>
         <li>
            <p data-id="snZa_1"><a target="_blank" rel="noopener noreferrer" href="#section-g.1">G.1</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-errata-processing-and-cleri">Errata Processing
                  and Clerical Changes</a><a target="_blank" rel="noopener noreferrer"
                  href="#section-toc.1-1.18.2.1.1">¶</a></p>
         </li>
         <li>
            <p data-id="RLFw2N"><a target="_blank" rel="noopener noreferrer" href="#section-g.2">G.2</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-changes-in-iana-considerati">Changes in IANA
                  Considerations</a><a target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.18.2.2.1">¶</a>
            </p>
         </li>
         <li>
            <p data-id="aRfFfW"><a target="_blank" rel="noopener noreferrer" href="#section-g.3">G.3</a>.  <a
                  target="_blank" rel="noopener noreferrer" href="#name-changes-in-suggestions-and-">Changes in
                  Suggestions and Other Informational Components</a><a target="_blank" rel="noopener noreferrer"
                  href="#section-toc.1-1.18.2.3.1">¶</a></p>
         </li>
      </ol>
   </li>
   <li>
      <p data-id="dcR5RY"><a target="_blank" rel="noopener noreferrer"
            href="#name-acknowledgements">Acknowledgements</a><a target="_blank" rel="noopener noreferrer"
            href="#section-toc.1-1.19.1">¶</a></p>
   </li>
   <li>
      <p data-id="uBPemX"><a target="_blank" rel="noopener noreferrer" href="#name-authors-addresses">Authors&apos;
            Addresses</a><a target="_blank" rel="noopener noreferrer" href="#section-toc.1-1.20.1">¶</a></p>
   </li>
</ol>
<h2 data-id="gLssiM"><a target="_blank" rel="noopener noreferrer" href="#section-1">1. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-introduction">Introduction</a></h2>
<p data-id="r5tCFX">There are hundreds of standardized formats for binary representation of structured data (also known
   as binary serialization formats). Of those, some are for specific domains of information, while others are
   generalized for arbitrary data. In the IETF, probably the best-known formats in the latter category are ASN.1&apos;s
   BER and DER [<a target="_blank" rel="noopener noreferrer" href="#ASN.1">ASN.1</a>].<a target="_blank"
      rel="noopener noreferrer" href="#section-1-1">¶</a></p>
<p data-id="mxsAs3">The format defined here follows some specific design goals that are not well met by current formats.
   The underlying data model is an extended version of the JSON data model [<a target="_blank" rel="noopener noreferrer"
      href="#RFC8259">RFC8259</a>]. It is important to note that this is not a proposal that the grammar in RFC 8259 be
   extended in general, since doing so would cause a significant backwards incompatibility with already deployed JSON
   documents. Instead, this document simply defines its own data model that starts from JSON.<a target="_blank"
      rel="noopener noreferrer" href="#section-1-2">¶</a></p>
<p data-id="ZY2Zza"><a target="_blank" rel="noopener noreferrer" href="#comparison-app">Appendix E</a> lists some
   existing binary formats and discusses how well they do or do not fit the design objectives of the Concise Binary
   Object Representation (CBOR).<a target="_blank" rel="noopener noreferrer" href="#section-1-3">¶</a></p>
<p data-id="KVGdiT">This document obsoletes [<a target="_blank" rel="noopener noreferrer" href="#RFC7049">RFC7049</a>],
   providing editorial improvements, new details, and errata fixes while keeping full compatibility with the interchange
   format of RFC 7049. It does not create a new version of the format.<a target="_blank" rel="noopener noreferrer"
      href="#section-1-4">¶</a></p>
<h3 data-id="lKoah4"><a target="_blank" rel="noopener noreferrer" href="#section-1.1">1.1. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-objectives">Objectives</a></h3>
<p data-id="abkrFC">The objectives of CBOR, roughly in decreasing order of importance, are:<a target="_blank"
      rel="noopener noreferrer" href="#section-1.1-1">¶</a></p>
<ol>
   <li>
      <p data-id="RPRsW0">The representation must be able to unambiguously encode most common data formats used in
         Internet standards.<a target="_blank" rel="noopener noreferrer" href="#section-1.1-2.1.1">¶</a></p>
      <ol>
         <li>
            <p data-id="tyNjsD">It must represent a reasonable set of basic data types and structures using binary
               encoding. &quot;Reasonable&quot; here is largely influenced by the capabilities of JSON, with the major
               addition of binary byte strings. The structures supported are limited to arrays and trees; loops and
               lattice-style graphs are not supported.<a target="_blank" rel="noopener noreferrer"
                  href="#section-1.1-2.1.2.1">¶</a></p>
         </li>
         <li>
            <p data-id="q44-cB">There is no requirement that all data formats be uniquely encoded; that is, it is
               acceptable that the number &quot;7&quot; might be encoded in multiple different ways.<a target="_blank"
                  rel="noopener noreferrer" href="#section-1.1-2.1.2.2">¶</a></p>
         </li>
      </ol>
   </li>
   <li>
      <p data-id="-7RV8r">The code for an encoder or decoder must be able to be compact in order to support systems with
         very limited memory, processor power, and instruction sets.<a target="_blank" rel="noopener noreferrer"
            href="#section-1.1-2.2.1">¶</a></p>
      <ol>
         <li>
            <p data-id="NOTXGn">An encoder and a decoder need to be implementable in a very small amount of code (for
               example, in class 1 constrained nodes as defined in [<a target="_blank" rel="noopener noreferrer"
                  href="#RFC7228">RFC7228</a>]).<a target="_blank" rel="noopener noreferrer"
                  href="#section-1.1-2.2.2.1">¶</a></p>
         </li>
         <li>
            <p data-id="Gev8DK">The format should use contemporary machine representations of data (for example, not
               requiring binary-to-decimal conversion).<a target="_blank" rel="noopener noreferrer"
                  href="#section-1.1-2.2.2.2">¶</a></p>
         </li>
      </ol>
   </li>
   <li>
      <p data-id="CXDgql">Data must be able to be decoded without a schema description.<a target="_blank"
            rel="noopener noreferrer" href="#section-1.1-2.3.1">¶</a></p>
      <ol>
         <li>
            <p data-id="GDLgNZ">Similar to JSON, encoded data should be self-describing so that a generic decoder can be
               written.<a target="_blank" rel="noopener noreferrer" href="#section-1.1-2.3.2.1">¶</a></p>
         </li>
      </ol>
   </li>
   <li>
      <p data-id="bqbgiA">The serialization must be reasonably compact, but data compactness is secondary to code
         compactness for the encoder and decoder.<a target="_blank" rel="noopener noreferrer"
            href="#section-1.1-2.4.1">¶</a></p>
      <ol>
         <li>
            <p data-id="0i78Re">&quot;Reasonable&quot; here is bounded by JSON as an upper bound in size and by the
               implementation complexity, which limits the amount of effort that can go into achieving that compactness.
               Using either general compression schemes or extensive bit-fiddling violates the complexity goals.<a
                  target="_blank" rel="noopener noreferrer" href="#section-1.1-2.4.2.1">¶</a></p>
         </li>
      </ol>
   </li>
   <li>
      <p data-id="7Qs9I-">The format must be applicable to both constrained nodes and high-volume applications.<a
            target="_blank" rel="noopener noreferrer" href="#section-1.1-2.5.1">¶</a></p>
      <ol>
         <li>
            <p data-id="_T9SNy">This means it must be reasonably frugal in CPU usage for both encoding and decoding.
               This is relevant both for constrained nodes and for potential usage in applications with a very high
               volume of data.<a target="_blank" rel="noopener noreferrer" href="#section-1.1-2.5.2.1">¶</a></p>
         </li>
      </ol>
   </li>
   <li>
      <p data-id="BxEz2L">The format must support all JSON data types for conversion to and from JSON.<a target="_blank"
            rel="noopener noreferrer" href="#section-1.1-2.6.1">¶</a></p>
      <ol>
         <li>
            <p data-id="D3pSR1">It must support a reasonable level of conversion as long as the data represented is
               within the capabilities of JSON. It must be possible to define a unidirectional mapping towards JSON for
               all types of data.<a target="_blank" rel="noopener noreferrer" href="#section-1.1-2.6.2.1">¶</a></p>
         </li>
      </ol>
   </li>
   <li>
      <p data-id="7S68XC">The format must be extensible, and the extended data must be decodable by earlier decoders.<a
            target="_blank" rel="noopener noreferrer" href="#section-1.1-2.7.1">¶</a></p>
      <ol>
         <li>
            <p data-id="2L0IsR">The format is designed for decades of use.<a target="_blank" rel="noopener noreferrer"
                  href="#section-1.1-2.7.2.1">¶</a></p>
         </li>
         <li>
            <p data-id="_omyBH">The format must support a form of extensibility that allows fallback so that a decoder
               that does not understand an extension can still decode the message.<a target="_blank"
                  rel="noopener noreferrer" href="#section-1.1-2.7.2.2">¶</a></p>
         </li>
         <li>
            <p data-id="TWzoLO">The format must be able to be extended in the future by later IETF standards.<a
                  target="_blank" rel="noopener noreferrer" href="#section-1.1-2.7.2.3">¶</a></p>
         </li>
      </ol>
   </li>
</ol>
<h3 data-id="wYMJaC"><a target="_blank" rel="noopener noreferrer" href="#section-1.2">1.2. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-terminology">Terminology</a></h3>
<p data-id="fc9kpX">The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;,
   &quot;SHALL NOT&quot;, &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;NOT
   RECOMMENDED&quot;, &quot;MAY&quot;, and &quot;OPTIONAL&quot; in this document are to be interpreted as described in
   BCP 14 [<a target="_blank" rel="noopener noreferrer" href="#RFC2119">RFC2119</a>] [<a target="_blank"
      rel="noopener noreferrer" href="#RFC8174">RFC8174</a>] when, and only when, they appear in all capitals, as shown
   here.<a target="_blank" rel="noopener noreferrer" href="#section-1.2-1">¶</a></p>
<p data-id="dX78aC">The term &quot;byte&quot; is used in its now-customary sense as a synonym for &quot;octet&quot;. All
   multi-byte values are encoded in network byte order (that is, most significant byte first, also known as
   &quot;big-endian&quot;).<a target="_blank" rel="noopener noreferrer" href="#section-1.2-2">¶</a></p>
<p data-id="18Zn_Q">This specification makes use of the following terminology:<a target="_blank"
      rel="noopener noreferrer" href="#section-1.2-3">¶</a></p>
<p data-id="DfqJfP">Data item:</p>
<p data-id="LLdyqf"> A single piece of CBOR data. The structure of a data item may contain zero, one, or more nested
   data items. The term is used both for the data item in representation format and for the abstract idea that can be
   derived from that by a decoder; the former can be addressed specifically by using the term &quot;encoded data
   item&quot;.<a target="_blank" rel="noopener noreferrer" href="#section-1.2-4.2">¶</a></p>
<p data-id="HmCS9E">Decoder:</p>
<p data-id="2Q3yAr"> A process that decodes a well-formed encoded CBOR data item and makes it available to an
   application. Formally speaking, a decoder contains a parser to break up the input using the syntax rules of CBOR, as
   well as a semantic processor to prepare the data in a form suitable to the application.<a target="_blank"
      rel="noopener noreferrer" href="#section-1.2-4.4">¶</a></p>
<p data-id="cc_5ny">Encoder:</p>
<p data-id="KgOrsC"> A process that generates the (well-formed) representation format of a CBOR data item from
   application information.<a target="_blank" rel="noopener noreferrer" href="#section-1.2-4.6">¶</a></p>
<p data-id="pV5lT8">Data Stream:</p>
<p data-id="OycsVc"> A sequence of zero or more data items, not further assembled into a larger containing data item
   (see [<a target="_blank" rel="noopener noreferrer" href="#RFC8742">RFC8742</a>] for one application). The independent
   data items that make up a data stream are sometimes also referred to as &quot;top-level data items&quot;.<a
      target="_blank" rel="noopener noreferrer" href="#section-1.2-4.8">¶</a></p>
<p data-id="9su3KP">Well-formed:</p>
<p data-id="IqL8PI"> A data item that follows the syntactic structure of CBOR. A well-formed data item uses the initial
   bytes and the byte strings and/or data items that are implied by their values as defined in CBOR and does not include
   following extraneous data. CBOR decoders by definition only return contents from well-formed data items.<a
      target="_blank" rel="noopener noreferrer" href="#section-1.2-4.10">¶</a></p>
<p data-id="GF3DrK">Valid:</p>
<p data-id="sv0s30"> A data item that is well-formed and also follows the semantic restrictions that apply to CBOR data
   items (<a target="_blank" rel="noopener noreferrer" href="#semantic-errors">Section 5.3</a>).<a target="_blank"
      rel="noopener noreferrer" href="#section-1.2-4.12">¶</a></p>
<p data-id="NlNcG7">Expected:</p>
<p data-id="nUlzmh"> Besides its normal English meaning, the term &quot;expected&quot; is used to describe requirements
   beyond CBOR validity that an application has on its input data. Well-formed (processable at all), valid (checked by a
   validity-checking generic decoder), and expected (checked by the application) form a hierarchy of layers of
   acceptability.<a target="_blank" rel="noopener noreferrer" href="#section-1.2-4.14">¶</a></p>
<p data-id="1OTboM">Stream decoder:</p>
<p data-id="is2Yky"> A process that decodes a data stream and makes each of the data items in the sequence available to
   an application as they are received.<a target="_blank" rel="noopener noreferrer" href="#section-1.2-4.16">¶</a></p>
<p data-id="HVCKku">Terms and concepts for floating-point values such as Infinity, NaN (not a number), negative zero,
   and subnormal are defined in [<a target="_blank" rel="noopener noreferrer" href="#IEEE754">IEEE754</a>].<a
      target="_blank" rel="noopener noreferrer" href="#section-1.2-5">¶</a></p>
<p data-id="6joEQ4">Where bit arithmetic or data types are explained, this document uses the notation familiar from the
   programming language C [<a target="_blank" rel="noopener noreferrer" href="#C">C</a>], except that &quot;..&quot;
   denotes a range that includes both ends given, and superscript notation denotes exponentiation. For example, 2 to the
   power of 64 is notated: 2<sup>64</sup>. In the plain-text version of this specification, superscript notation is not
   available and therefore is rendered by a surrogate notation. That notation is not optimized for this RFC; it is
   unfortunately ambiguous with C&apos;s exclusive-or (which is only used in the appendices, which in turn do not use
   exponentiation) and requires circumspection from the reader of the plain-text version.<a target="_blank"
      rel="noopener noreferrer" href="#section-1.2-6">¶</a></p>
<p data-id="6K4c4S">Examples and pseudocode assume that signed integers use two&apos;s complement representation and
   that right shifts of signed integers perform sign extension; these assumptions are also specified in Sections 6.8.1
   (basic.fundamental) and 7.6.7 (expr.shift) of the 2020 version of C++ (currently available as a final draft, [<a
      target="_blank" rel="noopener noreferrer" href="#Cplusplus20">Cplusplus20</a>]).<a target="_blank"
      rel="noopener noreferrer" href="#section-1.2-7">¶</a></p>
<p data-id="80eEQV">Similar to the &quot;0x&quot; notation for hexadecimal numbers, numbers in binary notation are
   prefixed with &quot;0b&quot;. Underscores can be added to a number solely for readability, so 0b00100001 (0x21) might
   be written 0b001_00001 to emphasize the desired interpretation of the bits in the byte; in this case, it is split
   into three bits and five bits. Encoded CBOR data items are sometimes given in the &quot;0x&quot; or &quot;0b&quot;
   notation; these values are first interpreted as numbers as in C and are then interpreted as byte strings in network
   byte order, including any leading zero bytes expressed in the notation.<a target="_blank" rel="noopener noreferrer"
      href="#section-1.2-8">¶</a></p>
<p data-id="yZAQXd">Words may be <em>italicized</em> for emphasis; in the plain text form of this specification, this is
   indicated by surrounding words with underscore characters. Verbatim text (e.g., names from a programming language)
   may be set in <code>monospace</code> type; in plain text, this is approximated somewhat ambiguously by surrounding
   the text in double quotes (which also retain their usual meaning).<a target="_blank" rel="noopener noreferrer"
      href="#section-1.2-9">¶</a></p>
<h2 data-id="80Ggf5"><a target="_blank" rel="noopener noreferrer" href="#section-2">2. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-cbor-data-models">CBOR Data Models</a></h2>
<p data-id="xN6Q2n">CBOR is explicit about its generic data model, which defines the set of all data items that can be
   represented in CBOR. Its basic generic data model is extensible by the registration of &quot;simple values&quot; and
   tags. Applications can then create a subset of the resulting extended generic data model to build their specific data
   models.<a target="_blank" rel="noopener noreferrer" href="#section-2-1">¶</a></p>
<p data-id="8QZGme">Within environments that can represent the data items in the generic data model, generic CBOR
   encoders and decoders can be implemented (which usually involves defining additional implementation data types for
   those data items that do not already have a natural representation in the environment). The ability to provide
   generic encoders and decoders is an explicit design goal of CBOR; however, many applications will provide their own
   application-specific encoders and/or decoders.<a target="_blank" rel="noopener noreferrer" href="#section-2-2">¶</a>
</p>
<p data-id="YTDMri">In the basic (unextended) generic data model defined in <a target="_blank" rel="noopener noreferrer"
      href="#encoding">Section 3</a>, a data item is one of the following:<a target="_blank" rel="noopener noreferrer"
      href="#section-2-3">¶</a></p>
<ol>
   <li>
      <p data-id="TQzeIa">an integer in the range -2<sup>64</sup>..2<sup>64</sup>-1 inclusive<a target="_blank"
            rel="noopener noreferrer" href="#section-2-4.1">¶</a></p>
   </li>
   <li>
      <p data-id="9j9keK">a simple value, identified by a number between 0 and 255, but distinct from that number
         itself<a target="_blank" rel="noopener noreferrer" href="#section-2-4.2">¶</a></p>
   </li>
   <li>
      <p data-id="Er98nW">a floating-point value, distinct from an integer, out of the set representable by IEEE 754
         binary64 (including non-finites) [<a target="_blank" rel="noopener noreferrer" href="#IEEE754">IEEE754</a>]<a
            target="_blank" rel="noopener noreferrer" href="#section-2-4.3">¶</a></p>
   </li>
   <li>
      <p data-id="o0jzId">a sequence of zero or more bytes (&quot;byte string&quot;)<a target="_blank"
            rel="noopener noreferrer" href="#section-2-4.4">¶</a></p>
   </li>
   <li>
      <p data-id="FJqriv">a sequence of zero or more Unicode code points (&quot;text string&quot;)<a target="_blank"
            rel="noopener noreferrer" href="#section-2-4.5">¶</a></p>
   </li>
   <li>
      <p data-id="XOH3sr">a sequence of zero or more data items (&quot;array&quot;)<a target="_blank"
            rel="noopener noreferrer" href="#section-2-4.6">¶</a></p>
   </li>
   <li>
      <p data-id="EwPF27">a mapping (mathematical function) from zero or more data items (&quot;keys&quot;) each to a
         data item (&quot;values&quot;), (&quot;map&quot;)<a target="_blank" rel="noopener noreferrer"
            href="#section-2-4.7">¶</a></p>
   </li>
   <li>
      <p data-id="x5IZZK">a tagged data item (&quot;tag&quot;), comprising a tag number (an integer in the range
         0..2<sup>64</sup>-1) and the tag content (a data item)<a target="_blank" rel="noopener noreferrer"
            href="#section-2-4.8">¶</a></p>
   </li>
</ol>
<p data-id="f6wO3P">Note that integer and floating-point values are distinct in this model, even if they have the same
   numeric value.<a target="_blank" rel="noopener noreferrer" href="#section-2-5">¶</a></p>
<p data-id="SsThNY">Also note that serialization variants are not visible at the generic data model level. This
   deliberate absence of visibility includes the number of bytes of the encoded floating-point value. It also includes
   the choice of encoding for an &quot;argument&quot; (see <a target="_blank" rel="noopener noreferrer"
      href="#encoding">Section 3</a>) such as the encoding for an integer, the encoding for the length of a text or byte
   string, the encoding for the number of elements in an array or pairs in a map, or the encoding for a tag number.<a
      target="_blank" rel="noopener noreferrer" href="#section-2-6">¶</a></p>
<h3 data-id="s40QmU"><a target="_blank" rel="noopener noreferrer" href="#section-2.1">2.1. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-extended-generic-data-model">Extended Generic Data Models</a></h3>
<p data-id="6fuA8m">This basic generic data model has been extended in this document by the registration of a number of
   simple values and tag numbers, such as:<a target="_blank" rel="noopener noreferrer" href="#section-2.1-1">¶</a></p>
<ol>
   <li>
      <p data-id="dPgxzj"><code>false</code>, <code>true</code>, <code>null</code>, and <code>undefined</code> (simple
         values identified by 20..23, <a target="_blank" rel="noopener noreferrer" href="#fpnocont">Section 3.3</a>)<a
            target="_blank" rel="noopener noreferrer" href="#section-2.1-2.1">¶</a></p>
   </li>
   <li>
      <p data-id="tcsN7U">integer and floating-point values with a larger range and precision than the above (tag
         numbers 2 to 5, <a target="_blank" rel="noopener noreferrer" href="#tags">Section 3.4</a>)<a target="_blank"
            rel="noopener noreferrer" href="#section-2.1-2.2">¶</a></p>
   </li>
   <li>
      <p data-id="tzzrSD">application data types such as a point in time or date/time string defined in RFC 3339 (tag
         numbers 1 and 0, <a target="_blank" rel="noopener noreferrer" href="#tags">Section 3.4</a>)<a target="_blank"
            rel="noopener noreferrer" href="#section-2.1-2.3">¶</a></p>
   </li>
</ol>
<p data-id="S32_Za">Additional elements of the extended generic data model can be (and have been) defined via the IANA
   registries created for CBOR. Even if such an extension is unknown to a generic encoder or decoder, data items using
   that extension can be passed to or from the application by representing them at the application interface within the
   basic generic data model, i.e., as generic simple values or generic tags.<a target="_blank" rel="noopener noreferrer"
      href="#section-2.1-3">¶</a></p>
<p data-id="SZ6kv1">In other words, the basic generic data model is stable as defined in this document, while the
   extended generic data model expands by the registration of new simple values or tag numbers, but never shrinks.<a
      target="_blank" rel="noopener noreferrer" href="#section-2.1-4">¶</a></p>
<p data-id="z39OLQ">While there is a strong expectation that generic encoders and decoders can represent
   <code>false</code>, <code>true</code>, and <code>null</code> (<code>undefined</code> is intentionally omitted) in the
   form appropriate for their programming environment, the implementation of the data model extensions created by tags
   is truly optional and a matter of implementation quality.<a target="_blank" rel="noopener noreferrer"
      href="#section-2.1-5">¶</a>
</p>
<h3 data-id="TVn3cC"><a target="_blank" rel="noopener noreferrer" href="#section-2.2">2.2. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-specific-data-models">Specific Data Models</a></h3>
<p data-id="-JZ_NY">The specific data model for a CBOR-based protocol usually takes a subset of the extended generic
   data model and assigns application semantics to the data items within this subset and its components. When
   documenting such specific data models and specifying the types of data items, it is preferable to identify the types
   by their generic data model names (&quot;negative integer&quot;, &quot;array&quot;) instead of referring to aspects
   of their CBOR representation (&quot;major type 1&quot;, &quot;major type 4&quot;).<a target="_blank"
      rel="noopener noreferrer" href="#section-2.2-1">¶</a></p>
<p data-id="6RJ679">Specific data models can also specify value equivalency (including values of different types) for
   the purposes of map keys and encoder freedom. For example, in the generic data model, a valid map MAY have both
   <code>0</code> and <code>0.0</code> as keys, and an encoder MUST NOT encode <code>0.0</code> as an integer (major
   type 0, <a target="_blank" rel="noopener noreferrer" href="#majortypes">Section 3.1</a>). However, if a specific data
   model declares that floating-point and integer representations of integral values are equivalent, using both map keys
   <code>0</code> and <code>0.0</code> in a single map would be considered duplicates, even while encoded as different
   major types, and so invalid; and an encoder could encode integral-valued floats as integers or vice versa, perhaps to
   save encoded bytes.<a target="_blank" rel="noopener noreferrer" href="#section-2.2-2">¶</a>
</p>
<h2 data-id="OxaMyx"><a target="_blank" rel="noopener noreferrer" href="#section-3">3. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-specification-of-the-cbor-e">Specification of the CBOR Encoding</a></h2>
<p data-id="Onp4TW">A CBOR data item (<a target="_blank" rel="noopener noreferrer" href="#cbor-data-models">Section
      2</a>) is encoded to or decoded from a byte string carrying a well-formed encoded data item as described in this
   section. The encoding is summarized in <a target="_blank" rel="noopener noreferrer" href="#jumptable">Table 7</a> in
   <a target="_blank" rel="noopener noreferrer" href="#jump-table">Appendix B</a>, indexed by the initial byte. An
   encoder MUST produce only well-formed encoded data items. A decoder MUST NOT return a decoded data item when it
   encounters input that is not a well-formed encoded CBOR data item (this does not detract from the usefulness of
   diagnostic and recovery tools that might make available some information from a damaged encoded CBOR data item).<a
      target="_blank" rel="noopener noreferrer" href="#section-3-1">¶</a>
</p>
<p data-id="iBygd3">The initial byte of each encoded data item contains both information about the major type (the
   high-order 3 bits, described in <a target="_blank" rel="noopener noreferrer" href="#majortypes">Section 3.1</a>) and
   additional information (the low-order 5 bits). With a few exceptions, the additional information&apos;s value
   describes how to load an unsigned integer &quot;argument&quot;:<a target="_blank" rel="noopener noreferrer"
      href="#section-3-2">¶</a></p>
<p data-id="raUMey">Less than 24:</p>
<p data-id="5lQFS2"> The argument&apos;s value is the value of the additional information.<a target="_blank"
      rel="noopener noreferrer" href="#section-3-3.2">¶</a></p>
<p data-id="_JLTCN">24, 25, 26, or 27:</p>
<p data-id="7SneeB"> The argument&apos;s value is held in the following 1, 2, 4, or 8 bytes, respectively, in network
   byte order. For major type 7 and additional information value 25, 26, 27, these bytes are not used as an integer
   argument, but as a floating-point value (see <a target="_blank" rel="noopener noreferrer" href="#fpnocont">Section
      3.3</a>).<a target="_blank" rel="noopener noreferrer" href="#section-3-3.4">¶</a></p>
<p data-id="Zm2kkL">28, 29, 30:</p>
<p data-id="pFJjkP"> These values are reserved for future additions to the CBOR format. In the present version of CBOR,
   the encoded item is not well-formed.<a target="_blank" rel="noopener noreferrer" href="#section-3-3.6">¶</a></p>
<p data-id="jvfvTY">31:</p>
<p data-id="obAfAa"> No argument value is derived. If the major type is 0, 1, or 6, the encoded item is not well-formed.
   For major types 2 to 5, the item&apos;s length is indefinite, and for major type 7, the byte does not constitute a
   data item at all but terminates an indefinite-length item; all are described in <a target="_blank"
      rel="noopener noreferrer" href="#indefinite">Section 3.2</a>.<a target="_blank" rel="noopener noreferrer"
      href="#section-3-3.8">¶</a></p>
<p data-id="3vEKFP">The initial byte and any additional bytes consumed to construct the argument are collectively
   referred to as the <em>head</em> of the data item.<a target="_blank" rel="noopener noreferrer"
      href="#section-3-4">¶</a></p>
<p data-id="kMN3UJ">The meaning of this argument depends on the major type. For example, in major type 0, the argument
   is the value of the data item itself (and in major type 1, the value of the data item is computed from the argument);
   in major type 2 and 3, it gives the length of the string data in bytes that follow; and in major types 4 and 5, it is
   used to determine the number of data items enclosed.<a target="_blank" rel="noopener noreferrer"
      href="#section-3-5">¶</a></p>
<p data-id="rNVQX7">If the encoded sequence of bytes ends before the end of a data item, that item is not well-formed.
   If the encoded sequence of bytes still has bytes remaining after the outermost encoded item is decoded, that encoding
   is not a single well-formed CBOR item. Depending on the application, the decoder may either treat the encoding as not
   well-formed or just identify the start of the remaining bytes to the application.<a target="_blank"
      rel="noopener noreferrer" href="#section-3-6">¶</a></p>
<p data-id="74wUn5">A CBOR decoder implementation can be based on a jump table with all 256 defined values for the
   initial byte (<a target="_blank" rel="noopener noreferrer" href="#jumptable">Table 7</a>). A decoder in a constrained
   implementation can instead use the structure of the initial byte and following bytes for more compact code (see <a
      target="_blank" rel="noopener noreferrer" href="#pseudocode">Appendix C</a> for a rough impression of how this
   could look).<a target="_blank" rel="noopener noreferrer" href="#section-3-7">¶</a></p>
<h3 data-id="h-6zxa"><a target="_blank" rel="noopener noreferrer" href="#section-3.1">3.1. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-major-types">Major Types</a></h3>
<p data-id="OlS3Vw">The following lists the major types and the additional information and other bytes associated with
   the type.<a target="_blank" rel="noopener noreferrer" href="#section-3.1-1">¶</a></p>
<p data-id="kRqbg5">Major type 0:</p>
<p data-id="Qeuczd"> An unsigned integer in the range 0..2<sup>64</sup>-1 inclusive. The value of the encoded item is
   the argument itself. For example, the integer 10 is denoted as the one byte 0b000_01010 (major type 0, additional
   information 10). The integer 500 would be 0b000_11001 (major type 0, additional information 25) followed by the two
   bytes 0x01f4, which is 500 in decimal.<a target="_blank" rel="noopener noreferrer" href="#section-3.1-2.2">¶</a></p>
<p data-id="Evn7X6">Major type 1:</p>
<p data-id="X7QUCM"> A negative integer in the range -2<sup>64</sup>..-1 inclusive. The value of the item is -1 minus
   the argument. For example, the integer -500 would be 0b001_11001 (major type 1, additional information 25) followed
   by the two bytes 0x01f3, which is 499 in decimal.<a target="_blank" rel="noopener noreferrer"
      href="#section-3.1-2.4">¶</a></p>
<p data-id="_Cu1P6">Major type 2:</p>
<p data-id="l0ZMCV"> A byte string. The number of bytes in the string is equal to the argument. For example, a byte
   string whose length is 5 would have an initial byte of 0b010_00101 (major type 2, additional information 5 for the
   length), followed by 5 bytes of binary content. A byte string whose length is 500 would have 3 initial bytes of
   0b010_11001 (major type 2, additional information 25 to indicate a two-byte length) followed by the two bytes 0x01f4
   for a length of 500, followed by 500 bytes of binary content.<a target="_blank" rel="noopener noreferrer"
      href="#section-3.1-2.6">¶</a></p>
<p data-id="A5CvEr">Major type 3:</p>
<p data-id="Jn1X6E"> A text string (<a target="_blank" rel="noopener noreferrer" href="#cbor-data-models">Section 2</a>)
   encoded as UTF-8 [<a target="_blank" rel="noopener noreferrer" href="#RFC3629">RFC3629</a>]. The number of bytes in
   the string is equal to the argument. A string containing an invalid UTF-8 sequence is well-formed but invalid (<a
      target="_blank" rel="noopener noreferrer" href="#terminology">Section 1.2</a>). This type is provided for systems
   that need to interpret or display human-readable text, and allows the differentiation between unstructured bytes and
   text that has a specified repertoire (that of Unicode) and encoding (UTF-8). In contrast to formats such as JSON, the
   Unicode characters in this type are never escaped. Thus, a newline character (U+000A) is always represented in a
   string as the byte 0x0a, and never as the bytes 0x5c6e (the characters &quot;\&quot; and &quot;n&quot;) nor as
   0x5c7530303061 (the characters &quot;\&quot;, &quot;u&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, and
   &quot;a&quot;).<a target="_blank" rel="noopener noreferrer" href="#section-3.1-2.8">¶</a></p>
<p data-id="5NmwhW">Major type 4:</p>
<p data-id="a7YfwR"> An array of data items. In other formats, arrays are also called lists, sequences, or tuples (a
   &quot;CBOR sequence&quot; is something slightly different, though [<a target="_blank" rel="noopener noreferrer"
      href="#RFC8742">RFC8742</a>]). The argument is the number of data items in the array. Items in an array do not
   need to all be of the same type. For example, an array that contains 10 items of any type would have an initial byte
   of 0b100_01010 (major type 4, additional information 10 for the length) followed by the 10 remaining items.<a
      target="_blank" rel="noopener noreferrer" href="#section-3.1-2.10">¶</a></p>
<p data-id="4weExn">Major type 5:</p>
<p data-id="5Gt_2_"> A map of pairs of data items. Maps are also called tables, dictionaries, hashes, or objects (in
   JSON). A map is comprised of pairs of data items, each pair consisting of a key that is immediately followed by a
   value. The argument is the number of <em>pairs</em> of data items in the map. For example, a map that contains 9
   pairs would have an initial byte of 0b101_01001 (major type 5, additional information 9 for the number of pairs)
   followed by the 18 remaining items. The first item is the first key, the second item is the first value, the third
   item is the second key, and so on. Because items in a map come in pairs, their total number is always even: a map
   that contains an odd number of items (no value data present after the last key data item) is not well-formed. A map
   that has duplicate keys may be well-formed, but it is not valid, and thus it causes indeterminate decoding; see also
   <a target="_blank" rel="noopener noreferrer" href="#map-keys">Section 5.6</a>.<a target="_blank"
      rel="noopener noreferrer" href="#section-3.1-2.12">¶</a>
</p>
<p data-id="sieJ4A">Major type 6:</p>
<p data-id="N3luKy"> A tagged data item (&quot;tag&quot;) whose tag number, an integer in the range 0..2<sup>64</sup>-1
   inclusive, is the argument and whose enclosed data item (<em>tag content</em>) is the single encoded data item that
   follows the head. See <a target="_blank" rel="noopener noreferrer" href="#tags">Section 3.4</a>.<a target="_blank"
      rel="noopener noreferrer" href="#section-3.1-2.14">¶</a></p>
<p data-id="ir-dVW">Major type 7:</p>
<p data-id="TviUOr"> Floating-point numbers and simple values, as well as the &quot;break&quot; stop code. See <a
      target="_blank" rel="noopener noreferrer" href="#fpnocont">Section 3.3</a>.<a target="_blank"
      rel="noopener noreferrer" href="#section-3.1-2.16">¶</a></p>
<p data-id="oVNiAJ">These eight major types lead to a simple table showing which of the 256 possible values for the
   initial byte of a data item are used (<a target="_blank" rel="noopener noreferrer" href="#jumptable">Table 7</a>).<a
      target="_blank" rel="noopener noreferrer" href="#section-3.1-3">¶</a></p>
<p data-id="RlEkis">In major types 6 and 7, many of the possible values are reserved for future specification. See <a
      target="_blank" rel="noopener noreferrer" href="#ianacons">Section 9</a> for more information on these values.<a
      target="_blank" rel="noopener noreferrer" href="#section-3.1-4">¶</a></p>
<p data-id="-zBeXm"><a target="_blank" rel="noopener noreferrer" href="#major-type-table">Table 1</a> summarizes the
   major types defined by CBOR, ignoring <a target="_blank" rel="noopener noreferrer" href="#indefinite">Section 3.2</a>
   for now. The number N in this table stands for the argument.<a target="_blank" rel="noopener noreferrer"
      href="#section-3.1-5">¶</a></p>
<table>
   <tbody>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="QOOg3M"><a target="_blank" rel="noopener noreferrer" href="#table-1">Table 1</a>: <a
                  target="_blank" rel="noopener noreferrer" href="#name-overview-over-the-definite-">Overview over the
                  Definite-Length Use of CBOR Major Types (N = Argument)</a></p>
         </td>
      </tr>
      <tr>
         <th colspan="1" rowspan="1">
            <p data-id="Qzpob0">Major Type</p>
         </th>
         <th colspan="1" rowspan="1">
            <p data-id="nr2jZZ">Meaning</p>
         </th>
         <th colspan="1" rowspan="1">
            <p data-id="5dJrkP">Content</p>
         </th>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="MYLTBg">0</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="F0Yx3t">unsigned integer N</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="owSv89">-</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="-pEDLs">1</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="d1hMgI">negative integer -1-N</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="_Kqxf8">-</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="UyxVy5">2</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="fHn4c5">byte string</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="f7ULpT">N bytes</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="HlI62e">3</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="c6Nt37">text string</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="5FVJW0">N bytes (UTF-8 text)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="bqJReZ">4</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="oy6swM">array</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="Ffz8pn">N data items (elements)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="MOX_Ky">5</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="C8MBXO">map</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="8vCVAY">2N data items (key/value pairs)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="jXOxRd">6</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="-wubIX">tag of number N</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="3bu1fT">1 data item</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="3Q7ap9">7</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="PU_qhO">simple/float</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="FLLWp6">-</p>
         </td>
      </tr>
   </tbody>
</table>
<h3 data-id="vbwJQs"><a target="_blank" rel="noopener noreferrer" href="#section-3.2">3.2. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-indefinite-lengths-for-some">Indefinite Lengths for Some Major Types</a>
</h3>
<p data-id="vDVlSl">Four CBOR items (arrays, maps, byte strings, and text strings) can be encoded with an indefinite
   length using additional information value 31. This is useful if the encoding of the item needs to begin before the
   number of items inside the array or map, or the total length of the string, is known. (The ability to start sending a
   data item before all of it is known is often referred to as &quot;streaming&quot; within that data item.)<a
      target="_blank" rel="noopener noreferrer" href="#section-3.2-1">¶</a></p>
<p data-id="ZaU-Rt">Indefinite-length arrays and maps are dealt with differently than indefinite-length strings (byte
   strings and text strings).<a target="_blank" rel="noopener noreferrer" href="#section-3.2-2">¶</a></p>
<h4 data-id="2j2pSw"><a target="_blank" rel="noopener noreferrer" href="#section-3.2.1">3.2.1. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-the-break-stop-code">The &quot;break&quot; Stop Code</a></h4>
<p data-id="Pnvt0R">The &quot;break&quot; stop code is encoded with major type 7 and additional information value 31
   (0b111_11111). It is not itself a data item: it is just a syntactic feature to close an indefinite-length item.<a
      target="_blank" rel="noopener noreferrer" href="#section-3.2.1-1">¶</a></p>
<p data-id="KP8uF4">If the &quot;break&quot; stop code appears where a data item is expected, other than directly inside
   an indefinite-length string, array, or map -- for example, directly inside a definite-length array or map -- the
   enclosing item is not well-formed.<a target="_blank" rel="noopener noreferrer" href="#section-3.2.1-2">¶</a></p>
<h4 data-id="-FE7Vh"><a target="_blank" rel="noopener noreferrer" href="#section-3.2.2">3.2.2. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-indefinite-length-arrays-an">Indefinite-Length Arrays and Maps</a></h4>
<p data-id="E38SpB">Indefinite-length arrays and maps are represented using their major type with the additional
   information value of 31, followed by an arbitrary-length sequence of zero or more items for an array or key/value
   pairs for a map, followed by the &quot;break&quot; stop code (<a target="_blank" rel="noopener noreferrer"
      href="#break">Section 3.2.1</a>). In other words, indefinite-length arrays and maps look identical to other arrays
   and maps except for beginning with the additional information value of 31 and ending with the &quot;break&quot; stop
   code.<a target="_blank" rel="noopener noreferrer" href="#section-3.2.2-1">¶</a></p>
<p data-id="vFDbp-">If the &quot;break&quot; stop code appears after a key in a map, in place of that key&apos;s value,
   the map is not well-formed.<a target="_blank" rel="noopener noreferrer" href="#section-3.2.2-2">¶</a></p>
<p data-id="GISysx">There is no restriction against nesting indefinite-length array or map items. A &quot;break&quot;
   only terminates a single item, so nested indefinite-length items need exactly as many &quot;break&quot; stop codes as
   there are type bytes starting an indefinite-length item.<a target="_blank" rel="noopener noreferrer"
      href="#section-3.2.2-3">¶</a></p>
<p data-id="WturNO">For example, assume an encoder wants to represent the abstract array [1, [2, 3], [4, 5]]. The
   definite-length encoding would be 0x8301820203820405:<a target="_blank" rel="noopener noreferrer"
      href="#section-3.2.2-4">¶</a></p>
<pre data-id="XnXmBb"><code>
83        -- Array of length 3
   01     -- 1
   82     -- Array of length 2
      02  -- 2
      03  -- 3
   82     -- Array of length 2
      04  -- 4
      05  -- 5
</code></pre>
<p data-id="sQrC2V"><a target="_blank" rel="noopener noreferrer" href="#section-3.2.2-5">¶</a></p>
<p data-id="Ai1ONa">Indefinite-length encoding could be applied independently to each of the three arrays encoded in
   this data item, as required, leading to representations such as:<a target="_blank" rel="noopener noreferrer"
      href="#section-3.2.2-6">¶</a></p>
<pre data-id="AErK0-"><code>
0x9f018202039f0405ffff
9F        -- Start indefinite-length array
   01     -- 1
   82     -- Array of length 2
      02  -- 2
      03  -- 3
   9F     -- Start indefinite-length array
      04  -- 4
      05  -- 5
      FF  -- &quot;break&quot; (inner array)
   FF     -- &quot;break&quot; (outer array)
</code></pre>
<p data-id="1fWlhq"><a target="_blank" rel="noopener noreferrer" href="#section-3.2.2-7">¶</a></p>
<pre data-id="OnuAdL"><code>
0x9f01820203820405ff
9F        -- Start indefinite-length array
   01     -- 1
   82     -- Array of length 2
      02  -- 2
      03  -- 3
   82     -- Array of length 2
      04  -- 4
      05  -- 5
   FF     -- &quot;break&quot;
</code></pre>
<p data-id="FaZno9"><a target="_blank" rel="noopener noreferrer" href="#section-3.2.2-8">¶</a></p>
<pre data-id="uwFHRc"><code>
0x83018202039f0405ff
83        -- Array of length 3
   01     -- 1
   82     -- Array of length 2
      02  -- 2
      03  -- 3
   9F     -- Start indefinite-length array
      04  -- 4
      05  -- 5
      FF  -- &quot;break&quot;
</code></pre>
<p data-id="1vc1De"><a target="_blank" rel="noopener noreferrer" href="#section-3.2.2-9">¶</a></p>
<pre data-id="GGqiTr"><code>
0x83019f0203ff820405
83        -- Array of length 3
   01     -- 1
   9F     -- Start indefinite-length array
      02  -- 2
      03  -- 3
      FF  -- &quot;break&quot;
   82     -- Array of length 2
      04  -- 4
      05  -- 5
</code></pre>
<p data-id="OcKxM-"><a target="_blank" rel="noopener noreferrer" href="#section-3.2.2-10">¶</a></p>
<p data-id="gOIryF">An example of an indefinite-length map (that happens to have two key/value pairs) might be:<a
      target="_blank" rel="noopener noreferrer" href="#section-3.2.2-11">¶</a></p>
<pre data-id="1sK1fa"><code>
0xbf6346756ef563416d7421ff
BF           -- Start indefinite-length map
   63        -- First key, UTF-8 string length 3
      46756e --   &quot;Fun&quot;
   F5        -- First value, true
   63        -- Second key, UTF-8 string length 3
      416d74 --   &quot;Amt&quot;
   21        -- Second value, -2
   FF        -- &quot;break&quot;
</code></pre>
<p data-id="Nilenk"><a target="_blank" rel="noopener noreferrer" href="#section-3.2.2-12">¶</a></p>
<h4 data-id="oxHXGN"><a target="_blank" rel="noopener noreferrer" href="#section-3.2.3">3.2.3. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-indefinite-length-byte-stri">Indefinite-Length Byte Strings and Text
      Strings</a></h4>
<p data-id="Mpyewd">Indefinite-length strings are represented by a byte containing the major type for byte string or
   text string with an additional information value of 31, followed by a series of zero or more strings of the specified
   type (&quot;chunks&quot;) that have definite lengths, and finished by the &quot;break&quot; stop code (<a
      target="_blank" rel="noopener noreferrer" href="#break">Section 3.2.1</a>). The data item represented by the
   indefinite-length string is the concatenation of the chunks. If no chunks are present, the data item is an empty
   string of the specified type. Zero-length chunks, while not particularly useful, are permitted.<a target="_blank"
      rel="noopener noreferrer" href="#section-3.2.3-1">¶</a></p>
<p data-id="XS4keq">If any item between the indefinite-length string indicator (0b010_11111 or 0b011_11111) and the
   &quot;break&quot; stop code is not a definite-length string item of the same major type, the string is not
   well-formed.<a target="_blank" rel="noopener noreferrer" href="#section-3.2.3-2">¶</a></p>
<p data-id="WDwe4Q">The design does not allow nesting indefinite-length strings as chunks into indefinite-length
   strings. If it were allowed, it would require decoder implementations to keep a stack, or at least a count, of
   nesting levels. It is unnecessary on the encoder side because the inner indefinite-length string would consist of
   chunks, and these could instead be put directly into the outer indefinite-length string.<a target="_blank"
      rel="noopener noreferrer" href="#section-3.2.3-3">¶</a></p>
<p data-id="o_vgeD">If any definite-length text string inside an indefinite-length text string is invalid, the
   indefinite-length text string is invalid. Note that this implies that the UTF-8 bytes of a single Unicode code point
   (scalar value) cannot be spread between chunks: a new chunk of a text string can only be started at a code point
   boundary.<a target="_blank" rel="noopener noreferrer" href="#section-3.2.3-4">¶</a></p>
<p data-id="K4cGvS">For example, assume an encoded data item consisting of the bytes:<a target="_blank"
      rel="noopener noreferrer" href="#section-3.2.3-5">¶</a></p>
<pre data-id="8f9OMX"><code>
0b010_11111 0b010_00100 0xaabbccdd 0b010_00011 0xeeff99 0b111_11111
5F              -- Start indefinite-length byte string
   44           -- Byte string of length 4
      aabbccdd  -- Bytes content
   43           -- Byte string of length 3
      eeff99    -- Bytes content
   FF           -- &quot;break&quot;
</code></pre>
<p data-id="44EQI0"><a target="_blank" rel="noopener noreferrer" href="#section-3.2.3-6">¶</a></p>
<p data-id="xYro-0">After decoding, this results in a single byte string with seven bytes: 0xaabbccddeeff99.<a
      target="_blank" rel="noopener noreferrer" href="#section-3.2.3-7">¶</a></p>
<h4 data-id="FBkQoG"><a target="_blank" rel="noopener noreferrer" href="#section-3.2.4">3.2.4. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-summary-of-indefinite-lengt">Summary of Indefinite-Length Use of Major
      Types</a></h4>
<p data-id="fBBeHL"><a target="_blank" rel="noopener noreferrer" href="#major-type-indef-table">Table 2</a> summarizes
   the major types defined by CBOR as used for indefinite-length encoding (with additional information set to 31).<a
      target="_blank" rel="noopener noreferrer" href="#section-3.2.4-1">¶</a></p>
<table>
   <tbody>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="dk9Swe"><a target="_blank" rel="noopener noreferrer" href="#table-2">Table 2</a>: <a
                  target="_blank" rel="noopener noreferrer" href="#name-overview-of-the-indefinite-">Overview of the
                  Indefinite-Length Use of CBOR Major Types (Additional Information = 31)</a></p>
         </td>
      </tr>
      <tr>
         <th colspan="1" rowspan="1">
            <p data-id="96P80w">Major Type</p>
         </th>
         <th colspan="1" rowspan="1">
            <p data-id="yqEVSq">Meaning</p>
         </th>
         <th colspan="1" rowspan="1">
            <p data-id="aTVzap">Enclosed up to &quot;break&quot; Stop Code</p>
         </th>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="BwtkPI">0</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="TXimgl">(not well-formed)</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="0xKGZ3">-</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="nNzs-3">1</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="FVI2lB">(not well-formed)</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="O0D8-1">-</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="4Bo-vr">2</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="OAfrzy">byte string</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="usJDjq">definite-length byte strings</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="MVNwTx">3</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="h2w78S">text string</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="UZ7omq">definite-length text strings</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="LuliOf">4</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="QGHxb9">array</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="F7rRww">data items (elements)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="ZjCCrD">5</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="LdEHmO">map</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="hRFD_3">data items (key/value pairs)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="fHMzj8">6</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="Ny9Ms_">(not well-formed)</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="FO-2Fh">-</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="QTGoQ2">7</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="_YaN_h">&quot;break&quot; stop code</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="ZsWgXf">-</p>
         </td>
      </tr>
   </tbody>
</table>
<h3 data-id="Tx-XRM"><a target="_blank" rel="noopener noreferrer" href="#section-3.3">3.3. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-floating-point-numbers-and-">Floating-Point Numbers and Values with No
      Content</a></h3>
<p data-id="XF18Cr">Major type 7 is for two types of data: floating-point numbers and &quot;simple values&quot; that do
   not need any content. Each value of the 5-bit additional information in the initial byte has its own separate
   meaning, as defined in <a target="_blank" rel="noopener noreferrer" href="#fpnoconttbl">Table 3</a>. Like the major
   types for integers, items of this major type do not carry content data; all the information is in the initial bytes
   (the head).<a target="_blank" rel="noopener noreferrer" href="#section-3.3-1">¶</a></p>
<table>
   <tbody>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="9q1Fjy"><a target="_blank" rel="noopener noreferrer" href="#table-3">Table 3</a>: <a
                  target="_blank" rel="noopener noreferrer" href="#name-values-for-additional-infor">Values for
                  Additional Information in Major Type 7</a></p>
         </td>
      </tr>
      <tr>
         <th colspan="1" rowspan="1">
            <p data-id="B2JV2e">5-Bit Value</p>
         </th>
         <th colspan="1" rowspan="1">
            <p data-id="eG05ss">Semantics</p>
         </th>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="BHDH0N">0..23</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="iKMIO9">Simple value (value 0..23)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="WidXCv">24</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="FnDyCR">Simple value (value 32..255 in following byte)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="H8TjqN">25</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="ivgeE6">IEEE 754 Half-Precision Float (16 bits follow)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="uJDBg1">26</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="Ki6VBf">IEEE 754 Single-Precision Float (32 bits follow)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="7V1hJX">27</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="JV3imH">IEEE 754 Double-Precision Float (64 bits follow)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="FgOr1N">28-30</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="nVdUjr">Reserved, not well-formed in the present document</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="Y62QCa">31</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="LOSuU3">&quot;break&quot; stop code for indefinite-length items (<a target="_blank"
                  rel="noopener noreferrer" href="#break">Section 3.2.1</a>)</p>
         </td>
      </tr>
   </tbody>
</table>
<p data-id="2wNb7O">As with all other major types, the 5-bit value 24 signifies a single-byte extension: it is followed
   by an additional byte to represent the simple value. (To minimize confusion, only the values 32 to 255 are used.)
   This maintains the structure of the initial bytes: as for the other major types, the length of these always depends
   on the additional information in the first byte. <a target="_blank" rel="noopener noreferrer"
      href="#fpnoconttbl2">Table 4</a> lists the numeric values assigned and available for simple values.<a
      target="_blank" rel="noopener noreferrer" href="#section-3.3-3">¶</a></p>
<table>
   <tbody>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="J9EDD4"><a target="_blank" rel="noopener noreferrer" href="#table-4">Table 4</a>: <a
                  target="_blank" rel="noopener noreferrer" href="#name-simple-values">Simple Values</a></p>
         </td>
      </tr>
      <tr>
         <th colspan="1" rowspan="1">
            <p data-id="tbR9RE">Value</p>
         </th>
         <th colspan="1" rowspan="1">
            <p data-id="ED762G">Semantics</p>
         </th>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="IpMsRT">0..19</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="0IvFIe">(unassigned)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="bJEjaB">20</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="kQuc0M">false</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="XGontn">21</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="lXtYbM">true</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="bPFl2Y">22</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="2m_nY_">null</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="CCQyLA">23</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="V3_x_r">undefined</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="FcMzZF">24..31</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="ASTBLN">(reserved)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="RCTuSR">32..255</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="HNZHxI">(unassigned)</p>
         </td>
      </tr>
   </tbody>
</table>
<p data-id="7eKoZL">An encoder MUST NOT issue two-byte sequences that start with 0xf8 (major type 7, additional
   information 24) and continue with a byte less than 0x20 (32 decimal). Such sequences are not well-formed. (This
   implies that an encoder cannot encode <code>false</code>, <code>true</code>, <code>null</code>, or
   <code>undefined</code> in two-byte sequences and that only the one-byte variants of these are well-formed; more
   generally speaking, each simple value only has a single representation variant).<a target="_blank"
      rel="noopener noreferrer" href="#section-3.3-5">¶</a>
</p>
<p data-id="b_8Lb_">The 5-bit values of 25, 26, and 27 are for 16-bit, 32-bit, and 64-bit IEEE 754 binary floating-point
   values [<a target="_blank" rel="noopener noreferrer" href="#IEEE754">IEEE754</a>]. These floating-point values are
   encoded in the additional bytes of the appropriate size. (See <a target="_blank" rel="noopener noreferrer"
      href="#half-precision">Appendix D</a> for some information about 16-bit floating-point numbers.)<a target="_blank"
      rel="noopener noreferrer" href="#section-3.3-6">¶</a></p>
<h3 data-id="xFUd1-"><a target="_blank" rel="noopener noreferrer" href="#section-3.4">3.4. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-tagging-of-items">Tagging of Items</a></h3>
<p data-id="KM0nM0">In CBOR, a data item can be enclosed by a tag to give it some additional semantics, as uniquely
   identified by a <em>tag number</em>. The tag is major type 6, its argument (<a target="_blank"
      rel="noopener noreferrer" href="#encoding">Section 3</a>) indicates the tag number, and it contains a single
   enclosed data item, the <em>tag content</em>. (If a tag requires further structure to its content, this structure is
   provided by the enclosed data item.) We use the term <em>tag</em> for the entire data item consisting of both a tag
   number and the tag content: the tag content is the data item that is being tagged.<a target="_blank"
      rel="noopener noreferrer" href="#section-3.4-1">¶</a></p>
<p data-id="I9q7tQ">For example, assume that a byte string of length 12 is marked with a tag of number 2 to indicate it
   is an unsigned <em>bignum</em> (<a target="_blank" rel="noopener noreferrer" href="#bignums">Section 3.4.3</a>). The
   encoded data item would start with a byte 0b110_00010 (major type 6, additional information 2 for the tag number)
   followed by the encoded tag content: 0b010_01100 (major type 2, additional information 12 for the length) followed by
   the 12 bytes of the bignum.<a target="_blank" rel="noopener noreferrer" href="#section-3.4-2">¶</a></p>
<p data-id="xmZwXA">In the extended generic data model, a tag number&apos;s definition describes the additional
   semantics conveyed with the tag number. These semantics may include equivalence of some tagged data items with other
   data items, including some that can be represented in the basic generic data model. For instance, 0xc24101, a bignum
   the tag content of which is the byte string with the single byte 0x01, is equivalent to an integer 1, which could
   also be encoded as 0x01, 0x1801, or 0x190001. The tag definition may specify a preferred serialization (<a
      target="_blank" rel="noopener noreferrer" href="#preferred">Section 4.1</a>) that is recommended for generic
   encoders; this may prefer basic generic data model representations over ones that employ a tag.<a target="_blank"
      rel="noopener noreferrer" href="#section-3.4-3">¶</a></p>
<p data-id="eVfH0I">The tag definition usually defines which nested data items are valid for such tags. Tag definitions
   may restrict their content to a very specific syntactic structure, as the tags defined in this document do, or they
   may define their content more semantically. An example for the latter is how tags 40 and 1040 accept multiple ways to
   represent arrays [<a target="_blank" rel="noopener noreferrer" href="#RFC8746">RFC8746</a>].<a target="_blank"
      rel="noopener noreferrer" href="#section-3.4-4">¶</a></p>
<p data-id="vGl2dh">As a matter of convention, many tags do not accept <code>null</code> or <code>undefined</code>
   values as tag content; instead, the expectation is that a <code>null</code> or <code>undefined</code> value can be
   used in place of the entire tag; <a target="_blank" rel="noopener noreferrer" href="#epochdatetimesect">Section
      3.4.2</a> provides some further considerations for one specific tag about the handling of this convention in
   application protocols and in mapping to platform types.<a target="_blank" rel="noopener noreferrer"
      href="#section-3.4-5">¶</a></p>
<p data-id="5gXNrT">Decoders do not need to understand tags of every tag number, and tags may be of little value in
   applications where the implementation creating a particular CBOR data item and the implementation decoding that
   stream know the semantic meaning of each item in the data flow. The primary purpose of tags in this specification is
   to define common data types such as dates. A secondary purpose is to provide conversion hints when it is foreseen
   that the CBOR data item needs to be translated into a different format, requiring hints about the content of items.
   Understanding the semantics of tags is optional for a decoder; it can simply present both the tag number and the tag
   content to the application, without interpreting the additional semantics of the tag.<a target="_blank"
      rel="noopener noreferrer" href="#section-3.4-6">¶</a></p>
<p data-id="21rMP1">A tag applies semantics to the data item it encloses. Tags can nest: if tag A encloses tag B, which
   encloses data item C, tag A applies to the result of applying tag B on data item C.<a target="_blank"
      rel="noopener noreferrer" href="#section-3.4-7">¶</a></p>
<p data-id="0Hi784">IANA maintains a registry of tag numbers as described in <a target="_blank"
      rel="noopener noreferrer" href="#ianatags">Section 9.2</a>. <a target="_blank" rel="noopener noreferrer"
      href="#tagvalues">Table 5</a> provides a list of tag numbers that were defined in [<a target="_blank"
      rel="noopener noreferrer" href="#RFC7049">RFC7049</a>] with definitions in the rest of this section. (Tag number
   35 was also defined in [<a target="_blank" rel="noopener noreferrer" href="#RFC7049">RFC7049</a>]; a discussion of
   this tag number follows in <a target="_blank" rel="noopener noreferrer" href="#encodedtext">Section 3.4.5.3</a>.)
   Note that many other tag numbers have been defined since the publication of [<a target="_blank"
      rel="noopener noreferrer" href="#RFC7049">RFC7049</a>]; see the registry described at <a target="_blank"
      rel="noopener noreferrer" href="#ianatags">Section 9.2</a> for the complete list.<a target="_blank"
      rel="noopener noreferrer" href="#section-3.4-8">¶</a></p>
<table>
   <tbody>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="8yX6-c"><a target="_blank" rel="noopener noreferrer" href="#table-5">Table 5</a>: <a
                  target="_blank" rel="noopener noreferrer" href="#name-tag-numbers-defined-in-rfc-">Tag Numbers Defined
                  in RFC 7049</a></p>
         </td>
      </tr>
      <tr>
         <th colspan="1" rowspan="1">
            <p data-id="IsIc66">Tag</p>
         </th>
         <th colspan="1" rowspan="1">
            <p data-id="pkr9dc">Data Item</p>
         </th>
         <th colspan="1" rowspan="1">
            <p data-id="rtVrt0">Semantics</p>
         </th>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="ZtDcW5">0</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="W0ROfY">text string</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="ViYiio">Standard date/time string; see <a target="_blank" rel="noopener noreferrer"
                  href="#stringdatetimesect">Section 3.4.1</a></p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="pzt16W">1</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="yaZypU">integer or float</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="MNJHIM">Epoch-based date/time; see <a target="_blank" rel="noopener noreferrer"
                  href="#epochdatetimesect">Section 3.4.2</a></p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="HtRols">2</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="xRTjmG">byte string</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="Y2FYpZ">Unsigned bignum; see <a target="_blank" rel="noopener noreferrer"
                  href="#bignums">Section 3.4.3</a></p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="ZrPyvf">3</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="6jy4e_">byte string</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="WUNz8r">Negative bignum; see <a target="_blank" rel="noopener noreferrer"
                  href="#bignums">Section 3.4.3</a></p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="bdXRnI">4</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="0AvooG">array</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="Z1vOMK">Decimal fraction; see <a target="_blank" rel="noopener noreferrer"
                  href="#fractions">Section 3.4.4</a></p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="IRvyE4">5</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="9F2EOb">array</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="4sxcen">Bigfloat; see <a target="_blank" rel="noopener noreferrer" href="#fractions">Section
                  3.4.4</a></p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="uQTHNb">21</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="RQquYL">(any)</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="1zkoLt">Expected conversion to base64url encoding; see <a target="_blank"
                  rel="noopener noreferrer" href="#convexpect">Section 3.4.5.2</a></p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="UtCodS">22</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="9FHkBE">(any)</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="XhqAwm">Expected conversion to base64 encoding; see <a target="_blank" rel="noopener noreferrer"
                  href="#convexpect">Section 3.4.5.2</a></p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="MdGUGU">23</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="nYiB6i">(any)</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="1WrUia">Expected conversion to base16 encoding; see <a target="_blank" rel="noopener noreferrer"
                  href="#convexpect">Section 3.4.5.2</a></p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="miF7Hw">24</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="AepFJo">byte string</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="8w5-Vm">Encoded CBOR data item; see <a target="_blank" rel="noopener noreferrer"
                  href="#embedded-di">Section 3.4.5.1</a></p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="eT6Im_">32</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="8jBMYx">text string</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="Zlc8qn">URI; see <a target="_blank" rel="noopener noreferrer" href="#encodedtext">Section
                  3.4.5.3</a></p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="4z3xCm">33</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="QTIXMl">text string</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="fiJP9x">base64url; see <a target="_blank" rel="noopener noreferrer" href="#encodedtext">Section
                  3.4.5.3</a></p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="wDw4Qi">34</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="ygGEz7">text string</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="Q9c2yv">base64; see <a target="_blank" rel="noopener noreferrer" href="#encodedtext">Section
                  3.4.5.3</a></p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="JIRy3s">36</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="U8iIxy">text string</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="L5UDYS">MIME message; see <a target="_blank" rel="noopener noreferrer"
                  href="#encodedtext">Section 3.4.5.3</a></p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="jE4yut">55799</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="gZ5vDc">(any)</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="gdZkkA">Self-described CBOR; see <a target="_blank" rel="noopener noreferrer"
                  href="#self-describe">Section 3.4.6</a></p>
         </td>
      </tr>
   </tbody>
</table>
<p data-id="_cuHPr">Conceptually, tags are interpreted in the generic data model, not at (de-)serialization time. A
   small number of tags (at this time, tag number 25 and tag number 29 [<a target="_blank" rel="noopener noreferrer"
      href="#IANA.cbor-tags">IANA.cbor-tags</a>]) have been registered with semantics that may require processing at
   (de-)serialization time: the decoder needs to be aware of, and the encoder needs to be in control of, the exact
   sequence in which data items are encoded into the CBOR data item. This means these tags cannot be implemented on top
   of an arbitrary generic CBOR encoder/decoder (which might not reflect the serialization order for entries in a map at
   the data model level and vice versa); their implementation therefore typically needs to be integrated into the
   generic encoder/decoder. The definition of new tags with this property is NOT RECOMMENDED.<a target="_blank"
      rel="noopener noreferrer" href="#section-3.4-10">¶</a></p>
<p data-id="lpKFrm">IANA allocated tag numbers 65535, 4294967295, and 18446744073709551615 (binary all-ones in 16-bit,
   32-bit, and 64-bit). These can be used as a convenience for implementers who want a single-integer data structure to
   indicate either the presence of a specific tag or absence of a tag. That allocation is described in <a
      target="_blank" rel="noopener noreferrer"
      href="https://tools.ietf.org/html/draft-bormann-cbor-notable-tags-02#section-10">Section 10</a> of [<a
      target="_blank" rel="noopener noreferrer" href="#I-D.bormann-cbor-notable-tags">CBOR-TAGS</a>]. These tags are not
   intended to occur in actual CBOR data items; implementations MAY flag such an occurrence as an error.<a
      target="_blank" rel="noopener noreferrer" href="#section-3.4-11">¶</a></p>
<p data-id="Om0zZk">Protocols can extend the generic data model (<a target="_blank" rel="noopener noreferrer"
      href="#cbor-data-models">Section 2</a>) with data items representing points in time by using tag numbers 0 and 1,
   with arbitrarily sized integers by using tag numbers 2 and 3, and with floating-point values of arbitrary size and
   precision by using tag numbers 4 and 5.<a target="_blank" rel="noopener noreferrer" href="#section-3.4-12">¶</a></p>
<h4 data-id="iEv1PE"><a target="_blank" rel="noopener noreferrer" href="#section-3.4.1">3.4.1. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-standard-date-time-string">Standard Date/Time String</a></h4>
<p data-id="Dj446_">Tag number 0 contains a text string in the standard format described by the <code>date-time</code>
   production in [<a target="_blank" rel="noopener noreferrer" href="#RFC3339">RFC3339</a>], as refined by <a
      target="_blank" rel="noopener noreferrer" href="https://www.rfc-editor.org/rfc/rfc4287#section-3.3">Section
      3.3</a> of [<a target="_blank" rel="noopener noreferrer" href="#RFC4287">RFC4287</a>], representing the point in
   time described there. A nested item of another type or a text string that doesn&apos;t match the format described in
   [<a target="_blank" rel="noopener noreferrer" href="#RFC4287">RFC4287</a>] is invalid.<a target="_blank"
      rel="noopener noreferrer" href="#section-3.4.1-1">¶</a></p>
<h4 data-id="-uXe4q"><a target="_blank" rel="noopener noreferrer" href="#section-3.4.2">3.4.2. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-epoch-based-date-time">Epoch-Based Date/Time</a></h4>
<p data-id="T7GCIg">Tag number 1 contains a numerical value counting the number of seconds from 1970-01-01T00:00Z in UTC
   time to the represented point in civil time.<a target="_blank" rel="noopener noreferrer"
      href="#section-3.4.2-1">¶</a></p>
<p data-id="SBALZ_">The tag content MUST be an unsigned or negative integer (major types 0 and 1) or a floating-point
   number (major type 7 with additional information 25, 26, or 27). Other contained types are invalid.<a target="_blank"
      rel="noopener noreferrer" href="#section-3.4.2-2">¶</a></p>
<p data-id="m0KSXs">Nonnegative values (major type 0 and nonnegative floating-point numbers) stand for time values on or
   after 1970-01-01T00:00Z UTC and are interpreted according to POSIX [<a target="_blank" rel="noopener noreferrer"
      href="#TIME_T">TIME_T</a>]. (POSIX time is also known as &quot;UNIX Epoch time&quot;.) Leap seconds are handled
   specially by POSIX time, and this results in a 1-second discontinuity several times per decade. Note that
   applications that require the expression of times beyond early 2106 cannot leave out support of 64-bit integers for
   the tag content.<a target="_blank" rel="noopener noreferrer" href="#section-3.4.2-3">¶</a></p>
<p data-id="tBRK2J">Negative values (major type 1 and negative floating-point numbers) are interpreted as determined by
   the application requirements as there is no universal standard for UTC count-of-seconds time before 1970-01-01T00:00Z
   (this is particularly true for points in time that precede discontinuities in national calendars). The same applies
   to non-finite values.<a target="_blank" rel="noopener noreferrer" href="#section-3.4.2-4">¶</a></p>
<p data-id="paI3uP">To indicate fractional seconds, floating-point values can be used within tag number 1 instead of
   integer values. Note that this generally requires binary64 support, as binary16 and binary32 provide nonzero
   fractions of seconds only for a short period of time around early 1970. An application that requires tag number 1
   support may restrict the tag content to be an integer (or a floating-point value) only.<a target="_blank"
      rel="noopener noreferrer" href="#section-3.4.2-5">¶</a></p>
<p data-id="OhBrp_">Note that platform types for date/time may include <code>null</code> or <code>undefined</code>
   values, which may also be desirable at an application protocol level. While emitting tag number 1 values with
   non-finite tag content values (e.g., with NaN for undefined date/time values or with Infinity for an expiry date that
   is not set) may seem an obvious way to handle this, using untagged <code>null</code> or <code>undefined</code> avoids
   the use of non-finites and results in a shorter encoding. Application protocol designers are encouraged to consider
   these cases and include clear guidelines for handling them.<a target="_blank" rel="noopener noreferrer"
      href="#section-3.4.2-6">¶</a></p>
<h4 data-id="UolTXp"><a target="_blank" rel="noopener noreferrer" href="#section-3.4.3">3.4.3. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-bignums">Bignums</a></h4>
<p data-id="5quSLl">Protocols using tag numbers 2 and 3 extend the generic data model (<a target="_blank"
      rel="noopener noreferrer" href="#cbor-data-models">Section 2</a>) with &quot;bignums&quot; representing
   arbitrarily sized integers. In the basic generic data model, bignum values are not equal to integers from the same
   model, but the extended generic data model created by this tag definition defines equivalence based on numeric value,
   and preferred serialization (<a target="_blank" rel="noopener noreferrer" href="#preferred">Section 4.1</a>) never
   makes use of bignums that also can be expressed as basic integers (see below).<a target="_blank"
      rel="noopener noreferrer" href="#section-3.4.3-1">¶</a></p>
<p data-id="yIzKz3">Bignums are encoded as a byte string data item, which is interpreted as an unsigned integer n in
   network byte order. Contained items of other types are invalid. For tag number 2, the value of the bignum is n. For
   tag number 3, the value of the bignum is -1 - n. The preferred serialization of the byte string is to leave out any
   leading zeroes (note that this means the preferred serialization for n = 0 is the empty byte string, but see below).
   Decoders that understand these tags MUST be able to decode bignums that do have leading zeroes. The preferred
   serialization of an integer that can be represented using major type 0 or 1 is to encode it this way instead of as a
   bignum (which means that the empty string never occurs in a bignum when using preferred serialization). Note that
   this means the non-preferred choice of a bignum representation instead of a basic integer for encoding a number is
   not intended to have application semantics (just as the choice of a longer basic integer representation than needed,
   such as 0x1800 for 0x00, does not).<a target="_blank" rel="noopener noreferrer" href="#section-3.4.3-2">¶</a></p>
<p data-id="1dV6na">For example, the number 18446744073709551616 (2<sup>64</sup>) is represented as 0b110_00010 (major
   type 6, tag number 2), followed by 0b010_01001 (major type 2, length 9), followed by 0x010000000000000000 (one byte
   0x01 and eight bytes 0x00). In hexadecimal:<a target="_blank" rel="noopener noreferrer" href="#section-3.4.3-3">¶</a>
</p>
<pre data-id="ZwlivU"><code>
C2                        -- Tag 2
   49                     -- Byte string of length 9
      010000000000000000  -- Bytes content
</code></pre>
<p data-id="4J5aRC"><a target="_blank" rel="noopener noreferrer" href="#section-3.4.3-4">¶</a></p>
<h4 data-id="BkzKzn"><a target="_blank" rel="noopener noreferrer" href="#section-3.4.4">3.4.4. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-decimal-fractions-and-bigfl">Decimal Fractions and Bigfloats</a></h4>
<p data-id="putFY8">Protocols using tag number 4 extend the generic data model with data items representing
   arbitrary-length decimal fractions of the form m*(10<sup>e</sup>). Protocols using tag number 5 extend the generic
   data model with data items representing arbitrary-length binary fractions of the form m*(2<sup>e</sup>). As with
   bignums, values of different types are not equal in the generic data model.<a target="_blank"
      rel="noopener noreferrer" href="#section-3.4.4-1">¶</a></p>
<p data-id="Boyh_x">Decimal fractions combine an integer mantissa with a base-10 scaling factor. They are most useful if
   an application needs the exact representation of a decimal fraction such as 1.1 because there is no exact
   representation for many decimal fractions in binary floating-point representations.<a target="_blank"
      rel="noopener noreferrer" href="#section-3.4.4-2">¶</a></p>
<p data-id="iBFpzm">&quot;Bigfloats&quot; combine an integer mantissa with a base-2 scaling factor. They are binary
   floating-point values that can exceed the range or the precision of the three IEEE 754 formats supported by CBOR (<a
      target="_blank" rel="noopener noreferrer" href="#fpnocont">Section 3.3</a>). Bigfloats may also be used by
   constrained applications that need some basic binary floating-point capability without the need for supporting IEEE
   754.<a target="_blank" rel="noopener noreferrer" href="#section-3.4.4-3">¶</a></p>
<p data-id="gn8MGv">A decimal fraction or a bigfloat is represented as a tagged array that contains exactly two integer
   numbers: an exponent e and a mantissa m. Decimal fractions (tag number 4) use base-10 exponents; the value of a
   decimal fraction data item is m*(10<sup>e</sup>). Bigfloats (tag number 5) use base-2 exponents; the value of a
   bigfloat data item is m*(2<sup>e</sup>). The exponent e MUST be represented in an integer of major type 0 or 1, while
   the mantissa can also be a bignum (<a target="_blank" rel="noopener noreferrer" href="#bignums">Section 3.4.3</a>).
   Contained items with other structures are invalid.<a target="_blank" rel="noopener noreferrer"
      href="#section-3.4.4-4">¶</a></p>
<p data-id="kE0Snj">An example of a decimal fraction is the representation of the number 273.15 as 0b110_00100 (major
   type 6 for tag, additional information 4 for the tag number), followed by 0b100_00010 (major type 4 for the array,
   additional information 2 for the length of the array), followed by 0b001_00001 (major type 1 for the first integer,
   additional information 1 for the value of -2), followed by 0b000_11001 (major type 0 for the second integer,
   additional information 25 for a two-byte value), followed by 0b0110101010110011 (27315 in two bytes). In
   hexadecimal:<a target="_blank" rel="noopener noreferrer" href="#section-3.4.4-5">¶</a></p>
<pre data-id="msHt9K"><code>
C4             -- Tag 4
   82          -- Array of length 2
      21       -- -2
      19 6ab3  -- 27315
</code></pre>
<p data-id="jYKDl6"><a target="_blank" rel="noopener noreferrer" href="#section-3.4.4-6">¶</a></p>
<p data-id="o6odQr">An example of a bigfloat is the representation of the number 1.5 as 0b110_00101 (major type 6 for
   tag, additional information 5 for the tag number), followed by 0b100_00010 (major type 4 for the array, additional
   information 2 for the length of the array), followed by 0b001_00000 (major type 1 for the first integer, additional
   information 0 for the value of -1), followed by 0b000_00011 (major type 0 for the second integer, additional
   information 3 for the value of 3). In hexadecimal:<a target="_blank" rel="noopener noreferrer"
      href="#section-3.4.4-7">¶</a></p>
<pre data-id="yYOztd"><code>
C5             -- Tag 5
   82          -- Array of length 2
      20       -- -1
      03       -- 3
</code></pre>
<p data-id="OYp_P4"><a target="_blank" rel="noopener noreferrer" href="#section-3.4.4-8">¶</a></p>
<p data-id="Z1oPyq">Decimal fractions and bigfloats provide no representation of Infinity, -Infinity, or NaN; if these
   are needed in place of a decimal fraction or bigfloat, the IEEE 754 half-precision representations from <a
      target="_blank" rel="noopener noreferrer" href="#fpnocont">Section 3.3</a> can be used.<a target="_blank"
      rel="noopener noreferrer" href="#section-3.4.4-9">¶</a></p>
<h4 data-id="MVTqJO"><a target="_blank" rel="noopener noreferrer" href="#section-3.4.5">3.4.5. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-content-hints">Content Hints</a></h4>
<p data-id="sfFZOw">The tags in this section are for content hints that might be used by generic CBOR processors. These
   content hints do not extend the generic data model.<a target="_blank" rel="noopener noreferrer"
      href="#section-3.4.5-1">¶</a></p>
<h5 data-id="jxmUhj"><a target="_blank" rel="noopener noreferrer" href="#section-3.4.5.1">3.4.5.1. </a><a
      target="_blank" rel="noopener noreferrer" href="#name-encoded-cbor-data-item">Encoded CBOR Data Item</a></h5>
<p data-id="4Dq2zT">Sometimes it is beneficial to carry an embedded CBOR data item that is not meant to be decoded
   immediately at the time the enclosing data item is being decoded. Tag number 24 (CBOR data item) can be used to tag
   the embedded byte string as a single data item encoded in CBOR format. Contained items that aren&apos;t byte strings
   are invalid. A contained byte string is valid if it encodes a well-formed CBOR data item; validity checking of the
   decoded CBOR item is not required for tag validity (but could be offered by a generic decoder as a special option).<a
      target="_blank" rel="noopener noreferrer" href="#section-3.4.5.1-1">¶</a></p>
<h5 data-id="YW3ANW"><a target="_blank" rel="noopener noreferrer" href="#section-3.4.5.2">3.4.5.2. </a><a
      target="_blank" rel="noopener noreferrer" href="#name-expected-later-encoding-for">Expected Later Encoding for
      CBOR-to-JSON Converters</a></h5>
<p data-id="NXeaNo">Tag numbers 21 to 23 indicate that a byte string might require a specific encoding when
   interoperating with a text-based representation. These tags are useful when an encoder knows that the byte string
   data it is writing is likely to be later converted to a particular JSON-based usage. That usage specifies that some
   strings are encoded as base64, base64url, and so on. The encoder uses byte strings instead of doing the encoding
   itself to reduce the message size, to reduce the code size of the encoder, or both. The encoder does not know whether
   or not the converter will be generic, and therefore wants to say what it believes is the proper way to convert binary
   strings to JSON.<a target="_blank" rel="noopener noreferrer" href="#section-3.4.5.2-1">¶</a></p>
<p data-id="m9fphh">The data item tagged can be a byte string or any other data item. In the latter case, the tag
   applies to all of the byte string data items contained in the data item, except for those contained in a nested data
   item tagged with an expected conversion.<a target="_blank" rel="noopener noreferrer" href="#section-3.4.5.2-2">¶</a>
</p>
<p data-id="JlDzNi">These three tag numbers suggest conversions to three of the base data encodings defined in [<a
      target="_blank" rel="noopener noreferrer" href="#RFC4648">RFC4648</a>]. Tag number 21 suggests conversion to
   base64url encoding (<a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/rfc/rfc4648#section-5">Section 5</a> of [<a target="_blank"
      rel="noopener noreferrer" href="#RFC4648">RFC4648</a>]) where padding is not used (see <a target="_blank"
      rel="noopener noreferrer" href="https://www.rfc-editor.org/rfc/rfc4648#section-3.2">Section 3.2</a> of [<a
      target="_blank" rel="noopener noreferrer" href="#RFC4648">RFC4648</a>]); that is, all trailing equals signs
   (&quot;=&quot;) are removed from the encoded string. Tag number 22 suggests conversion to classical base64 encoding
   (<a target="_blank" rel="noopener noreferrer" href="https://www.rfc-editor.org/rfc/rfc4648#section-4">Section 4</a>
   of [<a target="_blank" rel="noopener noreferrer" href="#RFC4648">RFC4648</a>]) with padding as defined in RFC 4648.
   For both base64url and base64, padding bits are set to zero (see <a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/rfc/rfc4648#section-3.5">Section 3.5</a> of [<a target="_blank"
      rel="noopener noreferrer" href="#RFC4648">RFC4648</a>]), and the conversion to alternate encoding is performed on
   the contents of the byte string (that is, without adding any line breaks, whitespace, or other additional
   characters). Tag number 23 suggests conversion to base16 (hex) encoding with uppercase alphabetics (see <a
      target="_blank" rel="noopener noreferrer" href="https://www.rfc-editor.org/rfc/rfc4648#section-8">Section 8</a> of
   [<a target="_blank" rel="noopener noreferrer" href="#RFC4648">RFC4648</a>]). Note that, for all three tag numbers,
   the encoding of the empty byte string is the empty text string.<a target="_blank" rel="noopener noreferrer"
      href="#section-3.4.5.2-3">¶</a></p>
<h5 data-id="3FQDzV"><a target="_blank" rel="noopener noreferrer" href="#section-3.4.5.3">3.4.5.3. </a><a
      target="_blank" rel="noopener noreferrer" href="#name-encoded-text">Encoded Text</a></h5>
<p data-id="DBM5Lc">Some text strings hold data that have formats widely used on the Internet, and sometimes those
   formats can be validated and presented to the application in appropriate form by the decoder. There are tags for some
   of these formats.<a target="_blank" rel="noopener noreferrer" href="#section-3.4.5.3-1">¶</a></p>
<ol>
   <li>
      <p data-id="Nn2Zuq">Tag number 32 is for URIs, as defined in [<a target="_blank" rel="noopener noreferrer"
            href="#RFC3986">RFC3986</a>]. If the text string doesn&apos;t match the <code>URI-reference</code>
         production, the string is invalid.<a target="_blank" rel="noopener noreferrer"
            href="#section-3.4.5.3-2.1">¶</a></p>
   </li>
   <li>
      <p data-id="esUME9">Tag numbers 33 and 34 are for base64url- and base64-encoded text strings, respectively, as
         defined in [<a target="_blank" rel="noopener noreferrer" href="#RFC4648">RFC4648</a>]. If any of the following
         apply:<a target="_blank" rel="noopener noreferrer" href="#section-3.4.5.3-2.2.1">¶</a></p>
      <ol>
         <li>
            <p data-id="_NyekI">the encoded text string contains non-alphabet characters or only 1 alphabet character in
               the last block of 4 (where alphabet is defined by <a target="_blank" rel="noopener noreferrer"
                  href="https://www.rfc-editor.org/rfc/rfc4648#section-5">Section 5</a> of [<a target="_blank"
                  rel="noopener noreferrer" href="#RFC4648">RFC4648</a>] for tag number 33 and <a target="_blank"
                  rel="noopener noreferrer" href="https://www.rfc-editor.org/rfc/rfc4648#section-4">Section 4</a> of [<a
                  target="_blank" rel="noopener noreferrer" href="#RFC4648">RFC4648</a>] for tag number 34), or<a
                  target="_blank" rel="noopener noreferrer" href="#section-3.4.5.3-2.2.2.1">¶</a></p>
         </li>
         <li>
            <p data-id="my-dhO">the padding bits in a 2- or 3-character block are not 0, or<a target="_blank"
                  rel="noopener noreferrer" href="#section-3.4.5.3-2.2.2.2">¶</a></p>
         </li>
         <li>
            <p data-id="3mR4vf">the base64 encoding has the wrong number of padding characters, or<a target="_blank"
                  rel="noopener noreferrer" href="#section-3.4.5.3-2.2.2.3">¶</a></p>
         </li>
         <li>
            <p data-id="ZyK2TF">the base64url encoding has padding characters,<a target="_blank"
                  rel="noopener noreferrer" href="#section-3.4.5.3-2.2.2.4">¶</a></p>
         </li>
      </ol>
      <p data-id="xAfyZ0">the string is invalid.<a target="_blank" rel="noopener noreferrer"
            href="#section-3.4.5.3-2.2.3">¶</a></p>
   </li>
   <li>
      <p data-id="ev9tZ2">Tag number 36 is for MIME messages (including all headers), as defined in [<a target="_blank"
            rel="noopener noreferrer" href="#RFC2045">RFC2045</a>]. A text string that isn&apos;t a valid MIME message
         is invalid. (For this tag, validity checking may be particularly onerous for a generic decoder and might
         therefore not be offered. Note that many MIME messages are general binary data and therefore cannot be
         represented in a text string; [<a target="_blank" rel="noopener noreferrer"
            href="#IANA.cbor-tags">IANA.cbor-tags</a>] lists a registration for tag number 257 that is similar to tag
         number 36 but uses a byte string as its tag content.)<a target="_blank" rel="noopener noreferrer"
            href="#section-3.4.5.3-2.3">¶</a></p>
   </li>
</ol>
<p data-id="S4ChKr">Note that tag numbers 33 and 34 differ from 21 and 22 in that the data is transported in
   base-encoded form for the former and in raw byte string form for the latter.<a target="_blank"
      rel="noopener noreferrer" href="#section-3.4.5.3-3">¶</a></p>
<p data-id="VX8vd6">[<a target="_blank" rel="noopener noreferrer" href="#RFC7049">RFC7049</a>] also defined a tag number
   35 for regular expressions that are in Perl Compatible Regular Expressions (PCRE/PCRE2) form [<a target="_blank"
      rel="noopener noreferrer" href="#PCRE">PCRE</a>] or in JavaScript regular expression syntax [<a target="_blank"
      rel="noopener noreferrer" href="#ECMA262">ECMA262</a>]. The state of the art in these regular expression
   specifications has since advanced and is continually advancing, so this specification does not attempt to update the
   references. Instead, this tag remains available (as registered in [<a target="_blank" rel="noopener noreferrer"
      href="#RFC7049">RFC7049</a>]) for applications that specify the particular regular expression variant they use
   out-of-band (possibly by limiting the usage to a defined common subset of both PCRE and ECMA262). As this
   specification clarifies tag validity beyond [<a target="_blank" rel="noopener noreferrer"
      href="#RFC7049">RFC7049</a>], we note that due to the open way the tag was defined in [<a target="_blank"
      rel="noopener noreferrer" href="#RFC7049">RFC7049</a>], any contained string value needs to be valid at the CBOR
   tag level (but then may not be &quot;expected&quot; at the application level).<a target="_blank"
      rel="noopener noreferrer" href="#section-3.4.5.3-4">¶</a></p>
<h4 data-id="yRFvP6"><a target="_blank" rel="noopener noreferrer" href="#section-3.4.6">3.4.6. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-self-described-cbor">Self-Described CBOR</a></h4>
<p data-id="hrV1cp">In many applications, it will be clear from the context that CBOR is being employed for encoding a
   data item. For instance, a specific protocol might specify the use of CBOR, or a media type is indicated that
   specifies its use. However, there may be applications where such context information is not available, such as when
   CBOR data is stored in a file that does not have disambiguating metadata. Here, it may help to have some
   distinguishing characteristics for the data itself.<a target="_blank" rel="noopener noreferrer"
      href="#section-3.4.6-1">¶</a></p>
<p data-id="HPNh0u">Tag number 55799 is defined for this purpose, specifically for use at the start of a stored encoded
   CBOR data item as specified by an application. It does not impart any special semantics on the data item that it
   encloses; that is, the semantics of the tag content enclosed in tag number 55799 is exactly identical to the
   semantics of the tag content itself.<a target="_blank" rel="noopener noreferrer" href="#section-3.4.6-2">¶</a></p>
<p data-id="bu3c9r">The serialization of this tag&apos;s head is 0xd9d9f7, which does not appear to be in use as a
   distinguishing mark for any frequently used file types. In particular, 0xd9d9f7 is not a valid start of a Unicode
   text in any Unicode encoding if it is followed by a valid CBOR data item.<a target="_blank" rel="noopener noreferrer"
      href="#section-3.4.6-3">¶</a></p>
<p data-id="nBsMJJ">For instance, a decoder might be able to decode both CBOR and JSON. Such a decoder would need to
   mechanically distinguish the two formats. An easy way for an encoder to help the decoder would be to tag the entire
   CBOR item with tag number 55799, the serialization of which will never be found at the beginning of a JSON text.<a
      target="_blank" rel="noopener noreferrer" href="#section-3.4.6-4">¶</a></p>
<h2 data-id="0NYVWv"><a target="_blank" rel="noopener noreferrer" href="#section-4">4. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-serialization-consideration">Serialization Considerations</a></h2>
<h3 data-id="TSaXKr"><a target="_blank" rel="noopener noreferrer" href="#section-4.1">4.1. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-preferred-serialization">Preferred Serialization</a></h3>
<p data-id="eZ0Xyu">For some values at the data model level, CBOR provides multiple serializations. For many
   applications, it is desirable that an encoder always chooses a preferred serialization (preferred encoding); however,
   the present specification does not put the burden of enforcing this preference on either the encoder or decoder.<a
      target="_blank" rel="noopener noreferrer" href="#section-4.1-1">¶</a></p>
<p data-id="acaxKv">Some constrained decoders may be limited in their ability to decode non-preferred serializations:
   for example, if only integers below 1_000_000_000 (one billion) are expected in an application, the decoder may leave
   out the code that would be needed to decode 64-bit arguments in integers. An encoder that always uses preferred
   serialization (&quot;preferred encoder&quot;) interoperates with this decoder for the numbers that can occur in this
   application. Generally speaking, a preferred encoder is more universally interoperable (and also less wasteful) than
   one that, say, always uses 64-bit integers.<a target="_blank" rel="noopener noreferrer" href="#section-4.1-2">¶</a>
</p>
<p data-id="BdaxQY">Similarly, a constrained encoder may be limited in the variety of representation variants it
   supports such that it does not emit preferred serializations (&quot;variant encoder&quot;). For instance, a
   constrained encoder could be designed to always use the 32-bit variant for an integer that it encodes even if a short
   representation is available (assuming that there is no application need for integers that can only be represented
   with the 64-bit variant). A decoder that does not rely on receiving only preferred serializations
   (&quot;variation-tolerant decoder&quot;) can therefore be said to be more universally interoperable (it might very
   well optimize for the case of receiving preferred serializations, though). Full implementations of CBOR decoders are
   by definition variation tolerant; the distinction is only relevant if a constrained implementation of a CBOR decoder
   meets a variant encoder.<a target="_blank" rel="noopener noreferrer" href="#section-4.1-3">¶</a></p>
<p data-id="moe_TF">The preferred serialization always uses the shortest form of representing the argument (<a
      target="_blank" rel="noopener noreferrer" href="#encoding">Section 3</a>); it also uses the shortest
   floating-point encoding that preserves the value being encoded.<a target="_blank" rel="noopener noreferrer"
      href="#section-4.1-4">¶</a></p>
<p data-id="7z4Zjk">The preferred serialization for a floating-point value is the shortest floating-point encoding that
   preserves its value, e.g., 0xf94580 for the number 5.5, and 0xfa45ad9c00 for the number 5555.5. For NaN values, a
   shorter encoding is preferred if zero-padding the shorter significand towards the right reconstitutes the original
   NaN value (for many applications, the single NaN encoding 0xf97e00 will suffice).<a target="_blank"
      rel="noopener noreferrer" href="#section-4.1-5">¶</a></p>
<p data-id="oIqIOZ">Definite-length encoding is preferred whenever the length is known at the time the serialization of
   the item starts.<a target="_blank" rel="noopener noreferrer" href="#section-4.1-6">¶</a></p>
<h3 data-id="lWtsII"><a target="_blank" rel="noopener noreferrer" href="#section-4.2">4.2. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-deterministically-encoded-c">Deterministically Encoded CBOR</a></h3>
<p data-id="4SDhhP">Some protocols may want encoders to only emit CBOR in a particular deterministic format; those
   protocols might also have the decoders check that their input is in that deterministic format. Those protocols are
   free to define what they mean by a &quot;deterministic format&quot; and what encoders and decoders are expected to
   do. This section defines a set of restrictions that can serve as the base of such a deterministic format.<a
      target="_blank" rel="noopener noreferrer" href="#section-4.2-1">¶</a></p>
<h4 data-id="-QKb-v"><a target="_blank" rel="noopener noreferrer" href="#section-4.2.1">4.2.1. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-core-deterministic-encoding">Core Deterministic Encoding Requirements</a>
</h4>
<p data-id="rPFWPi">A CBOR encoding satisfies the &quot;core deterministic encoding requirements&quot; if it satisfies
   the following restrictions:<a target="_blank" rel="noopener noreferrer" href="#section-4.2.1-1">¶</a></p>
<ol>
   <li>
      <p data-id="V2rWFj">Preferred serialization MUST be used. In particular, this means that arguments (see <a
            target="_blank" rel="noopener noreferrer" href="#encoding">Section 3</a>) for integers, lengths in major
         types 2 through 5, and tags MUST be as short as possible, for instance:<a target="_blank"
            rel="noopener noreferrer" href="#section-4.2.1-2.1.1">¶</a></p>
      <ol>
         <li>
            <p data-id="KzigEB">0 to 23 and -1 to -24 MUST be expressed in the same byte as the major type;<a
                  target="_blank" rel="noopener noreferrer" href="#section-4.2.1-2.1.2.1">¶</a></p>
         </li>
         <li>
            <p data-id="tLCCWb">24 to 255 and -25 to -256 MUST be expressed only with an additional uint8_t;<a
                  target="_blank" rel="noopener noreferrer" href="#section-4.2.1-2.1.2.2">¶</a></p>
         </li>
         <li>
            <p data-id="4TKnCy">256 to 65535 and -257 to -65536 MUST be expressed only with an additional uint16_t;<a
                  target="_blank" rel="noopener noreferrer" href="#section-4.2.1-2.1.2.3">¶</a></p>
         </li>
         <li>
            <p data-id="EwFlB_">65536 to 4294967295 and -65537 to -4294967296 MUST be expressed only with an additional
               uint32_t.<a target="_blank" rel="noopener noreferrer" href="#section-4.2.1-2.1.2.4">¶</a></p>
         </li>
      </ol>
      <p data-id="iLwIAG">Floating-point values also MUST use the shortest form that preserves the value, e.g., 1.5 is
         encoded as 0xf93e00 (binary16) and 1000000.5 as 0xfa49742408 (binary32). (One implementation of this is to have
         all floats start as a 64-bit float, then do a test conversion to a 32-bit float; if the result is the same
         numeric value, use the shorter form and repeat the process with a test conversion to a 16-bit float. This also
         works to select 16-bit float for positive and negative Infinity as well.)<a target="_blank"
            rel="noopener noreferrer" href="#section-4.2.1-2.1.3">¶</a></p>
   </li>
   <li>
      <p data-id="6f2UiE">Indefinite-length items MUST NOT appear. They can be encoded as definite-length items
         instead.<a target="_blank" rel="noopener noreferrer" href="#section-4.2.1-2.2">¶</a></p>
   </li>
   <li>
      <p data-id="KJREAy">The keys in every map MUST be sorted in the bytewise lexicographic order of their
         deterministic encodings. For example, the following keys are sorted correctly:<a target="_blank"
            rel="noopener noreferrer" href="#section-4.2.1-2.3.1">¶</a></p>
      <ol>
         <li>
            <p data-id="eEVSwn">10, encoded as 0x0a.<a target="_blank" rel="noopener noreferrer"
                  href="#section-4.2.1-2.3.2.1">¶</a></p>
         </li>
         <li>
            <p data-id="OSsdWG">100, encoded as 0x1864.<a target="_blank" rel="noopener noreferrer"
                  href="#section-4.2.1-2.3.2.2">¶</a></p>
         </li>
         <li>
            <p data-id="anf6xi">-1, encoded as 0x20.<a target="_blank" rel="noopener noreferrer"
                  href="#section-4.2.1-2.3.2.3">¶</a></p>
         </li>
         <li>
            <p data-id="iMWp9O">&quot;z&quot;, encoded as 0x617a.<a target="_blank" rel="noopener noreferrer"
                  href="#section-4.2.1-2.3.2.4">¶</a></p>
         </li>
         <li>
            <p data-id="2gNXOo">&quot;aa&quot;, encoded as 0x626161.<a target="_blank" rel="noopener noreferrer"
                  href="#section-4.2.1-2.3.2.5">¶</a></p>
         </li>
         <li>
            <p data-id="Cbltzq">[100], encoded as 0x811864.<a target="_blank" rel="noopener noreferrer"
                  href="#section-4.2.1-2.3.2.6">¶</a></p>
         </li>
         <li>
            <p data-id="qJy8II">[-1], encoded as 0x8120.<a target="_blank" rel="noopener noreferrer"
                  href="#section-4.2.1-2.3.2.7">¶</a></p>
         </li>
         <li>
            <p data-id="3ieusB">false, encoded as 0xf4.<a target="_blank" rel="noopener noreferrer"
                  href="#section-4.2.1-2.3.2.8">¶</a></p>
         </li>
      </ol>
   </li>
</ol>
<p data-id="Y7U1BP">Implementation note: the self-delimiting nature of the CBOR encoding means that there are no two
   well-formed CBOR encoded data items where one is a prefix of the other. The bytewise lexicographic comparison of
   deterministic encodings of different map keys therefore always ends in a position where the byte differs between the
   keys, before the end of a key is reached.<a target="_blank" rel="noopener noreferrer" href="#section-4.2.1-3.1">¶</a>
</p>
<h4 data-id="_hJlKH"><a target="_blank" rel="noopener noreferrer" href="#section-4.2.2">4.2.2. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-additional-deterministic-en">Additional Deterministic Encoding
      Considerations</a></h4>
<p data-id="iulDK5">CBOR tags present additional considerations for deterministic encoding. If a CBOR-based protocol
   were to provide the same semantics for the presence and absence of a specific tag (e.g., by allowing both tag 1 data
   items and raw numbers in a date/time position, treating the latter as if they were tagged), the deterministic format
   would not allow the presence of the tag, based on the &quot;shortest form&quot; principle. For example, a protocol
   might give encoders the choice of representing a URL as either a text string or, using <a target="_blank"
      rel="noopener noreferrer" href="#encodedtext">Section 3.4.5.3</a>, tag number 32 containing a text string. This
   protocol&apos;s deterministic encoding needs either to require that the tag is present or to require that it is
   absent, not allow either one.<a target="_blank" rel="noopener noreferrer" href="#section-4.2.2-1">¶</a></p>
<p data-id="rUIu65">In a protocol that does require tags in certain places to obtain specific semantics, the tag needs
   to appear in the deterministic format as well. Deterministic encoding considerations also apply to the content of
   tags.<a target="_blank" rel="noopener noreferrer" href="#section-4.2.2-2">¶</a></p>
<p data-id="GrfsjC">If a protocol includes a field that can express integers with an absolute value of 2<sup>64</sup> or
   larger using tag numbers 2 or 3 (<a target="_blank" rel="noopener noreferrer" href="#bignums">Section 3.4.3</a>), the
   protocol&apos;s deterministic encoding needs to specify whether smaller integers are also expressed using these tags
   or using major types 0 and 1. Preferred serialization uses the latter choice, which is therefore recommended.<a
      target="_blank" rel="noopener noreferrer" href="#section-4.2.2-3">¶</a></p>
<p data-id="igWfqJ">Protocols that include floating-point values, whether represented using basic floating-point values
   (<a target="_blank" rel="noopener noreferrer" href="#fpnocont">Section 3.3</a>) or using tags (or both), may need to
   define extra requirements on their deterministic encodings, such as:<a target="_blank" rel="noopener noreferrer"
      href="#section-4.2.2-4">¶</a></p>
<ol>
   <li>
      <p data-id="25sJnm">Although IEEE floating-point values can represent both positive and negative zero as distinct
         values, the application might not distinguish these and might decide to represent all zero values with a
         positive sign, disallowing negative zero. (The application may also want to restrict the precision of
         floating-point values in such a way that there is never a need to represent 64-bit -- or even 32-bit --
         floating-point values.)<a target="_blank" rel="noopener noreferrer" href="#section-4.2.2-5.1">¶</a></p>
   </li>
   <li>
      <p data-id="AQXzOA">If a protocol includes a field that can express floating-point values, with a specific data
         model that declares integer and floating-point values to be interchangeable, the protocol&apos;s deterministic
         encoding needs to specify whether, for example, the integer 1.0 is encoded as 0x01 (unsigned integer), 0xf93c00
         (binary16), 0xfa3f800000 (binary32), or 0xfb3ff0000000000000 (binary64). Example rules for this are:<a
            target="_blank" rel="noopener noreferrer" href="#section-4.2.2-5.2.1">¶</a></p>
      <ol>
         <li>
            <p data-id="vSYpUO">Encode integral values that fit in 64 bits as values from major types 0 and 1, and other
               values as the preferred (smallest of 16-, 32-, or 64-bit) floating-point representation that accurately
               represents the value,<a target="_blank" rel="noopener noreferrer" href="#section-4.2.2-5.2.2.1">¶</a></p>
         </li>
         <li>
            <p data-id="HT6nCt">Encode all values as the preferred floating-point representation that accurately
               represents the value, even for integral values, or<a target="_blank" rel="noopener noreferrer"
                  href="#section-4.2.2-5.2.2.2">¶</a></p>
         </li>
         <li>
            <p data-id="bD7NC8">Encode all values as 64-bit floating-point representations.<a target="_blank"
                  rel="noopener noreferrer" href="#section-4.2.2-5.2.2.3">¶</a></p>
         </li>
      </ol>
      <p data-id="7uOnhn">Rule 1 straddles the boundaries between integers and floating-point values, and Rule 3 does
         not use preferred serialization, so Rule 2 may be a good choice in many cases.<a target="_blank"
            rel="noopener noreferrer" href="#section-4.2.2-5.2.3">¶</a></p>
   </li>
   <li>
      <p data-id="KUwYuN">If NaN is an allowed value, and there is no intent to support NaN payloads or signaling NaNs,
         the protocol needs to pick a single representation, typically 0xf97e00. If that simple choice is not possible,
         specific attention will be needed for NaN handling.<a target="_blank" rel="noopener noreferrer"
            href="#section-4.2.2-5.3">¶</a></p>
   </li>
   <li>
      <p data-id="HtdOMO">Subnormal numbers (nonzero numbers with the lowest possible exponent of a given IEEE 754
         number format) may be flushed to zero outputs or be treated as zero inputs in some floating-point
         implementations. A protocol&apos;s deterministic encoding may want to specifically accommodate such
         implementations while creating an onus on other implementations by excluding subnormal numbers from
         interchange, interchanging zero instead.<a target="_blank" rel="noopener noreferrer"
            href="#section-4.2.2-5.4">¶</a></p>
   </li>
   <li>
      <p data-id="k7ux8p">The same number can be represented by different decimal fractions, by different bigfloats, and
         by different forms under other tags that may be defined to express numeric values. Depending on the
         implementation, it may not always be practical to determine whether any of these forms (or forms in the basic
         generic data model) are equivalent. An application protocol that presents choices of this kind for the
         representation format of numbers needs to be explicit about how the formats for deterministic encoding are to
         be chosen.<a target="_blank" rel="noopener noreferrer" href="#section-4.2.2-5.5">¶</a></p>
   </li>
</ol>
<h4 data-id="nbN3v_"><a target="_blank" rel="noopener noreferrer" href="#section-4.2.3">4.2.3. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-length-first-map-key-orderi">Length-First Map Key Ordering</a></h4>
<p data-id="rtt3nR">The core deterministic encoding requirements (<a target="_blank" rel="noopener noreferrer"
      href="#core-det">Section 4.2.1</a>) sort map keys in a different order from the one suggested by <a
      target="_blank" rel="noopener noreferrer" href="https://www.rfc-editor.org/rfc/rfc7049#section-3.9">Section
      3.9</a> of [<a target="_blank" rel="noopener noreferrer" href="#RFC7049">RFC7049</a>] (called &quot;Canonical
   CBOR&quot; there). Protocols that need to be compatible with the order specified in [<a target="_blank"
      rel="noopener noreferrer" href="#RFC7049">RFC7049</a>] can instead be specified in terms of this
   specification&apos;s &quot;length-first core deterministic encoding requirements&quot;:<a target="_blank"
      rel="noopener noreferrer" href="#section-4.2.3-1">¶</a></p>
<p data-id="WoFK97">A CBOR encoding satisfies the &quot;length-first core deterministic encoding requirements&quot; if
   it satisfies the core deterministic encoding requirements except that the keys in every map MUST be sorted such
   that:<a target="_blank" rel="noopener noreferrer" href="#section-4.2.3-2">¶</a></p>
<ol>
   <li>
      <p data-id="TTQtVH">If two keys have different lengths, the shorter one sorts earlier;<a target="_blank"
            rel="noopener noreferrer" href="#section-4.2.3-3.1">¶</a></p>
   </li>
   <li>
      <p data-id="2n6Cjp">If two keys have the same length, the one with the lower value in (bytewise) lexical order
         sorts earlier.<a target="_blank" rel="noopener noreferrer" href="#section-4.2.3-3.2">¶</a></p>
   </li>
</ol>
<p data-id="btP9Kw">For example, under the length-first core deterministic encoding requirements, the following keys are
   sorted correctly:<a target="_blank" rel="noopener noreferrer" href="#section-4.2.3-4">¶</a></p>
<ol>
   <li>
      <p data-id="OCorCU">10, encoded as 0x0a.<a target="_blank" rel="noopener noreferrer"
            href="#section-4.2.3-5.1">¶</a></p>
   </li>
   <li>
      <p data-id="CvUvhe">-1, encoded as 0x20.<a target="_blank" rel="noopener noreferrer"
            href="#section-4.2.3-5.2">¶</a></p>
   </li>
   <li>
      <p data-id="fzDd3Z">false, encoded as 0xf4.<a target="_blank" rel="noopener noreferrer"
            href="#section-4.2.3-5.3">¶</a></p>
   </li>
   <li>
      <p data-id="TU8LX3">100, encoded as 0x1864.<a target="_blank" rel="noopener noreferrer"
            href="#section-4.2.3-5.4">¶</a></p>
   </li>
   <li>
      <p data-id="zyhazW">&quot;z&quot;, encoded as 0x617a.<a target="_blank" rel="noopener noreferrer"
            href="#section-4.2.3-5.5">¶</a></p>
   </li>
   <li>
      <p data-id="My6Bki">[-1], encoded as 0x8120.<a target="_blank" rel="noopener noreferrer"
            href="#section-4.2.3-5.6">¶</a></p>
   </li>
   <li>
      <p data-id="KJKQuk">&quot;aa&quot;, encoded as 0x626161.<a target="_blank" rel="noopener noreferrer"
            href="#section-4.2.3-5.7">¶</a></p>
   </li>
   <li>
      <p data-id="VIpq8-">[100], encoded as 0x811864.<a target="_blank" rel="noopener noreferrer"
            href="#section-4.2.3-5.8">¶</a></p>
   </li>
</ol>
<p data-id="ayo8r-">Although [<a target="_blank" rel="noopener noreferrer" href="#RFC7049">RFC7049</a>] used the term
   &quot;Canonical CBOR&quot; for its form of requirements on deterministic encoding, this document avoids this term
   because &quot;canonicalization&quot; is often associated with specific uses of deterministic encoding only. The terms
   are essentially interchangeable, however, and the set of core requirements in this document could also be called
   &quot;Canonical CBOR&quot;, while the length-first-ordered version of that could be called &quot;Old Canonical
   CBOR&quot;.<a target="_blank" rel="noopener noreferrer" href="#section-4.2.3-6.1">¶</a></p>
<h2 data-id="re2cmO"><a target="_blank" rel="noopener noreferrer" href="#section-5">5. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-creating-cbor-based-protoco">Creating CBOR-Based Protocols</a></h2>
<p data-id="YsIK0E">Data formats such as CBOR are often used in environments where there is no format negotiation. A
   specific design goal of CBOR is to not need any included or assumed schema: a decoder can take a CBOR item and decode
   it with no other knowledge.<a target="_blank" rel="noopener noreferrer" href="#section-5-1">¶</a></p>
<p data-id="1cLgw3">Of course, in real-world implementations, the encoder and the decoder will have a shared view of
   what should be in a CBOR data item. For example, an agreed-to format might be &quot;the item is an array whose first
   value is a UTF-8 string, second value is an integer, and subsequent values are zero or more floating-point
   numbers&quot; or &quot;the item is a map that has byte strings for keys and contains a pair whose key is
   0xab01&quot;.<a target="_blank" rel="noopener noreferrer" href="#section-5-2">¶</a></p>
<p data-id="MEqDuc">CBOR-based protocols MUST specify how their decoders handle invalid and other unexpected data.
   CBOR-based protocols MAY specify that they treat arbitrary valid data as unexpected. Encoders for CBOR-based
   protocols MUST produce only valid items, that is, the protocol cannot be designed to make use of invalid items. An
   encoder can be capable of encoding as many or as few types of values as is required by the protocol in which it is
   used; a decoder can be capable of understanding as many or as few types of values as is required by the protocols in
   which it is used. This lack of restrictions allows CBOR to be used in extremely constrained environments.<a
      target="_blank" rel="noopener noreferrer" href="#section-5-3">¶</a></p>
<p data-id="MyVUYI">The rest of this section discusses some considerations in creating CBOR-based protocols. With few
   exceptions, it is advisory only and explicitly excludes any language from BCP 14 [<a target="_blank"
      rel="noopener noreferrer" href="#RFC2119">RFC2119</a>] [<a target="_blank" rel="noopener noreferrer"
      href="#RFC8174">RFC8174</a>] other than words that could be interpreted as &quot;MAY&quot; in the sense of BCP 14.
   The exceptions aim at facilitating interoperability of CBOR-based protocols while making use of a wide variety of
   both generic and application-specific encoders and decoders.<a target="_blank" rel="noopener noreferrer"
      href="#section-5-4">¶</a></p>
<h3 data-id="rGvkBl"><a target="_blank" rel="noopener noreferrer" href="#section-5.1">5.1. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-cbor-in-streaming-applicati">CBOR in Streaming Applications</a></h3>
<p data-id="coiR4N">In a streaming application, a data stream may be composed of a sequence of CBOR data items
   concatenated back-to-back. In such an environment, the decoder immediately begins decoding a new data item if data is
   found after the end of a previous data item.<a target="_blank" rel="noopener noreferrer" href="#section-5.1-1">¶</a>
</p>
<p data-id="FRWyDp">Not all of the bytes making up a data item may be immediately available to the decoder; some
   decoders will buffer additional data until a complete data item can be presented to the application. Other decoders
   can present partial information about a top-level data item to an application, such as the nested data items that
   could already be decoded, or even parts of a byte string that hasn&apos;t completely arrived yet. Such an application
   also MUST have a matching streaming security mechanism, where the desired protection is available for incremental
   data presented to the application.<a target="_blank" rel="noopener noreferrer" href="#section-5.1-2">¶</a></p>
<p data-id="M1Pjho">Note that some applications and protocols will not want to use indefinite-length encoding. Using
   indefinite-length encoding allows an encoder to not need to marshal all the data for counting, but it requires a
   decoder to allocate increasing amounts of memory while waiting for the end of the item. This might be fine for some
   applications but not others.<a target="_blank" rel="noopener noreferrer" href="#section-5.1-3">¶</a></p>
<h3 data-id="zO_FIB"><a target="_blank" rel="noopener noreferrer" href="#section-5.2">5.2. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-generic-encoders-and-decode">Generic Encoders and Decoders</a></h3>
<p data-id="sP4AES">A generic CBOR decoder can decode all well-formed encoded CBOR data items and present the data items
   to an application. See <a target="_blank" rel="noopener noreferrer" href="#pseudocode">Appendix C</a>. (The
   diagnostic notation, <a target="_blank" rel="noopener noreferrer" href="#diagnostic-notation">Section 8</a>, may be
   used to present well-formed CBOR values to humans.)<a target="_blank" rel="noopener noreferrer"
      href="#section-5.2-1">¶</a></p>
<p data-id="Skrmbl">Generic CBOR encoders provide an application interface that allows the application to specify any
   well-formed value to be encoded as a CBOR data item, including simple values and tags unknown to the encoder.<a
      target="_blank" rel="noopener noreferrer" href="#section-5.2-2">¶</a></p>
<p data-id="B4k-2k">Even though CBOR attempts to minimize these cases, not all well-formed CBOR data is valid: for
   example, the encoded text string <code>0x62c0ae</code> does not contain valid UTF-8 (because [<a target="_blank"
      rel="noopener noreferrer" href="#RFC3629">RFC3629</a>] requires always using the shortest form) and so is not a
   valid CBOR item. Also, specific tags may make semantic constraints that may be violated, for instance, by a bignum
   tag enclosing another tag or by an instance of tag number 0 containing a byte string or containing a text string with
   contents that do not match the <code>date-time</code> production of [<a target="_blank" rel="noopener noreferrer"
      href="#RFC3339">RFC3339</a>]. There is no requirement that generic encoders and decoders make unnatural choices
   for their application interface to enable the processing of invalid data. Generic encoders and decoders are expected
   to forward simple values and tags even if their specific codepoints are not registered at the time the
   encoder/decoder is written (<a target="_blank" rel="noopener noreferrer" href="#validity-checking">Section
      5.4</a>).<a target="_blank" rel="noopener noreferrer" href="#section-5.2-3">¶</a></p>
<h3 data-id="YJLmQu"><a target="_blank" rel="noopener noreferrer" href="#section-5.3">5.3. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-validity-of-items">Validity of Items</a></h3>
<p data-id="VJsgmO">A well-formed but invalid CBOR data item (<a target="_blank" rel="noopener noreferrer"
      href="#terminology">Section 1.2</a>) presents a problem with interpreting the data encoded in it in the CBOR data
   model. A CBOR-based protocol could be specified in several layers, in which the lower layers don&apos;t process the
   semantics of some of the CBOR data they forward. These layers can&apos;t notice any validity errors in data they
   don&apos;t process and MUST forward that data as-is. The first layer that does process the semantics of an invalid
   CBOR item MUST pick one of two choices:<a target="_blank" rel="noopener noreferrer" href="#section-5.3-1">¶</a></p>
<ol>
   <li>
      <p data-id="9QjzFr">Replace the problematic item with an error marker and continue with the next item, or<a
            target="_blank" rel="noopener noreferrer" href="#section-5.3-2.1">¶</a></p>
   </li>
   <li>
      <p data-id="MKN6Ua">Issue an error and stop processing altogether.<a target="_blank" rel="noopener noreferrer"
            href="#section-5.3-2.2">¶</a></p>
   </li>
</ol>
<p data-id="7YXrVE">A CBOR-based protocol MUST specify which of these options its decoders take for each kind of invalid
   item they might encounter.<a target="_blank" rel="noopener noreferrer" href="#section-5.3-3">¶</a></p>
<p data-id="DiaiDI">Such problems might occur at the basic validity level of CBOR or in the context of tags (tag
   validity).<a target="_blank" rel="noopener noreferrer" href="#section-5.3-4">¶</a></p>
<h4 data-id="jFvAh2"><a target="_blank" rel="noopener noreferrer" href="#section-5.3.1">5.3.1. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-basic-validity">Basic validity</a></h4>
<p data-id="EMTT-2">Two kinds of validity errors can occur in the basic generic data model:<a target="_blank"
      rel="noopener noreferrer" href="#section-5.3.1-1">¶</a></p>
<p data-id="pg2QmQ">Duplicate keys in a map:</p>
<p data-id="4OeQPv"> Generic decoders (<a target="_blank" rel="noopener noreferrer" href="#generic">Section 5.2</a>)
   make data available to applications using the native CBOR data model. That data model includes maps (key-value
   mappings with unique keys), not multimaps (key-value mappings where multiple entries can have the same key). Thus, a
   generic decoder that gets a CBOR map item that has duplicate keys will decode to a map with only one instance of that
   key, or it might stop processing altogether. On the other hand, a &quot;streaming decoder&quot; may not even be able
   to notice. See <a target="_blank" rel="noopener noreferrer" href="#map-keys">Section 5.6</a> for more discussion of
   keys in maps.<a target="_blank" rel="noopener noreferrer" href="#section-5.3.1-2.2">¶</a></p>
<p data-id="ZCgYlb">Invalid UTF-8 string:</p>
<p data-id="b_5cSH"> A decoder might or might not want to verify that the sequence of bytes in a UTF-8 string (major
   type 3) is actually valid UTF-8 and react appropriately.<a target="_blank" rel="noopener noreferrer"
      href="#section-5.3.1-2.4">¶</a></p>
<h4 data-id="QpldKK"><a target="_blank" rel="noopener noreferrer" href="#section-5.3.2">5.3.2. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-tag-validity">Tag validity</a></h4>
<p data-id="8iqLS1">Two additional kinds of validity errors are introduced by adding tags to the basic generic data
   model:<a target="_blank" rel="noopener noreferrer" href="#section-5.3.2-1">¶</a></p>
<p data-id="ccKFgP">Inadmissible type for tag content:</p>
<p data-id="IFHk43"> Tag numbers (<a target="_blank" rel="noopener noreferrer" href="#tags">Section 3.4</a>) specify
   what type of data item is supposed to be used as their tag content; for example, the tag numbers for unsigned or
   negative bignums are supposed to be put on byte strings. A decoder that decodes the tagged data item into a native
   representation (a native big integer in this example) is expected to check the type of the data item being tagged.
   Even decoders that don&apos;t have such native representations available in their environment may perform the check
   on those tags known to them and react appropriately.<a target="_blank" rel="noopener noreferrer"
      href="#section-5.3.2-2.2">¶</a></p>
<p data-id="IYZEFH">Inadmissible value for tag content:</p>
<p data-id="XdkURT"> The type of data item may be admissible for a tag&apos;s content, but the specific value may not
   be; e.g., a value of &quot;yesterday&quot; is not acceptable for the content of tag 0, even though it properly is a
   text string. A decoder that normally ingests such tags into equivalent platform types might present this tag to the
   application in a similar way to how it would present a tag with an unknown tag number (<a target="_blank"
      rel="noopener noreferrer" href="#validity-checking">Section 5.4</a>).<a target="_blank" rel="noopener noreferrer"
      href="#section-5.3.2-2.4">¶</a></p>
<h3 data-id="pw6u6T"><a target="_blank" rel="noopener noreferrer" href="#section-5.4">5.4. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-validity-and-evolution">Validity and Evolution</a></h3>
<p data-id="BDh4Zf">A decoder with validity checking will expend the effort to reliably detect data items with validity
   errors. For example, such a decoder needs to have an API that reports an error (and does not return data) for a CBOR
   data item that contains any of the validity errors listed in the previous subsection.<a target="_blank"
      rel="noopener noreferrer" href="#section-5.4-1">¶</a></p>
<p data-id="HZHxCE">The set of tags defined in the &quot;Concise Binary Object Representation (CBOR) Tags&quot; registry
   (<a target="_blank" rel="noopener noreferrer" href="#ianatags">Section 9.2</a>), as well as the set of simple values
   defined in the &quot;Concise Binary Object Representation (CBOR) Simple Values&quot; registry (<a target="_blank"
      rel="noopener noreferrer" href="#ianasimple">Section 9.1</a>), can grow at any time beyond the set understood by a
   generic decoder. A validity-checking decoder can do one of two things when it encounters such a case that it does not
   recognize:<a target="_blank" rel="noopener noreferrer" href="#section-5.4-2">¶</a></p>
<ol>
   <li>
      <p data-id="XWGoty">It can report an error (and not return data). Note that treating this case as an error can
         cause ossification and is thus not encouraged. This error is not a validity error, per se. This kind of error
         is more likely to be raised by a decoder that would be performing validity checking if this were a known
         case.<a target="_blank" rel="noopener noreferrer" href="#section-5.4-3.1">¶</a></p>
   </li>
   <li>
      <p data-id="8CoEdx">It can emit the unknown item (type, value, and, for tags, the decoded tagged data item) to the
         application calling the decoder, and then give the application an indication that the decoder did not recognize
         that tag number or simple value.<a target="_blank" rel="noopener noreferrer" href="#section-5.4-3.2">¶</a></p>
   </li>
</ol>
<p data-id="3t-10J">The latter approach, which is also appropriate for decoders that do not support validity checking,
   provides forward compatibility with newly registered tags and simple values without the requirement to update the
   encoder at the same time as the calling application. (For this, the decoder&apos;s API needs the ability to mark
   unknown items so that the calling application can handle them in a manner appropriate for the program.)<a
      target="_blank" rel="noopener noreferrer" href="#section-5.4-4">¶</a></p>
<p data-id="XDMCkX">Since some of the processing needed for validity checking may have an appreciable cost (in
   particular with duplicate detection for maps), support of validity checking is not a requirement placed on all CBOR
   decoders.<a target="_blank" rel="noopener noreferrer" href="#section-5.4-5">¶</a></p>
<p data-id="59sFiP">Some encoders will rely on their applications to provide input data in such a way that valid CBOR
   results from the encoder. A generic encoder may also want to provide a validity-checking mode where it reliably
   limits its output to valid CBOR, independent of whether or not its application is indeed providing API-conformant
   data.<a target="_blank" rel="noopener noreferrer" href="#section-5.4-6">¶</a></p>
<h3 data-id="Vpp_Fk"><a target="_blank" rel="noopener noreferrer" href="#section-5.5">5.5. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-numbers">Numbers</a></h3>
<p data-id="Vn62iZ">CBOR-based protocols should take into account that different language environments pose different
   restrictions on the range and precision of numbers that are representable. For example, the basic JavaScript number
   system treats all numbers as floating-point values, which may result in the silent loss of precision in decoding
   integers with more than 53 significant bits. Another example is that, since CBOR keeps the sign bit for its integer
   representation in the major type, it has one bit more for signed numbers of a certain length (e.g.,
   -2<sup>64</sup>..2<sup>64</sup>-1 for 1+8-byte integers) than the typical platform signed integer representation of
   the same length (-2<sup>63</sup>..2<sup>63</sup>-1 for 8-byte int64_t). A protocol that uses numbers should define
   its expectations on the handling of nontrivial numbers in decoders and receiving applications.<a target="_blank"
      rel="noopener noreferrer" href="#section-5.5-1">¶</a></p>
<p data-id="yorEwS">A CBOR-based protocol that includes floating-point numbers can restrict which of the three formats
   (half-precision, single-precision, and double-precision) are to be supported. For an integer-only application, a
   protocol may want to completely exclude the use of floating-point values.<a target="_blank" rel="noopener noreferrer"
      href="#section-5.5-2">¶</a></p>
<p data-id="IQ_-m8">A CBOR-based protocol designed for compactness may want to exclude specific integer encodings that
   are longer than necessary for the application, such as to save the need to implement 64-bit integers. There is an
   expectation that encoders will use the most compact integer representation that can represent a given value. However,
   a compact application that does not require deterministic encoding should accept values that use a longer-than-needed
   encoding (such as encoding &quot;0&quot; as 0b000_11001 followed by two bytes of 0x00) as long as the application can
   decode an integer of the given size. Similar considerations apply to floating-point values; decoding both preferred
   serializations and longer-than-needed ones is recommended.<a target="_blank" rel="noopener noreferrer"
      href="#section-5.5-3">¶</a></p>
<p data-id="PPggI-">CBOR-based protocols for constrained applications that provide a choice between representing a
   specific number as an integer and as a decimal fraction or bigfloat (such as when the exponent is small and
   nonnegative) might express a quality-of-implementation expectation that the integer representation is used
   directly.<a target="_blank" rel="noopener noreferrer" href="#section-5.5-4">¶</a></p>
<h3 data-id="8aIF0P"><a target="_blank" rel="noopener noreferrer" href="#section-5.6">5.6. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-specifying-keys-for-maps">Specifying Keys for Maps</a></h3>
<p data-id="b-9DTl">The encoding and decoding applications need to agree on what types of keys are going to be used in
   maps. In applications that need to interwork with JSON-based applications, conversion is simplified by limiting keys
   to text strings only; otherwise, there has to be a specified mapping from the other CBOR types to text strings, and
   this often leads to implementation errors. In applications where keys are numeric in nature, and numeric ordering of
   keys is important to the application, directly using the numbers for the keys is useful.<a target="_blank"
      rel="noopener noreferrer" href="#section-5.6-1">¶</a></p>
<p data-id="EIV_Vz">If multiple types of keys are to be used, consideration should be given to how these types would be
   represented in the specific programming environments that are to be used. For example, in JavaScript Maps [<a
      target="_blank" rel="noopener noreferrer" href="#ECMA262">ECMA262</a>], a key of integer 1 cannot be distinguished
   from a key of floating-point 1.0. This means that, if integer keys are used, the protocol needs to avoid the use of
   floating-point keys the values of which happen to be integer numbers in the same map.<a target="_blank"
      rel="noopener noreferrer" href="#section-5.6-2">¶</a></p>
<p data-id="mGq5UG">Decoders that deliver data items nested within a CBOR data item immediately on decoding them
   (&quot;streaming decoders&quot;) often do not keep the state that is necessary to ascertain uniqueness of a key in a
   map. Similarly, an encoder that can start encoding data items before the enclosing data item is completely available
   (&quot;streaming encoder&quot;) may want to reduce its overhead significantly by relying on its data source to
   maintain uniqueness.<a target="_blank" rel="noopener noreferrer" href="#section-5.6-3">¶</a></p>
<p data-id="4vYdgA">A CBOR-based protocol MUST define what to do when a receiving application sees multiple identical
   keys in a map. The resulting rule in the protocol MUST respect the CBOR data model: it cannot prescribe a specific
   handling of the entries with the identical keys, except that it might have a rule that having identical keys in a map
   indicates a malformed map and that the decoder has to stop with an error. When processing maps that exhibit entries
   with duplicate keys, a generic decoder might do one of the following:<a target="_blank" rel="noopener noreferrer"
      href="#section-5.6-4">¶</a></p>
<ol>
   <li>
      <p data-id="ntAqV4">Not accept maps with duplicate keys (that is, enforce validity for maps, see also <a
            target="_blank" rel="noopener noreferrer" href="#validity-checking">Section 5.4</a>). These generic decoders
         are universally useful. An application may still need to perform its own duplicate checking based on
         application rules (for instance, if the application equates integers and floating-point values in map key
         positions for specific maps).<a target="_blank" rel="noopener noreferrer" href="#section-5.6-5.1">¶</a></p>
   </li>
   <li>
      <p data-id="9C8I0d">Pass all map entries to the application, including ones with duplicate keys. This requires
         that the application handle (check against) duplicate keys, even if the application rules are identical to the
         generic data model rules.<a target="_blank" rel="noopener noreferrer" href="#section-5.6-5.2">¶</a></p>
   </li>
   <li>
      <p data-id="tKmQXW">Lose some entries with duplicate keys, e.g., deliver only the final (or first) entry out of
         the entries with the same key. With such a generic decoder, applications may get different results for a
         specific key on different runs, and with different generic decoders, which value is returned is based on
         generic decoder implementation and the actual order of keys in the map. In particular, applications cannot
         validate key uniqueness on their own as they do not necessarily see all entries; they may not be able to use
         such a generic decoder if they need to validate key uniqueness. These generic decoders can only be used in
         situations where the data source and transfer always provide valid maps; this is not possible if the data
         source and transfer can be attacked.<a target="_blank" rel="noopener noreferrer" href="#section-5.6-5.3">¶</a>
      </p>
   </li>
</ol>
<p data-id="EhLF_k">Generic decoders need to document which of these three approaches they implement.<a target="_blank"
      rel="noopener noreferrer" href="#section-5.6-6">¶</a></p>
<p data-id="WGyQ0F">The CBOR data model for maps does not allow ascribing semantics to the order of the key/value pairs
   in the map representation. Thus, a CBOR-based protocol MUST NOT specify that changing the key/value pair order in a
   map changes the semantics, except to specify that some orders are disallowed, for example, where they would not meet
   the requirements of a deterministic encoding (<a target="_blank" rel="noopener noreferrer" href="#det-enc">Section
      4.2</a>). (Any secondary effects of map ordering such as on timing, cache usage, and other potential side channels
   are not considered part of the semantics but may be enough reason on their own for a protocol to require a
   deterministic encoding format.)<a target="_blank" rel="noopener noreferrer" href="#section-5.6-7">¶</a></p>
<p data-id="HwgwDB">Applications for constrained devices should consider using small integers as keys if they have maps
   with a small number of frequently used keys; for instance, a set of 24 or fewer keys can be encoded in a single byte
   as unsigned integers, up to 48 if negative integers are also used. Less frequently occurring keys can then use
   integers with longer encodings.<a target="_blank" rel="noopener noreferrer" href="#section-5.6-8">¶</a></p>
<h4 data-id="laPU4t"><a target="_blank" rel="noopener noreferrer" href="#section-5.6.1">5.6.1. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-equivalence-of-keys">Equivalence of Keys</a></h4>
<p data-id="PJ8QYO">The specific data model that applies to a CBOR data item is used to determine whether keys occurring
   in maps are duplicates or distinct.<a target="_blank" rel="noopener noreferrer" href="#section-5.6.1-1">¶</a></p>
<p data-id="tTIT78">At the generic data model level, numerically equivalent integer and floating-point values are
   distinct from each other, as they are from the various big numbers (Tags 2 to 5). Similarly, text strings are
   distinct from byte strings, even if composed of the same bytes. A tagged value is distinct from an untagged value or
   from a value tagged with a different tag number.<a target="_blank" rel="noopener noreferrer"
      href="#section-5.6.1-2">¶</a></p>
<p data-id="UTPTfJ">Within each of these groups, numeric values are distinct unless they are numerically equal
   (specifically, -0.0 is equal to 0.0); for the purpose of map key equivalence, NaN values are equivalent if they have
   the same significand after zero-extending both significands at the right to 64 bits.<a target="_blank"
      rel="noopener noreferrer" href="#section-5.6.1-3">¶</a></p>
<p data-id="g4QVuG">Both byte strings and text strings are compared byte by byte, arrays are compared element by
   element, and are equal if they have the same number of bytes/elements and the same values at the same positions. Two
   maps are equal if they have the same set of pairs regardless of their order; pairs are equal if both the key and
   value are equal.<a target="_blank" rel="noopener noreferrer" href="#section-5.6.1-4">¶</a></p>
<p data-id="G4Bv3c">Tagged values are equal if both the tag number and the tag content are equal. (Note that a generic
   decoder that provides processing for a specific tag may not be able to distinguish some semantically equivalent
   values, e.g., if leading zeroes occur in the content of tag 2 or tag 3 (<a target="_blank" rel="noopener noreferrer"
      href="#bignums">Section 3.4.3</a>).) Simple values are equal if they simply have the same value. Nothing else is
   equal in the generic data model; a simple value 2 is not equivalent to an integer 2, and an array is never equivalent
   to a map.<a target="_blank" rel="noopener noreferrer" href="#section-5.6.1-5">¶</a></p>
<p data-id="jhi2RS">As discussed in <a target="_blank" rel="noopener noreferrer" href="#specific-data-models">Section
      2.2</a>, specific data models can make values equivalent for the purpose of comparing map keys that are distinct
   in the generic data model. Note that this implies that a generic decoder may deliver a decoded map to an application
   that needs to be checked for duplicate map keys by that application (alternatively, the decoder may provide a
   programming interface to perform this service for the application). Specific data models are not able to distinguish
   values for map keys that are equal for this purpose at the generic data model level.<a target="_blank"
      rel="noopener noreferrer" href="#section-5.6.1-6">¶</a></p>
<h3 data-id="iVh2oZ"><a target="_blank" rel="noopener noreferrer" href="#section-5.7">5.7. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-undefined-values">Undefined Values</a></h3>
<p data-id="al55v7">In some CBOR-based protocols, the simple value (<a target="_blank" rel="noopener noreferrer"
      href="#fpnocont">Section 3.3</a>) of <code>undefined</code> might be used by an encoder as a substitute for a data
   item with an encoding problem, in order to allow the rest of the enclosing data items to be encoded without harm.<a
      target="_blank" rel="noopener noreferrer" href="#section-5.7-1">¶</a></p>
<h2 data-id="e4y2JH"><a target="_blank" rel="noopener noreferrer" href="#section-6">6. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-converting-data-between-cbo">Converting Data between CBOR and JSON</a></h2>
<p data-id="HMw9KC">This section gives non-normative advice about converting between CBOR and JSON. Implementations of
   converters MAY use whichever advice here they want.<a target="_blank" rel="noopener noreferrer"
      href="#section-6-1">¶</a></p>
<p data-id="Hy8tOm">It is worth noting that a JSON text is a sequence of characters, not an encoded sequence of bytes,
   while a CBOR data item consists of bytes, not characters.<a target="_blank" rel="noopener noreferrer"
      href="#section-6-2">¶</a></p>
<h3 data-id="u-8xfX"><a target="_blank" rel="noopener noreferrer" href="#section-6.1">6.1. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-converting-from-cbor-to-jso">Converting from CBOR to JSON</a></h3>
<p data-id="C_9ZpQ">Most of the types in CBOR have direct analogs in JSON. However, some do not, and someone
   implementing a CBOR-to-JSON converter has to consider what to do in those cases. The following non-normative advice
   deals with these by converting them to a single substitute value, such as a JSON null.<a target="_blank"
      rel="noopener noreferrer" href="#section-6.1-1">¶</a></p>
<ol>
   <li>
      <p data-id="fwTlz2">An integer (major type 0 or 1) becomes a JSON number.<a target="_blank"
            rel="noopener noreferrer" href="#section-6.1-2.1">¶</a></p>
   </li>
   <li>
      <p data-id="jEgNlj">A byte string (major type 2) that is not embedded in a tag that specifies a proposed encoding
         is encoded in base64url without padding and becomes a JSON string.<a target="_blank" rel="noopener noreferrer"
            href="#section-6.1-2.2">¶</a></p>
   </li>
   <li>
      <p data-id="Hq3F9y">A UTF-8 string (major type 3) becomes a JSON string. Note that JSON requires escaping certain
         characters ([<a target="_blank" rel="noopener noreferrer" href="#RFC8259">RFC8259</a>], <a target="_blank"
            rel="noopener noreferrer" href="https://www.rfc-editor.org/rfc/rfc8259#section-7">Section 7</a>): quotation
         mark (U+0022), reverse solidus (U+005C), and the &quot;C0 control characters&quot; (U+0000 through U+001F). All
         other characters are copied unchanged into the JSON UTF-8 string.<a target="_blank" rel="noopener noreferrer"
            href="#section-6.1-2.3">¶</a></p>
   </li>
   <li>
      <p data-id="qcA4UY">An array (major type 4) becomes a JSON array.<a target="_blank" rel="noopener noreferrer"
            href="#section-6.1-2.4">¶</a></p>
   </li>
   <li>
      <p data-id="wglPoL">A map (major type 5) becomes a JSON object. This is possible directly only if all keys are
         UTF-8 strings. A converter might also convert other keys into UTF-8 strings (such as by converting integers
         into strings containing their decimal representation); however, doing so introduces a danger of key collision.
         Note also that, if tags on UTF-8 strings are ignored as proposed below, this will cause a key collision if the
         tags are different but the strings are the same.<a target="_blank" rel="noopener noreferrer"
            href="#section-6.1-2.5">¶</a></p>
   </li>
   <li>
      <p data-id="J8nx8k">False (major type 7, additional information 20) becomes a JSON false.<a target="_blank"
            rel="noopener noreferrer" href="#section-6.1-2.6">¶</a></p>
   </li>
   <li>
      <p data-id="8UZ65C">True (major type 7, additional information 21) becomes a JSON true.<a target="_blank"
            rel="noopener noreferrer" href="#section-6.1-2.7">¶</a></p>
   </li>
   <li>
      <p data-id="zeb9px">Null (major type 7, additional information 22) becomes a JSON null.<a target="_blank"
            rel="noopener noreferrer" href="#section-6.1-2.8">¶</a></p>
   </li>
   <li>
      <p data-id="fPzbkD">A floating-point value (major type 7, additional information 25 through 27) becomes a JSON
         number if it is finite (that is, it can be represented in a JSON number); if the value is non-finite (NaN, or
         positive or negative Infinity), it is represented by the substitute value.<a target="_blank"
            rel="noopener noreferrer" href="#section-6.1-2.9">¶</a></p>
   </li>
   <li>
      <p data-id="GjLH7x">Any other simple value (major type 7, any additional information value not yet discussed) is
         represented by the substitute value.<a target="_blank" rel="noopener noreferrer" href="#section-6.1-2.10">¶</a>
      </p>
   </li>
   <li>
      <p data-id="_uigSG">A bignum (major type 6, tag number 2 or 3) is represented by encoding its byte string in
         base64url without padding and becomes a JSON string. For tag number 3 (negative bignum), a &quot;~&quot; (ASCII
         tilde) is inserted before the base-encoded value. (The conversion to a binary blob instead of a number is to
         prevent a likely numeric overflow for the JSON decoder.)<a target="_blank" rel="noopener noreferrer"
            href="#section-6.1-2.11">¶</a></p>
   </li>
   <li>
      <p data-id="kGIGZB">A byte string with an encoding hint (major type 6, tag number 21 through 23) is encoded as
         described by the hint and becomes a JSON string.<a target="_blank" rel="noopener noreferrer"
            href="#section-6.1-2.12">¶</a></p>
   </li>
   <li>
      <p data-id="0BaYPj">For all other tags (major type 6, any other tag number), the tag content is represented as a
         JSON value; the tag number is ignored.<a target="_blank" rel="noopener noreferrer"
            href="#section-6.1-2.13">¶</a></p>
   </li>
   <li>
      <p data-id="imhZg4">Indefinite-length items are made definite before conversion.<a target="_blank"
            rel="noopener noreferrer" href="#section-6.1-2.14">¶</a></p>
   </li>
</ol>
<p data-id="kZ_SzX">A CBOR-to-JSON converter may want to keep to the JSON profile I-JSON [<a target="_blank"
      rel="noopener noreferrer" href="#RFC7493">RFC7493</a>], to maximize interoperability and increase confidence that
   the JSON output can be processed with predictable results. For example, this has implications on the range of
   integers that can be represented reliably, as well as on the top-level items that may be supported by older JSON
   implementations.<a target="_blank" rel="noopener noreferrer" href="#section-6.1-3">¶</a></p>
<h3 data-id="fPzNLN"><a target="_blank" rel="noopener noreferrer" href="#section-6.2">6.2. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-converting-from-json-to-cbo">Converting from JSON to CBOR</a></h3>
<p data-id="pyIknO">All JSON values, once decoded, directly map into one or more CBOR values. As with any kind of CBOR
   generation, decisions have to be made with respect to number representation. In a suggested conversion:<a
      target="_blank" rel="noopener noreferrer" href="#section-6.2-1">¶</a></p>
<ol>
   <li>
      <p data-id="rUDXwt">JSON numbers without fractional parts (integer numbers) are represented as integers (major
         types 0 and 1, possibly major type 6, tag number 2 and 3), choosing the shortest form; integers longer than an
         implementation-defined threshold may instead be represented as floating-point values. The default range that is
         represented as integer is -2<sup>53</sup>+1..2<sup>53</sup>-1 (fully exploiting the range for exact integers in
         the binary64 representation often used for decoding JSON [<a target="_blank" rel="noopener noreferrer"
            href="#RFC7493">RFC7493</a>]). A CBOR-based protocol, or a generic converter implementation, may choose
         -2<sup>32</sup>..2<sup>32</sup>-1 or -2<sup>64</sup>..2<sup>64</sup>-1 (fully using the integer ranges
         available in CBOR with uint32_t or uint64_t, respectively) or even -2<sup>31</sup>..2<sup>31</sup>-1 or
         -2<sup>63</sup>..2<sup>63</sup>-1 (using popular ranges for two&apos;s complement signed integers). (If the
         JSON was generated from a JavaScript implementation, its precision is already limited to 53 bits maximum.)<a
            target="_blank" rel="noopener noreferrer" href="#section-6.2-2.1">¶</a></p>
   </li>
   <li>
      <p data-id="4zSeJ0">Numbers with fractional parts are represented as floating-point values, performing the
         decimal-to-binary conversion based on the precision provided by IEEE 754 binary64. The mathematical value of
         the JSON number is converted to binary64 using the roundTiesToEven procedure in Section 4.3.1 of [<a
            target="_blank" rel="noopener noreferrer" href="#IEEE754">IEEE754</a>]. Then, when encoding in CBOR, the
         preferred serialization uses the shortest floating-point representation exactly representing this conversion
         result; for instance, 1.5 is represented in a 16-bit floating-point value (not all implementations will be
         capable of efficiently finding the minimum form, though). Instead of using the default binary64 precision,
         there may be an implementation-defined limit to the precision of the conversion that will affect the precision
         of the represented values. Decimal representation should only be used on the CBOR side if that is specified in
         a protocol.<a target="_blank" rel="noopener noreferrer" href="#section-6.2-2.2">¶</a></p>
   </li>
</ol>
<p data-id="t_NJhp">CBOR has been designed to generally provide a more compact encoding than JSON. One implementation
   strategy that might come to mind is to perform a JSON-to-CBOR encoding in place in a single buffer. This strategy
   would need to carefully consider a number of pathological cases, such as that some strings represented with no or
   very few escapes and longer (or much longer) than 255 bytes may expand when encoded as UTF-8 strings in CBOR.
   Similarly, a few of the binary floating-point representations might cause expansion from some short decimal
   representations (1.1, 1e9) in JSON. This may be hard to get right, and any ensuing vulnerabilities may be exploited
   by an attacker.<a target="_blank" rel="noopener noreferrer" href="#section-6.2-3">¶</a></p>
<h2 data-id="a8TQhB"><a target="_blank" rel="noopener noreferrer" href="#section-7">7. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-future-evolution-of-cbor">Future Evolution of CBOR</a></h2>
<p data-id="3XrkO9">Successful protocols evolve over time. New ideas appear, implementation platforms improve, related
   protocols are developed and evolve, and new requirements from applications and protocols are added. Facilitating
   protocol evolution is therefore an important design consideration for any protocol development.<a target="_blank"
      rel="noopener noreferrer" href="#section-7-1">¶</a></p>
<p data-id="d4M7qM">For protocols that will use CBOR, CBOR provides some useful mechanisms to facilitate their
   evolution. Best practices for this are well known, particularly from JSON format development of JSON-based protocols.
   Therefore, such best practices are outside the scope of this specification.<a target="_blank"
      rel="noopener noreferrer" href="#section-7-2">¶</a></p>
<p data-id="Fa3Xz3">However, facilitating the evolution of CBOR itself is very well within its scope. CBOR is designed
   to both provide a stable basis for development of CBOR-based protocols and to be able to evolve. Since a successful
   protocol may live for decades, CBOR needs to be designed for decades of use and evolution. This section provides some
   guidance for the evolution of CBOR. It is necessarily more subjective than other parts of this document. It is also
   necessarily incomplete, lest it turn into a textbook on protocol development.<a target="_blank"
      rel="noopener noreferrer" href="#section-7-3">¶</a></p>
<h3 data-id="ShPQri"><a target="_blank" rel="noopener noreferrer" href="#section-7.1">7.1. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-extension-points">Extension Points</a></h3>
<p data-id="SxUP_y">In a protocol design, opportunities for evolution are often included in the form of extension
   points. For example, there may be a codepoint space that is not fully allocated from the outset, and the protocol is
   designed to tolerate and embrace implementations that start using more codepoints than initially allocated.<a
      target="_blank" rel="noopener noreferrer" href="#section-7.1-1">¶</a></p>
<p data-id="58_nXM">Sizing the codepoint space may be difficult because the range required may be hard to predict.
   Protocol designs should attempt to make the codepoint space large enough so that it can slowly be filled over the
   intended lifetime of the protocol.<a target="_blank" rel="noopener noreferrer" href="#section-7.1-2">¶</a></p>
<p data-id="uZmX94">CBOR has three major extension points:<a target="_blank" rel="noopener noreferrer"
      href="#section-7.1-3">¶</a></p>
<p data-id="2ENmQX">the &quot;simple&quot; space (values in major type 7):</p>
<p data-id="XIb42b">Of the 24 efficient (and 224 slightly less efficient) values, only a small number have been
   allocated. Implementations receiving an unknown simple data item may easily be able to process it as such, given that
   the structure of the value is indeed simple. The IANA registry in <a target="_blank" rel="noopener noreferrer"
      href="#ianasimple">Section 9.1</a> is the appropriate way to address the extensibility of this codepoint space.<a
      target="_blank" rel="noopener noreferrer" href="#section-7.1-4.2">¶</a></p>
<p data-id="mA6h8u">the &quot;tag&quot; space (values in major type 6):</p>
<p data-id="fiwh5U"> The total codepoint space is abundant; only a tiny part of it has been allocated. However, not all
   of these codepoints are equally efficient: the first 24 only consume a single (&quot;1+0&quot;) byte, and half of
   them have already been allocated. The next 232 values only consume two (&quot;1+1&quot;) bytes, with nearly a quarter
   already allocated. These subspaces need some curation to last for a few more decades. Implementations receiving an
   unknown tag number can choose to process just the enclosed tag content or, preferably, to process the tag as an
   unknown tag number wrapping the tag content. The IANA registry in <a target="_blank" rel="noopener noreferrer"
      href="#ianatags">Section 9.2</a> is the appropriate way to address the extensibility of this codepoint space.<a
      target="_blank" rel="noopener noreferrer" href="#section-7.1-4.4">¶</a></p>
<p data-id="QJ06yt">the &quot;additional information&quot; space:</p>
<p data-id="UgTcKJ">An implementation receiving an unknown additional information value has no way to continue decoding,
   so allocating codepoints in this space is a major step beyond just exercising an extension point. There are also very
   few codepoints left. See also <a target="_blank" rel="noopener noreferrer" href="#curating">Section 7.2</a>.<a
      target="_blank" rel="noopener noreferrer" href="#section-7.1-4.6">¶</a></p>
<h3 data-id="iPvN9g"><a target="_blank" rel="noopener noreferrer" href="#section-7.2">7.2. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-curating-the-additional-inf">Curating the Additional Information Space</a>
</h3>
<p data-id="mYOLpw">The human mind is sometimes drawn to filling in little perceived gaps to make something neat. We
   expect the remaining gaps in the codepoint space for the additional information values to be an attractor for new
   ideas, just because they are there.<a target="_blank" rel="noopener noreferrer" href="#section-7.2-1">¶</a></p>
<p data-id="9cUMG_">The present specification does not manage the additional information codepoint space by an IANA
   registry. Instead, allocations out of this space can only be done by updating this specification.<a target="_blank"
      rel="noopener noreferrer" href="#section-7.2-2">¶</a></p>
<p data-id="o-uvoM">For an additional information value of n &gt;= 24, the size of the additional data typically is
   2<sup>n-24</sup> bytes. Therefore, additional information values 28 and 29 should be viewed as candidates for 128-bit
   and 256-bit quantities, in case a need arises to add them to the protocol. Additional information value 30 is then
   the only additional information value available for general allocation, and there should be a very good reason for
   allocating it before assigning it through an update of the present specification.<a target="_blank"
      rel="noopener noreferrer" href="#section-7.2-3">¶</a></p>
<h2 data-id="QGQZs6"><a target="_blank" rel="noopener noreferrer" href="#section-8">8. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-diagnostic-notation">Diagnostic Notation</a></h2>
<p data-id="pkuBq6">CBOR is a binary interchange format. To facilitate documentation and debugging, and in particular to
   facilitate communication between entities cooperating in debugging, this section defines a simple human-readable
   diagnostic notation. All actual interchange always happens in the binary format.<a target="_blank"
      rel="noopener noreferrer" href="#section-8-1">¶</a></p>
<p data-id="zladAW">Note that this truly is a diagnostic format; it is not meant to be parsed. Therefore, no formal
   definition (as in ABNF) is given in this document. (Implementers looking for a text-based format for representing
   CBOR data items in configuration files may also want to consider YAML [<a target="_blank" rel="noopener noreferrer"
      href="#YAML">YAML</a>].)<a target="_blank" rel="noopener noreferrer" href="#section-8-2">¶</a></p>
<p data-id="0G5PQ3">The diagnostic notation is loosely based on JSON as it is defined in RFC 8259, extending it where
   needed.<a target="_blank" rel="noopener noreferrer" href="#section-8-3">¶</a></p>
<p data-id="nh6AVb">The notation borrows the JSON syntax for numbers (integer and floating-point), True (&gt;true&lt;),
   False (&gt;false&lt;), Null (&gt;null&lt;), UTF-8 strings, arrays, and maps (maps are called objects in JSON; the
   diagnostic notation extends JSON here by allowing any data item in the key position). Undefined is written
   &gt;undefined&lt; as in JavaScript. The non-finite floating-point numbers Infinity, -Infinity, and NaN are written
   exactly as in this sentence (this is also a way they can be written in JavaScript, although JSON does not allow
   them). A tag is written as an integer number for the tag number, followed by the tag content in parentheses; for
   instance, a date in the format specified by RFC 3339 (ISO 8601) could be notated as:<a target="_blank"
      rel="noopener noreferrer" href="#section-8-4">¶</a></p>
<p data-id="rck27x">0(&quot;2013-03-21T20:04:00Z&quot;)<a target="_blank" rel="noopener noreferrer"
      href="#section-8-5">¶</a></p>
<p data-id="aAzVqF">or the equivalent relative time as the following:<a target="_blank" rel="noopener noreferrer"
      href="#section-8-6">¶</a></p>
<p data-id="uU2YFU">1(1363896240)<a target="_blank" rel="noopener noreferrer" href="#section-8-7">¶</a></p>
<p data-id="f0NMOF">Byte strings are notated in one of the base encodings, without padding, enclosed in single quotes,
   prefixed by &gt;h&lt; for base16, &gt;b32&lt; for base32, &gt;h32&lt; for base32hex, &gt;b64&lt; for base64 or
   base64url (the actual encodings do not overlap, so the string remains unambiguous). For example, the byte string
   0x12345678 could be written h&apos;12345678&apos;, b32&apos;CI2FM6A&apos;, or b64&apos;EjRWeA&apos;.<a
      target="_blank" rel="noopener noreferrer" href="#section-8-8">¶</a></p>
<p data-id="Ua8LnH">Unassigned simple values are given as &quot;simple()&quot; with the appropriate integer in the
   parentheses. For example, &quot;simple(42)&quot; indicates major type 7, value 42.<a target="_blank"
      rel="noopener noreferrer" href="#section-8-9">¶</a></p>
<p data-id="9dmHfv">A number of useful extensions to the diagnostic notation defined here are provided in <a
      target="_blank" rel="noopener noreferrer" href="https://www.rfc-editor.org/rfc/rfc8610#appendix-G">Appendix G</a>
   of [<a target="_blank" rel="noopener noreferrer" href="#RFC8610">RFC8610</a>], &quot;Extended Diagnostic
   Notation&quot; (EDN). Similarly, this notation could be extended in a separate document to provide documentation for
   NaN payloads, which are not covered in this document.<a target="_blank" rel="noopener noreferrer"
      href="#section-8-10">¶</a></p>
<h3 data-id="9whBwX"><a target="_blank" rel="noopener noreferrer" href="#section-8.1">8.1. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-encoding-indicators">Encoding Indicators</a></h3>
<p data-id="chu6K0">Sometimes it is useful to indicate in the diagnostic notation which of several alternative
   representations were actually used; for example, a data item written &gt;1.5&lt; by a diagnostic decoder might have
   been encoded as a half-, single-, or double-precision float.<a target="_blank" rel="noopener noreferrer"
      href="#section-8.1-1">¶</a></p>
<p data-id="t5eydZ">The convention for encoding indicators is that anything starting with an underscore and all
   following characters that are alphanumeric or underscore is an encoding indicator, and can be ignored by anyone not
   interested in this information. For example, <code>_</code> or <code>_3</code>. Encoding indicators are always
   optional.<a target="_blank" rel="noopener noreferrer" href="#section-8.1-2">¶</a></p>
<p data-id="NUJsBZ">A single underscore can be written after the opening brace of a map or the opening bracket of an
   array to indicate that the data item was represented in indefinite-length format. For example, [_ 1, 2] contains an
   indicator that an indefinite-length representation was used to represent the data item [1, 2].<a target="_blank"
      rel="noopener noreferrer" href="#section-8.1-3">¶</a></p>
<p data-id="Ts1VVa">An underscore followed by a decimal digit n indicates that the preceding item (or, for arrays and
   maps, the item starting with the preceding bracket or brace) was encoded with an additional information value of
   24+n. For example, 1.5_1 is a half-precision floating-point number, while 1.5_3 is encoded as double precision. This
   encoding indicator is not shown in <a target="_blank" rel="noopener noreferrer" href="#examples">Appendix A</a>.
   (Note that the encoding indicator &quot;_&quot; is thus an abbreviation of the full form &quot;_7&quot;, which is not
   used.)<a target="_blank" rel="noopener noreferrer" href="#section-8.1-4">¶</a></p>
<p data-id="EbFScr">The detailed chunk structure of byte and text strings of indefinite length can be notated in the
   form (_ h&apos;0123&apos;, h&apos;4567&apos;) and (_ &quot;foo&quot;, &quot;bar&quot;). However, for an
   indefinite-length string with no chunks inside, (_ ) would be ambiguous as to whether a byte string (0x5fff) or a
   text string (0x7fff) is meant and is therefore not used. The basic forms &apos;&apos;_ and &quot;&quot;_ can be used
   instead and are reserved for the case of no chunks only -- not as short forms for the (permitted, but not really
   useful) encodings with only empty chunks, which need to be notated as (_ &apos;&apos;), (_ &quot;&quot;), etc., to
   preserve the chunk structure.<a target="_blank" rel="noopener noreferrer" href="#section-8.1-5">¶</a></p>
<h2 data-id="HUhQwE"><a target="_blank" rel="noopener noreferrer" href="#section-9">9. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-iana-considerations">IANA Considerations</a></h2>
<p data-id="JP36xn">IANA has created two registries for new CBOR values. The registries are separate, that is, not under
   an umbrella registry, and follow the rules in [<a target="_blank" rel="noopener noreferrer"
      href="#RFC8126">RFC8126</a>]. IANA has also assigned a new media type, an associated CoAP Content-Format entry,
   and a structured syntax suffix.<a target="_blank" rel="noopener noreferrer" href="#section-9-1">¶</a></p>
<h3 data-id="Hg6tXv"><a target="_blank" rel="noopener noreferrer" href="#section-9.1">9.1. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-cbor-simple-values-registry">CBOR Simple Values Registry</a></h3>
<p data-id="d7RHjx">IANA has created the &quot;Concise Binary Object Representation (CBOR) Simple Values&quot; registry
   at [<a target="_blank" rel="noopener noreferrer" href="#IANA.cbor-simple-values">IANA.cbor-simple-values</a>]. The
   initial values are shown in <a target="_blank" rel="noopener noreferrer" href="#fpnoconttbl2">Table 4</a>.<a
      target="_blank" rel="noopener noreferrer" href="#section-9.1-1">¶</a></p>
<p data-id="eypgT-">New entries in the range 0 to 19 are assigned by Standards Action [<a target="_blank"
      rel="noopener noreferrer" href="#RFC8126">RFC8126</a>]. It is suggested that IANA allocate values starting with
   the number 16 in order to reserve the lower numbers for contiguous blocks (if any).<a target="_blank"
      rel="noopener noreferrer" href="#section-9.1-2">¶</a></p>
<p data-id="N-LJag">New entries in the range 32 to 255 are assigned by Specification Required.<a target="_blank"
      rel="noopener noreferrer" href="#section-9.1-3">¶</a></p>
<h3 data-id="_is7_M"><a target="_blank" rel="noopener noreferrer" href="#section-9.2">9.2. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-cbor-tags-registry">CBOR Tags Registry</a></h3>
<p data-id="cA9keM">IANA has created the &quot;Concise Binary Object Representation (CBOR) Tags&quot; registry at [<a
      target="_blank" rel="noopener noreferrer" href="#IANA.cbor-tags">IANA.cbor-tags</a>]. The tags that were defined
   in [<a target="_blank" rel="noopener noreferrer" href="#RFC7049">RFC7049</a>] are described in detail in <a
      target="_blank" rel="noopener noreferrer" href="#tags">Section 3.4</a>, and other tags have already been defined
   since then.<a target="_blank" rel="noopener noreferrer" href="#section-9.2-1">¶</a></p>
<p data-id="J-YT_E">New entries in the range 0 to 23 (&quot;1+0&quot;) are assigned by Standards Action. New entries in
   the ranges 24 to 255 (&quot;1+1&quot;) and 256 to 32767 (lower half of &quot;1+2&quot;) are assigned by Specification
   Required. New entries in the range 32768 to 18446744073709551615 (upper half of &quot;1+2&quot;, &quot;1+4&quot;, and
   &quot;1+8&quot;) are assigned by First Come First Served. The template for registration requests is:<a
      target="_blank" rel="noopener noreferrer" href="#section-9.2-2">¶</a></p>
<ol>
   <li>
      <p data-id="G-QnhA">Data item<a target="_blank" rel="noopener noreferrer" href="#section-9.2-3.1">¶</a></p>
   </li>
   <li>
      <p data-id="H5I9nw">Semantics (short form)<a target="_blank" rel="noopener noreferrer"
            href="#section-9.2-3.2">¶</a></p>
   </li>
</ol>
<p data-id="UFDiQx">In addition, First Come First Served requests should include:<a target="_blank"
      rel="noopener noreferrer" href="#section-9.2-4">¶</a></p>
<ol>
   <li>
      <p data-id="HTWkmM">Point of contact<a target="_blank" rel="noopener noreferrer" href="#section-9.2-5.1">¶</a></p>
   </li>
   <li>
      <p data-id="CThjFb">Description of semantics (URL) -- This description is optional; the URL can point to something
         like an Internet-Draft or a web page.<a target="_blank" rel="noopener noreferrer" href="#section-9.2-5.2">¶</a>
      </p>
   </li>
</ol>
<p data-id="Sq3H6O">Applicants exercising the First Come First Served range and making a suggestion for a tag number
   that is not representable in 32 bits (i.e., larger than 4294967295) should be aware that this could reduce
   interoperability with implementations that do not support 64-bit numbers.<a target="_blank" rel="noopener noreferrer"
      href="#section-9.2-6">¶</a></p>
<h3 data-id="cNaVfm"><a target="_blank" rel="noopener noreferrer" href="#section-9.3">9.3. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-media-types-registry">Media Types Registry</a></h3>
<p data-id="WoOQUI">The Internet media type [<a target="_blank" rel="noopener noreferrer" href="#RFC6838">RFC6838</a>]
   (&quot;MIME type&quot;) for a single encoded CBOR data item is &quot;application/cbor&quot; as defined in the
   &quot;Media Types&quot; registry [<a target="_blank" rel="noopener noreferrer"
      href="#IANA.media-types">IANA.media-types</a>]:<a target="_blank" rel="noopener noreferrer"
      href="#section-9.3-1">¶</a></p>
<p data-id="0uXots">Type name:</p>
<p data-id="tBwzJF">application<a target="_blank" rel="noopener noreferrer" href="#section-9.3-2.2">¶</a></p>
<p data-id="gBtQPB">Subtype name:</p>
<p data-id="GSKLlc">cbor<a target="_blank" rel="noopener noreferrer" href="#section-9.3-2.4">¶</a></p>
<p data-id="JPUY30">Required parameters:</p>
<p data-id="gWhIIO">n/a<a target="_blank" rel="noopener noreferrer" href="#section-9.3-2.6">¶</a></p>
<p data-id="8Zbt_m">Optional parameters:</p>
<p data-id="vy7g02">n/a<a target="_blank" rel="noopener noreferrer" href="#section-9.3-2.8">¶</a></p>
<p data-id="gmePPo">Encoding considerations:</p>
<p data-id="cM8OoF">Binary<a target="_blank" rel="noopener noreferrer" href="#section-9.3-2.10">¶</a></p>
<p data-id="WYzlkt">Security considerations:</p>
<p data-id="107zEQ">See <a target="_blank" rel="noopener noreferrer" href="#securitycons">Section 10</a> of RFC 8949.<a
      target="_blank" rel="noopener noreferrer" href="#section-9.3-2.12">¶</a></p>
<p data-id="OflEeu">Interoperability considerations:</p>
<p data-id="ifB0wu">n/a<a target="_blank" rel="noopener noreferrer" href="#section-9.3-2.14">¶</a></p>
<p data-id="0IKJms">Published specification:</p>
<p data-id="y8qwC0">RFC 8949<a target="_blank" rel="noopener noreferrer" href="#section-9.3-2.16">¶</a></p>
<p data-id="tZnkBi">Applications that use this media type:</p>
<p data-id="C5LxvP">Many<a target="_blank" rel="noopener noreferrer" href="#section-9.3-2.18">¶</a></p>
<p data-id="Fa-kHl">Additional information:</p>
<p data-id="uYvcVe"><br></p>
<p data-id="KtrStU">Magic number(s):</p>
<p data-id="-h6ANQ"> n/a<a target="_blank" rel="noopener noreferrer" href="#section-9.3-2.20.2.2">¶</a></p>
<p data-id="SzR1rE">File extension(s):</p>
<p data-id="AuL5v3"> .cbor<a target="_blank" rel="noopener noreferrer" href="#section-9.3-2.20.2.4">¶</a></p>
<p data-id="8tQ24I">Macintosh file type code(s):</p>
<p data-id="0Dyq-I">n/a<a target="_blank" rel="noopener noreferrer" href="#section-9.3-2.20.2.6">¶</a></p>
<p data-id="SEj2LN">Person &amp; email address to contact for further information:</p>
<p data-id="S9F29T">IETF CBOR Working Group (cbor@ietf.org) or IETF Applications and Real-Time Area (art@ietf.org)<a
      target="_blank" rel="noopener noreferrer" href="#section-9.3-2.22">¶</a></p>
<p data-id="0qYn_o">Intended usage:</p>
<p data-id="KrBZLt">COMMON<a target="_blank" rel="noopener noreferrer" href="#section-9.3-2.24">¶</a></p>
<p data-id="eJ6Qyf">Restrictions on usage:</p>
<p data-id="NnBqTv">none<a target="_blank" rel="noopener noreferrer" href="#section-9.3-2.26">¶</a></p>
<p data-id="FUCKFG">Author:</p>
<p data-id="lRAUHt">IETF CBOR Working Group (cbor@ietf.org)<a target="_blank" rel="noopener noreferrer"
      href="#section-9.3-2.28">¶</a></p>
<p data-id="PIoWAQ">Change controller:</p>
<p data-id="S7gKoP">The IESG (iesg@ietf.org)<a target="_blank" rel="noopener noreferrer" href="#section-9.3-2.30">¶</a>
</p>
<h3 data-id="FkCBeP"><a target="_blank" rel="noopener noreferrer" href="#section-9.4">9.4. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-coap-content-format-registr">CoAP Content-Format Registry</a></h3>
<p data-id="J_gBby">The CoAP Content-Format for CBOR has been registered in the &quot;CoAP Content-Formats&quot;
   subregistry within the &quot;Constrained RESTful Environments (CoRE) Parameters&quot; registry [<a target="_blank"
      rel="noopener noreferrer" href="#IANA.core-parameters">IANA.core-parameters</a>]:<a target="_blank"
      rel="noopener noreferrer" href="#section-9.4-1">¶</a></p>
<p data-id="utC7c5">Media Type:</p>
<p data-id="YyrXcq">application/cbor<a target="_blank" rel="noopener noreferrer" href="#section-9.4-2.2">¶</a></p>
<p data-id="8Tg-Gd">Encoding:</p>
<p data-id="AEOjke">-<a target="_blank" rel="noopener noreferrer" href="#section-9.4-2.4">¶</a></p>
<p data-id="Dt42Dp">ID:</p>
<p data-id="o8Pb6v">60<a target="_blank" rel="noopener noreferrer" href="#section-9.4-2.6">¶</a></p>
<p data-id="WEhN_W">Reference:</p>
<p data-id="MRmKcX">RFC 8949<a target="_blank" rel="noopener noreferrer" href="#section-9.4-2.8">¶</a></p>
<h3 data-id="yC07G8"><a target="_blank" rel="noopener noreferrer" href="#section-9.5">9.5. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-structured-syntax-suffix-re">Structured Syntax Suffix Registry</a></h3>
<p data-id="ednw8s">The structured syntax suffix [<a target="_blank" rel="noopener noreferrer"
      href="#RFC6838">RFC6838</a>] for media types based on a single encoded CBOR data item is +cbor, which IANA has
   registered in the &quot;Structured Syntax Suffixes&quot; registry [<a target="_blank" rel="noopener noreferrer"
      href="#IANA.structured-suffix">IANA.structured-suffix</a>]:<a target="_blank" rel="noopener noreferrer"
      href="#section-9.5-1">¶</a></p>
<p data-id="ab8h2R">Name:</p>
<p data-id="-Q3-M0">Concise Binary Object Representation (CBOR)<a target="_blank" rel="noopener noreferrer"
      href="#section-9.5-2.2">¶</a></p>
<p data-id="08qeMe">+suffix:</p>
<p data-id="uIJIdH">+cbor<a target="_blank" rel="noopener noreferrer" href="#section-9.5-2.4">¶</a></p>
<p data-id="nUG_9l">References:</p>
<p data-id="JFxgwr">RFC 8949<a target="_blank" rel="noopener noreferrer" href="#section-9.5-2.6">¶</a></p>
<p data-id="F-Hnbj">Encoding Considerations:</p>
<p data-id="nR16xM">CBOR is a binary format.<a target="_blank" rel="noopener noreferrer" href="#section-9.5-2.8">¶</a>
</p>
<p data-id="jWI1AD">Interoperability Considerations:</p>
<p data-id="YGlTO_">n/a<a target="_blank" rel="noopener noreferrer" href="#section-9.5-2.10">¶</a></p>
<p data-id="YK9Y6O">Fragment Identifier Considerations:</p>
<p data-id="G3oESX">The syntax and semantics of fragment identifiers specified for +cbor SHOULD be as specified for
   &quot;application/cbor&quot;. (At publication of RFC 8949, there is no fragment identification syntax defined for
   &quot;application/cbor&quot;.)<a target="_blank" rel="noopener noreferrer" href="#section-9.5-2.12.1">¶</a></p>
<p data-id="Znqs_8">The syntax and semantics for fragment identifiers for a specific &quot;xxx/yyy+cbor&quot; SHOULD be
   processed as follows:<a target="_blank" rel="noopener noreferrer" href="#section-9.5-2.12.2">¶</a></p>
<ol>
   <li>
      <p data-id="IME6Yx">For cases defined in +cbor, where the fragment identifier resolves per the +cbor rules, then
         process as specified in +cbor.<a target="_blank" rel="noopener noreferrer" href="#section-9.5-2.12.3.1">¶</a>
      </p>
   </li>
   <li>
      <p data-id="BlhN10">For cases defined in +cbor, where the fragment identifier does not resolve per the +cbor
         rules, then process as specified in &quot;xxx/yyy+cbor&quot;.<a target="_blank" rel="noopener noreferrer"
            href="#section-9.5-2.12.3.2">¶</a></p>
   </li>
   <li>
      <p data-id="OV0vz2">For cases not defined in +cbor, then process as specified in &quot;xxx/yyy+cbor&quot;.<a
            target="_blank" rel="noopener noreferrer" href="#section-9.5-2.12.3.3">¶</a></p>
   </li>
</ol>
<p data-id="aHcKV9">Security Considerations:</p>
<p data-id="ICbeDf">See <a target="_blank" rel="noopener noreferrer" href="#securitycons">Section 10</a> of RFC 8949.<a
      target="_blank" rel="noopener noreferrer" href="#section-9.5-2.14">¶</a></p>
<p data-id="Zf5_pX">Contact:</p>
<p data-id="0LfNg2"> IETF CBOR Working Group (cbor@ietf.org) or IETF Applications and Real-Time Area (art@ietf.org)<a
      target="_blank" rel="noopener noreferrer" href="#section-9.5-2.16">¶</a></p>
<p data-id="w84zqo">Author/Change Controller:</p>
<p data-id="1ZLxQJ">IETF<a target="_blank" rel="noopener noreferrer" href="#section-9.5-2.18">¶</a></p>
<h2 data-id="96mhkt"><a target="_blank" rel="noopener noreferrer" href="#section-10">10. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-security-considerations">Security Considerations</a></h2>
<p data-id="YSoF1w">A network-facing application can exhibit vulnerabilities in its processing logic for incoming data.
   Complex parsers are well known as a likely source of such vulnerabilities, such as the ability to remotely crash a
   node, or even remotely execute arbitrary code on it. CBOR attempts to narrow the opportunities for introducing such
   vulnerabilities by reducing parser complexity, by giving the entire range of encodable values a meaning where
   possible.<a target="_blank" rel="noopener noreferrer" href="#section-10-1">¶</a></p>
<p data-id="oBkBXT">Because CBOR decoders are often used as a first step in processing unvalidated input, they need to
   be fully prepared for all types of hostile input that may be designed to corrupt, overrun, or achieve control of the
   system decoding the CBOR data item. A CBOR decoder needs to assume that all input may be hostile even if it has been
   checked by a firewall, has come over a secure channel such as TLS, is encrypted or signed, or has come from some
   other source that is presumed trusted.<a target="_blank" rel="noopener noreferrer" href="#section-10-2">¶</a></p>
<p data-id="uIMjUM"><a target="_blank" rel="noopener noreferrer" href="#preferred">Section 4.1</a> gives examples of
   limitations in interoperability when using a constrained CBOR decoder with input from a CBOR encoder that uses a
   non-preferred serialization. When a single data item is consumed both by such a constrained decoder and a full
   decoder, it can lead to security issues that can be exploited by an attacker who can inject or manipulate content.<a
      target="_blank" rel="noopener noreferrer" href="#section-10-3">¶</a></p>
<p data-id="jOQdVh">As discussed throughout this document, there are many values that can be considered
   &quot;equivalent&quot; in some circumstances and &quot;not equivalent&quot; in others. As just one example, the
   numeric value for the number &quot;one&quot; might be expressed as an integer or a bignum. A system interpreting CBOR
   input might accept either form for the number &quot;one&quot;, or might reject one (or both) forms. Such acceptance
   or rejection can have security implications in the program that is using the interpreted input.<a target="_blank"
      rel="noopener noreferrer" href="#section-10-4">¶</a></p>
<p data-id="oaDijR">Hostile input may be constructed to overrun buffers, to overflow or underflow integer arithmetic, or
   to cause other decoding disruption. CBOR data items might have lengths or sizes that are intentionally extremely
   large or too short. Resource exhaustion attacks might attempt to lure a decoder into allocating very big data items
   (strings, arrays, maps, or even arbitrary precision numbers) or exhaust the stack depth by setting up deeply nested
   items. Decoders need to have appropriate resource management to mitigate these attacks. (Items for which very large
   sizes are given can also attempt to exploit integer overflow vulnerabilities.)<a target="_blank"
      rel="noopener noreferrer" href="#section-10-5">¶</a></p>
<p data-id="HemjZG">A CBOR decoder, by definition, only accepts well-formed CBOR; this is the first step to its
   robustness. Input that is not well-formed CBOR causes no further processing from the point where the lack of
   well-formedness was detected. If possible, any data decoded up to this point should have no impact on the application
   using the CBOR decoder.<a target="_blank" rel="noopener noreferrer" href="#section-10-6">¶</a></p>
<p data-id="0-MEBR">In addition to ascertaining well-formedness, a CBOR decoder might also perform validity checks on
   the CBOR data. Alternatively, it can leave those checks to the application using the decoder. This choice needs to be
   clearly documented in the decoder. Beyond the validity at the CBOR level, an application also needs to ascertain that
   the input is in alignment with the application protocol that is serialized in CBOR.<a target="_blank"
      rel="noopener noreferrer" href="#section-10-7">¶</a></p>
<p data-id="Dg4ZM-">The input check itself may consume resources. This is usually linear in the size of the input, which
   means that an attacker has to spend resources that are commensurate to the resources spent by the defender on input
   validation. However, an attacker might be able to craft inputs that will take longer for a target decoder to process
   than for the attacker to produce. Processing for arbitrary-precision numbers may exceed linear effort. Also, some
   hash-table implementations that are used by decoders to build in-memory representations of maps can be attacked to
   spend quadratic effort, unless a secret key (see Section 7 of [<a target="_blank" rel="noopener noreferrer"
      href="#SIPHASH_LNCS">SIPHASH_LNCS</a>], also [<a target="_blank" rel="noopener noreferrer"
      href="#SIPHASH_OPEN">SIPHASH_OPEN</a>]) or some other mitigation is employed. Such superlinear efforts can be
   exploited by an attacker to exhaust resources at or before the input validator; they therefore need to be avoided in
   a CBOR decoder implementation. Note that tag number definitions and their implementations can add security
   considerations of this kind; this should then be discussed in the security considerations of the tag number
   definition.<a target="_blank" rel="noopener noreferrer" href="#section-10-8">¶</a></p>
<p data-id="n9cHH-">CBOR encoders do not receive input directly from the network and are thus not directly attackable in
   the same way as CBOR decoders. However, CBOR encoders often have an API that takes input from another level in the
   implementation and can be attacked through that API. The design and implementation of that API should assume the
   behavior of its caller may be based on hostile input or on coding mistakes. It should check inputs for buffer
   overruns, overflow and underflow of integer arithmetic, and other such errors that are aimed to disrupt the
   encoder.<a target="_blank" rel="noopener noreferrer" href="#section-10-9">¶</a></p>
<p data-id="IwsXZW">Protocols should be defined in such a way that potential multiple interpretations are reliably
   reduced to a single interpretation. For example, an attacker could make use of invalid input such as duplicate keys
   in maps, or exploit different precision in processing numbers to make one application base its decisions on a
   different interpretation than the one that will be used by a second application. To facilitate consistent
   interpretation, encoder and decoder implementations should provide a validity-checking mode of operation (<a
      target="_blank" rel="noopener noreferrer" href="#validity-checking">Section 5.4</a>). Note, however, that a
   generic decoder cannot know about all requirements that an application poses on its input data; it is therefore not
   relieving the application from performing its own input checking. Also, since the set of defined tag numbers evolves,
   the application may employ a tag number that is not yet supported for validity checking by the generic decoder it
   uses. Generic decoders therefore need to document which tag numbers they support and what validity checking they
   provide for those tag numbers as well as for basic CBOR (UTF-8 checking, duplicate map key checking).<a
      target="_blank" rel="noopener noreferrer" href="#section-10-10">¶</a></p>
<p data-id="T1ggYP"><a target="_blank" rel="noopener noreferrer" href="#bignums">Section 3.4.3</a> notes that using the
   non-preferred choice of a bignum representation instead of a basic integer for encoding a number is not intended to
   have application semantics, but it can have such semantics if an application receiving CBOR data is using a decoder
   in the basic generic data model. This disparity causes a security issue if the two sets of semantics differ. Thus,
   applications using CBOR need to specify the data model that they are using for each use of CBOR data.<a
      target="_blank" rel="noopener noreferrer" href="#section-10-11">¶</a></p>
<p data-id="xy93cu">It is common to convert CBOR data to other formats. In many cases, CBOR has more expressive types
   than other formats; this is particularly true for the common conversion to JSON. The loss of type information can
   cause security issues for the systems that are processing the less-expressive data.<a target="_blank"
      rel="noopener noreferrer" href="#section-10-12">¶</a></p>
<p data-id="O8Vegl"><a target="_blank" rel="noopener noreferrer" href="#converting-from-json">Section 6.2</a> describes
   a possibly common usage scenario of converting between CBOR and JSON that could allow an attack if the attacker knows
   that the application is performing the conversion.<a target="_blank" rel="noopener noreferrer"
      href="#section-10-13">¶</a></p>
<p data-id="t9paGJ">Security considerations for the use of base16 and base64 from [<a target="_blank"
      rel="noopener noreferrer" href="#RFC4648">RFC4648</a>], and the use of UTF-8 from [<a target="_blank"
      rel="noopener noreferrer" href="#RFC3629">RFC3629</a>], are relevant to CBOR as well.<a target="_blank"
      rel="noopener noreferrer" href="#section-10-14">¶</a></p>
<h2 data-id="PcMvNZ"><a target="_blank" rel="noopener noreferrer" href="#section-11">11. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-references">References</a></h2>
<h3 data-id="uSlZu0"><a target="_blank" rel="noopener noreferrer" href="#section-11.1">11.1. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-normative-references">Normative References</a></h3>
<p data-id="S09WmC">[C]</p>
<p data-id="mxz-sT">International Organization for Standardization, &quot;Information technology - Programming languages
   - C&quot;, Fourth Edition, ISO/IEC 9899:2018, June 2018, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.iso.org/standard/74528.html">https://www.iso.org/standard/74528.html</a>&gt;.</p>
<p data-id="WgBE2k">[Cplusplus20]</p>
<p data-id="yDBmix">International Organization for Standardization, &quot;Programming languages - C++&quot;, Sixth
   Edition, ISO/IEC DIS 14882, ISO/IEC ISO/IEC JTC1 SC22 WG21 N 4860, March 2020, &lt;<a target="_blank"
      rel="noopener noreferrer"
      href="https://isocpp.org/files/papers/N4860.pdf">https://isocpp.org/files/papers/N4860.pdf</a>&gt;.</p>
<p data-id="iTeacV">[IEEE754]</p>
<p data-id="j27peU">IEEE, &quot;IEEE Standard for Floating-Point Arithmetic&quot;, IEEE Std 754-2019, DOI
   10.1109/IEEESTD.2019.8766229, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://ieeexplore.ieee.org/document/8766229">https://ieeexplore.ieee.org/document/8766229</a>&gt;.</p>
<p data-id="Ao4tex">[RFC2045]</p>
<p data-id="zZkukW">Freed, N. and N. Borenstein, &quot;Multipurpose Internet Mail Extensions (MIME) Part One: Format of
   Internet Message Bodies&quot;, RFC 2045, DOI 10.17487/RFC2045, November 1996, &lt;<a target="_blank"
      rel="noopener noreferrer"
      href="https://www.rfc-editor.org/info/rfc2045">https://www.rfc-editor.org/info/rfc2045</a>&gt;.</p>
<p data-id="47OntF">[RFC2119]</p>
<p data-id="yrIdxW">Bradner, S., &quot;Key words for use in RFCs to Indicate Requirement Levels&quot;, BCP 14, RFC 2119,
   DOI 10.17487/RFC2119, March 1997, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;.</p>
<p data-id="PGCSdJ">[RFC3339]</p>
<p data-id="XbuQQy">Klyne, G. and C. Newman, &quot;Date and Time on the Internet: Timestamps&quot;, RFC 3339, DOI
   10.17487/RFC3339, July 2002, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/info/rfc3339">https://www.rfc-editor.org/info/rfc3339</a>&gt;.</p>
<p data-id="p5HGKP">[RFC3629]</p>
<p data-id="2m7gYe">Yergeau, F., &quot;UTF-8, a transformation format of ISO 10646&quot;, STD 63, RFC 3629, DOI
   10.17487/RFC3629, November 2003, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/info/rfc3629">https://www.rfc-editor.org/info/rfc3629</a>&gt;.</p>
<p data-id="dTmBYi">[RFC3986]</p>
<p data-id="Lwpe06">Berners-Lee, T., Fielding, R., and L. Masinter, &quot;Uniform Resource Identifier (URI): Generic
   Syntax&quot;, STD 66, RFC 3986, DOI 10.17487/RFC3986, January 2005, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/info/rfc3986">https://www.rfc-editor.org/info/rfc3986</a>&gt;.</p>
<p data-id="CNQ1Hf">[RFC4287]</p>
<p data-id="mDwzf3">Nottingham, M., Ed. and R. Sayre, Ed., &quot;The Atom Syndication Format&quot;, RFC 4287, DOI
   10.17487/RFC4287, December 2005, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/info/rfc4287">https://www.rfc-editor.org/info/rfc4287</a>&gt;.</p>
<p data-id="OY7MzS">[RFC4648]</p>
<p data-id="z2vA5-">Josefsson, S., &quot;The Base16, Base32, and Base64 Data Encodings&quot;, RFC 4648, DOI
   10.17487/RFC4648, October 2006, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/info/rfc4648">https://www.rfc-editor.org/info/rfc4648</a>&gt;.</p>
<p data-id="MiRcLV">[RFC8126]</p>
<p data-id="8XKfod">Cotton, M., Leiba, B., and T. Narten, &quot;Guidelines for Writing an IANA Considerations Section in
   RFCs&quot;, BCP 26, RFC 8126, DOI 10.17487/RFC8126, June 2017, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/info/rfc8126">https://www.rfc-editor.org/info/rfc8126</a>&gt;.</p>
<p data-id="yD0yfP">[RFC8174]</p>
<p data-id="zvlrc4">Leiba, B., &quot;Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words&quot;, BCP 14, RFC 8174,
   DOI 10.17487/RFC8174, May 2017, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;.</p>
<p data-id="a0dN_b">[TIME_T]</p>
<p data-id="Bvx43B">The Open Group, &quot;The Open Group Base Specifications&quot;, Section 4.16, &apos;Seconds Since
   the Epoch&apos;, Issue 7, 2018 Edition, IEEE Std 1003.1, 2018, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap04.html#tag_04_16">https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap04.html#tag_04_16</a>&gt;.
</p>
<h3 data-id="gdNLQC"><a target="_blank" rel="noopener noreferrer" href="#section-11.2">11.2. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-informative-references">Informative References</a></h3>
<p data-id="hwgSqh">[ASN.1]</p>
<p data-id="Er9gRZ">International Telecommunication Union, &quot;Information Technology - ASN.1 encoding rules:
   Specification of Basic Encoding Rules (BER), Canonical Encoding Rules (CER) and Distinguished Encoding Rules
   (DER)&quot;, ITU-T Recommendation X.690, 2015, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.itu.int/rec/T-REC-X.690-201508-I/en">https://www.itu.int/rec/T-REC-X.690-201508-I/en</a>&gt;.
</p>
<p data-id="POC0fb">[BSON]</p>
<p data-id="38RdtL">Various, &quot;BSON - Binary JSON&quot;, &lt;<a target="_blank" rel="noopener noreferrer"
      href="http://bsonspec.org/">http://bsonspec.org/</a>&gt;.</p>
<p data-id="luRFtb">[CBOR-TAGS]</p>
<p data-id="bpKuDf">Bormann, C., &quot;Notable CBOR Tags&quot;, Work in Progress, Internet-Draft,
   draft-bormann-cbor-notable-tags-02, 25 June 2020, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://tools.ietf.org/html/draft-bormann-cbor-notable-tags-02">https://tools.ietf.org/html/draft-bormann-cbor-notable-tags-02</a>&gt;.
</p>
<p data-id="Y7InQ_">[ECMA262]</p>
<p data-id="srScS3">Ecma International, &quot;ECMAScript 2020 Language Specification&quot;, Standard ECMA-262, 11th
   Edition, June 2020, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.ecma-international.org/publications/standards/Ecma-262.htm">https://www.ecma-international.org/publications/standards/Ecma-262.htm</a>&gt;.
</p>
<p data-id="STKv0S">[Err3764]</p>
<p data-id="t89Eag">RFC Errata, Erratum ID 3764, RFC 7049, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/errata/eid3764">https://www.rfc-editor.org/errata/eid3764</a>&gt;.</p>
<p data-id="xZuEKN">[Err3770]</p>
<p data-id="_e-ZGm">RFC Errata, Erratum ID 3770, RFC 7049, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/errata/eid3770">https://www.rfc-editor.org/errata/eid3770</a>&gt;.</p>
<p data-id="1zZxVt">[Err4294]</p>
<p data-id="H4PQVN">RFC Errata, Erratum ID 4294, RFC 7049, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/errata/eid4294">https://www.rfc-editor.org/errata/eid4294</a>&gt;.</p>
<p data-id="QRJz5t">[Err4409]</p>
<p data-id="qu0PNq">RFC Errata, Erratum ID 4409, RFC 7049, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/errata/eid4409">https://www.rfc-editor.org/errata/eid4409</a>&gt;.</p>
<p data-id="aGtkJT">[Err4963]</p>
<p data-id="sTQLH6">RFC Errata, Erratum ID 4963, RFC 7049, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/errata/eid4963">https://www.rfc-editor.org/errata/eid4963</a>&gt;.</p>
<p data-id="4jkqOD">[Err4964]</p>
<p data-id="QrbtS4">RFC Errata, Erratum ID 4964, RFC 7049, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/errata/eid4964">https://www.rfc-editor.org/errata/eid4964</a>&gt;.</p>
<p data-id="3W0T-g">[Err5434]</p>
<p data-id="3ekU6f">RFC Errata, Erratum ID 5434, RFC 7049, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/errata/eid5434">https://www.rfc-editor.org/errata/eid5434</a>&gt;.</p>
<p data-id="Whz8Uj">[Err5763]</p>
<p data-id="0sSwRQ">RFC Errata, Erratum ID 5763, RFC 7049, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/errata/eid5763">https://www.rfc-editor.org/errata/eid5763</a>&gt;.</p>
<p data-id="iCAENj">[Err5917]</p>
<p data-id="i6cr6E">RFC Errata, Erratum ID 5917, RFC 7049, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/errata/eid5917">https://www.rfc-editor.org/errata/eid5917</a>&gt;.</p>
<p data-id="NTAgOP">[IANA.cbor-simple-values]</p>
<p data-id="wviYqv">IANA, &quot;Concise Binary Object Representation (CBOR) Simple Values&quot;, &lt;<a target="_blank"
      rel="noopener noreferrer"
      href="https://www.iana.org/assignments/cbor-simple-values">https://www.iana.org/assignments/cbor-simple-values</a>&gt;.
</p>
<p data-id="YEOUuH">[IANA.cbor-tags]</p>
<p data-id="2tRHZ5">IANA, &quot;Concise Binary Object Representation (CBOR) Tags&quot;, &lt;<a target="_blank"
      rel="noopener noreferrer"
      href="https://www.iana.org/assignments/cbor-tags">https://www.iana.org/assignments/cbor-tags</a>&gt;.</p>
<p data-id="mYAzLF">[IANA.core-parameters]</p>
<p data-id="UrIUxV">IANA, &quot;Constrained RESTful Environments (CoRE) Parameters&quot;, &lt;<a target="_blank"
      rel="noopener noreferrer"
      href="https://www.iana.org/assignments/core-parameters">https://www.iana.org/assignments/core-parameters</a>&gt;.
</p>
<p data-id="w5Tk6Q">[IANA.media-types]</p>
<p data-id="k-Zidp">IANA, &quot;Media Types&quot;, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.iana.org/assignments/media-types">https://www.iana.org/assignments/media-types</a>&gt;.</p>
<p data-id="tBgzCK">[IANA.structured-suffix]</p>
<p data-id="7UHCjt">IANA, &quot;Structured Syntax Suffixes&quot;, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.iana.org/assignments/media-type-structured-suffix">https://www.iana.org/assignments/media-type-structured-suffix</a>&gt;.
</p>
<p data-id="sHK-_2">[MessagePack]</p>
<p data-id="JYI7Ju">Furuhashi, S., &quot;MessagePack&quot;, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://msgpack.org/">https://msgpack.org/</a>&gt;.</p>
<p data-id="Kz4nkL">[PCRE]</p>
<p data-id="pm4YMw">Hazel, P., &quot;PCRE - Perl Compatible Regular Expressions&quot;, &lt;<a target="_blank"
      rel="noopener noreferrer" href="https://www.pcre.org/">https://www.pcre.org/</a>&gt;.</p>
<p data-id="a57N4m">[RFC0713]</p>
<p data-id="i3Zqgn">Haverty, J., &quot;MSDTP-Message Services Data Transmission Protocol&quot;, RFC 713, DOI
   10.17487/RFC0713, April 1976, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/info/rfc713">https://www.rfc-editor.org/info/rfc713</a>&gt;.</p>
<p data-id="M4pT_U">[RFC6838]</p>
<p data-id="zn3yBY">Freed, N., Klensin, J., and T. Hansen, &quot;Media Type Specifications and Registration
   Procedures&quot;, BCP 13, RFC 6838, DOI 10.17487/RFC6838, January 2013, &lt;<a target="_blank"
      rel="noopener noreferrer"
      href="https://www.rfc-editor.org/info/rfc6838">https://www.rfc-editor.org/info/rfc6838</a>&gt;.</p>
<p data-id="IOGHKp">[RFC7049]</p>
<p data-id="MDZ3Jp">Bormann, C. and P. Hoffman, &quot;Concise Binary Object Representation (CBOR)&quot;, RFC 7049, DOI
   10.17487/RFC7049, October 2013, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/info/rfc7049">https://www.rfc-editor.org/info/rfc7049</a>&gt;.</p>
<p data-id="Lum5tQ">[RFC7228]</p>
<p data-id="fOwghG">Bormann, C., Ersue, M., and A. Keranen, &quot;Terminology for Constrained-Node Networks&quot;, RFC
   7228, DOI 10.17487/RFC7228, May 2014, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/info/rfc7228">https://www.rfc-editor.org/info/rfc7228</a>&gt;.</p>
<p data-id="_fsOfr">[RFC7493]</p>
<p data-id="L-19ao">Bray, T., Ed., &quot;The I-JSON Message Format&quot;, RFC 7493, DOI 10.17487/RFC7493, March 2015,
   &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/info/rfc7493">https://www.rfc-editor.org/info/rfc7493</a>&gt;.</p>
<p data-id="yQuk6a">[RFC7991]</p>
<p data-id="zvNJV4">Hoffman, P., &quot;The &quot;xml2rfc&quot; Version 3 Vocabulary&quot;, RFC 7991, DOI
   10.17487/RFC7991, December 2016, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/info/rfc7991">https://www.rfc-editor.org/info/rfc7991</a>&gt;.</p>
<p data-id="gVcfWl">[RFC8259]</p>
<p data-id="rKz6K7">Bray, T., Ed., &quot;The JavaScript Object Notation (JSON) Data Interchange Format&quot;, STD 90,
   RFC 8259, DOI 10.17487/RFC8259, December 2017, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/info/rfc8259">https://www.rfc-editor.org/info/rfc8259</a>&gt;.</p>
<p data-id="Rh1KoM">[RFC8610]</p>
<p data-id="iS1HKe">Birkholz, H., Vigano, C., and C. Bormann, &quot;Concise Data Definition Language (CDDL): A
   Notational Convention to Express Concise Binary Object Representation (CBOR) and JSON Data Structures&quot;, RFC
   8610, DOI 10.17487/RFC8610, June 2019, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/info/rfc8610">https://www.rfc-editor.org/info/rfc8610</a>&gt;.</p>
<p data-id="w5J1Kc">[RFC8618]</p>
<p data-id="ubSs1B">Dickinson, J., Hague, J., Dickinson, S., Manderson, T., and J. Bond, &quot;Compacted-DNS (C-DNS): A
   Format for DNS Packet Capture&quot;, RFC 8618, DOI 10.17487/RFC8618, September 2019, &lt;<a target="_blank"
      rel="noopener noreferrer"
      href="https://www.rfc-editor.org/info/rfc8618">https://www.rfc-editor.org/info/rfc8618</a>&gt;.</p>
<p data-id="lsVp6G">[RFC8742]</p>
<p data-id="mjadGA">Bormann, C., &quot;Concise Binary Object Representation (CBOR) Sequences&quot;, RFC 8742, DOI
   10.17487/RFC8742, February 2020, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/info/rfc8742">https://www.rfc-editor.org/info/rfc8742</a>&gt;.</p>
<p data-id="0RvYwS">[RFC8746]</p>
<p data-id="59h-Gr">Bormann, C., Ed., &quot;Concise Binary Object Representation (CBOR) Tags for Typed Arrays&quot;, RFC
   8746, DOI 10.17487/RFC8746, February 2020, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/info/rfc8746">https://www.rfc-editor.org/info/rfc8746</a>&gt;.</p>
<p data-id="v5-UQv">[SIPHASH_LNCS]</p>
<p data-id="IQFPpv">Aumasson, J. and D. Bernstein, &quot;SipHash: A Fast Short-Input PRF&quot;, Progress in Cryptology -
   INDOCRYPT 2012, pp. 489-508, DOI 10.1007/978-3-642-34931-7_28, 2012, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://doi.org/10.1007/978-3-642-34931-7_28">https://doi.org/10.1007/978-3-642-34931-7_28</a>&gt;.</p>
<p data-id="yqNv43">[SIPHASH_OPEN]</p>
<p data-id="1Tudwy">Aumasson, J. and D.J. Bernstein, &quot;SipHash: a fast short-input PRF&quot;, &lt;<a target="_blank"
      rel="noopener noreferrer"
      href="https://www.aumasson.jp/siphash/siphash.pdf">https://www.aumasson.jp/siphash/siphash.pdf</a>&gt;.</p>
<p data-id="Hcv_wQ">[YAML]</p>
<p data-id="pignWW">Ben-Kiki, O., Evans, C., and I.d. Net, &quot;YAML Ain&apos;t Markup Language (YAML[TM]) Version
   1.2&quot;, 3rd Edition, October 2009, &lt;<a target="_blank" rel="noopener noreferrer"
      href="https://www.yaml.org/spec/1.2/spec.html">https://www.yaml.org/spec/1.2/spec.html</a>&gt;.</p>
<h2 data-id="KSJLwC"><a target="_blank" rel="noopener noreferrer" href="#section-appendix.a">Appendix A. </a><a
      target="_blank" rel="noopener noreferrer" href="#name-examples-of-encoded-cbor-da">Examples of Encoded CBOR Data
      Items</a></h2>
<p data-id="yOZFil">The following table provides some CBOR-encoded values in hexadecimal (right column), together with
   diagnostic notation for these values (left column). Note that the string &quot;\u00fc&quot; is one form of diagnostic
   notation for a UTF-8 string containing the single Unicode character U+00FC (LATIN SMALL LETTER U WITH DIAERESIS,
   &quot;ü&quot;). Similarly, &quot;\u6c34&quot; is a UTF-8 string in diagnostic notation with a single character U+6C34
   (CJK UNIFIED IDEOGRAPH-6C34, &quot;水&quot;), often representing &quot;water&quot;, and &quot;\ud800\udd51&quot; is a
   UTF-8 string in diagnostic notation with a single character U+10151 (GREEK ACROPHONIC ATTIC FIFTY STATERS,
   &quot;𐅑&quot;). (Note that all these single-character strings could also be represented in native UTF-8 in
   diagnostic notation, just not if an ASCII-only specification is required.) In the diagnostic notation provided for
   bignums, their intended numeric value is shown as a decimal number (such as 18446744073709551616) instead of a tagged
   byte string (such as 2(h&apos;010000000000000000&apos;)).<a target="_blank" rel="noopener noreferrer"
      href="#section-appendix.a-1">¶</a></p>
<table>
   <tbody>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="YYHFTs"><a target="_blank" rel="noopener noreferrer" href="#table-6">Table 6</a>: <a
                  target="_blank" rel="noopener noreferrer" href="#name-examples-of-encoded-cbor-dat">Examples of
                  Encoded CBOR Data Items</a></p>
         </td>
      </tr>
      <tr>
         <th colspan="1" rowspan="1">
            <p data-id="_4IUew">Diagnostic</p>
         </th>
         <th colspan="1" rowspan="1">
            <p data-id="I1V1vY">Encoded</p>
         </th>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="VqHsOC">0</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="v1e6wo">0x00</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="amDF2q">1</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="yhdB2M">0x01</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="GxSZbr">10</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="pwoaG3">0x0a</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="nvPHMf">23</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="15yNxm">0x17</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="SiAbwd">24</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="iyLz3_">0x1818</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="yQBc9i">25</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="-fedlD">0x1819</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="uEgBG5">100</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="egPC7-">0x1864</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="tLiwAC">1000</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="UHCElB">0x1903e8</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="ASuAya">1000000</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="VWu-J0">0x1a000f4240</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="olUkgj">1000000000000</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="KbRdve">0x1b000000e8d4a51000</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="W_Cire">18446744073709551615</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="wJFLIG">0x1bffffffffffffffff</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="gBwDXX">18446744073709551616</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="5SI4sB">0xc249010000000000000000</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="zGI3S9">-18446744073709551616</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="HJnQH0">0x3bffffffffffffffff</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="r4o_qE">-18446744073709551617</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="_Y7kj-">0xc349010000000000000000</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="8LIug2">-1</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="Lv-WTC">0x20</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="DORZCA">-10</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="4Bo2TZ">0x29</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="9-C32O">-100</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="rY9IMn">0x3863</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="CXnTzl">-1000</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="lXvEc2">0x3903e7</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="0UYtvs">0.0</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="M-KJhj">0xf90000</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="t3jrKA">-0.0</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="FAGHtF">0xf98000</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="MO6k-e">1.0</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="E_uoSz">0xf93c00</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="H7cOsu">1.1</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="IzmYVm">0xfb3ff199999999999a</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="CtbzTg">1.5</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="HmtZNx">0xf93e00</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="du-z22">65504.0</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="hpYU2F">0xf97bff</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="tYvjVX">100000.0</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="qpqo3-">0xfa47c35000</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="TFX_YN">3.4028234663852886e+38</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="4QN_au">0xfa7f7fffff</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="XcxxTu">1.0e+300</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="v7oNmk">0xfb7e37e43c8800759c</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="0HOvcL">5.960464477539063e-8</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="glTiIK">0xf90001</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="2wYxRX">0.00006103515625</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="MTCIC2">0xf90400</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="x5oC5f">-4.0</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="rg7k-_">0xf9c400</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="kQnNMm">-4.1</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="eF4XEQ">0xfbc010666666666666</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="AQEgUa">Infinity</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="2p2_d2">0xf97c00</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="bTNzWy">NaN</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="sZCzc0">0xf97e00</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="u_IRwY">-Infinity</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="9ircLF">0xf9fc00</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="Qw73NL">Infinity</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="JfXb5y">0xfa7f800000</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="QiqEzv">NaN</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="hBX--k">0xfa7fc00000</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="FWGZYK">-Infinity</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="nQcOTv">0xfaff800000</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="8E_MiZ">Infinity</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="r3DiSR">0xfb7ff0000000000000</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="DBooys">NaN</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="Rg9Ri8">0xfb7ff8000000000000</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="1cxhUG">-Infinity</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="JhbcT1">0xfbfff0000000000000</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="-2xRJo">false</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="0TEMhw">0xf4</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="0lkLRp">true</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="ozHGSY">0xf5</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="mrPp5B">null</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="61yQA1">0xf6</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="mPYSZU">undefined</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="rc-IWm">0xf7</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="kRhJvY">simple(16)</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="SpzY_L">0xf0</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="_z3fyh">simple(255)</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="EQ40w9">0xf8ff</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="bi1oLD">0(&quot;2013-03-21T20:04:00Z&quot;)</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="U6KCx9">0xc074323031332d30332d32315432303a 30343a30305a</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="61AKvU">1(1363896240)</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="b-Yl3k">0xc11a514b67b0</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="Ru6Hac">1(1363896240.5)</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="kS2OfT">0xc1fb41d452d9ec200000</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="zHKHEM">23(h&apos;01020304&apos;)</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="BcShuW">0xd74401020304</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="IHABMm">24(h&apos;6449455446&apos;)</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="sNcmol">0xd818456449455446</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="2oW_aB">32(&quot;http://www.example.com&quot;)</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="yotreu">0xd82076687474703a2f2f7777772e6578 616d706c652e636f6d</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="oVcjUK">h&apos;&apos;</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="30WQ6K">0x40</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="npZUyB">h&apos;01020304&apos;</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="Lp6CCs">0x4401020304</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="8gmg2J">&quot;&quot;</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="VfIGXK">0x60</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="w9WzUj">&quot;a&quot;</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="Zp98GU">0x6161</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="31Go_2">&quot;IETF&quot;</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="iuNA8w">0x6449455446</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="JlLk0w">&quot;\&quot;\\&quot;</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="5atIyf">0x62225c</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="I6ADLU">&quot;\u00fc&quot;</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="H6RFYQ">0x62c3bc</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="CprH9I">&quot;\u6c34&quot;</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="A_mEme">0x63e6b0b4</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="_NylVl">&quot;\ud800\udd51&quot;</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="iDV8pP">0x64f0908591</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="zZuhvl">[]</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="ItsQqQ">0x80</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="JWSmn8">[1, 2, 3]</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="BKYUGM">0x83010203</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="Imy3Tu">[1, [2, 3], [4, 5]]</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="rBc4aQ">0x8301820203820405</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="GZGwVE">[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24,
               25]</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="Xnz5W2">0x98190102030405060708090a0b0c0d0e 0f101112131415161718181819</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="Wq2ygA">{}</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="C_Gq5u">0xa0</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="lkwpPB">{1: 2, 3: 4}</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="J1nkST">0xa201020304</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="xPEV4F">{&quot;a&quot;: 1, &quot;b&quot;: [2, 3]}</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="aF_Dt2">0xa26161016162820203</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="NABbcF">[&quot;a&quot;, {&quot;b&quot;: &quot;c&quot;}]</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="JUlojv">0x826161a161626163</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="dGq2MP">{&quot;a&quot;: &quot;A&quot;, &quot;b&quot;: &quot;B&quot;, &quot;c&quot;:
               &quot;C&quot;, &quot;d&quot;: &quot;D&quot;, &quot;e&quot;: &quot;E&quot;}</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="VaZ-kl">0xa5616161416162614261636143616461 4461656145</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="lpFsYO">(_ h&apos;0102&apos;, h&apos;030405&apos;)</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="kBlaNa">0x5f42010243030405ff</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="oqFGJT">(_ &quot;strea&quot;, &quot;ming&quot;)</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="gkBAbs">0x7f657374726561646d696e67ff</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="KZuqTQ">[_ ]</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="5XvN1_">0x9fff</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="7pXiYL">[_ 1, [2, 3], [_ 4, 5]]</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="84nw4J">0x9f018202039f0405ffff</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="taKMnW">[_ 1, [2, 3], [4, 5]]</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="MKbxzE">0x9f01820203820405ff</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="-lNonz">[1, [2, 3], [_ 4, 5]]</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="VGf5o6">0x83018202039f0405ff</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="coxnKx">[1, [_ 2, 3], [4, 5]]</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="9EX7ai">0x83019f0203ff820405</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="jYKwO9">[_ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23,
               24, 25]</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="w4iY81">0x9f0102030405060708090a0b0c0d0e0f 101112131415161718181819ff</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="YSAxPH">{_ &quot;a&quot;: 1, &quot;b&quot;: [_ 2, 3]}</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="CiCO_8">0xbf61610161629f0203ffff</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="Vsy3RB">[&quot;a&quot;, {_ &quot;b&quot;: &quot;c&quot;}]</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="cy-lc2">0x826161bf61626163ff</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="nM9yZi">{_ &quot;Fun&quot;: true, &quot;Amt&quot;: -2}</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="mglBoj">0xbf6346756ef563416d7421ff</p>
         </td>
      </tr>
   </tbody>
</table>
<h2 data-id="PdYAKm"><a target="_blank" rel="noopener noreferrer" href="#section-appendix.b">Appendix B. </a><a
      target="_blank" rel="noopener noreferrer" href="#name-jump-table-for-initial-byte">Jump Table for Initial Byte</a>
</h2>
<p data-id="MCmdrl">For brevity, this jump table does not show initial bytes that are reserved for future extension. It
   also only shows a selection of the initial bytes that can be used for optional features. (All unsigned integers are
   in network byte order.)<a target="_blank" rel="noopener noreferrer" href="#section-appendix.b-1">¶</a></p>
<table>
   <tbody>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="MwV7Pk"><a target="_blank" rel="noopener noreferrer" href="#table-7">Table 7</a>: <a
                  target="_blank" rel="noopener noreferrer" href="#name-jump-table-for-initial-byte-2">Jump Table for
                  Initial Byte</a></p>
         </td>
      </tr>
      <tr>
         <th colspan="1" rowspan="1">
            <p data-id="P87Rbg">Byte</p>
         </th>
         <th colspan="1" rowspan="1">
            <p data-id="EOgOTR">Structure/Semantics</p>
         </th>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="GDlDRc">0x00..0x17</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="cDe7md">unsigned integer 0x00..0x17 (0..23)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="7Z9KtM">0x18</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="R8EOvH">unsigned integer (one-byte uint8_t follows)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="tjALNX">0x19</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="cV8En3">unsigned integer (two-byte uint16_t follows)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="NWsQAI">0x1a</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="dnQK6B">unsigned integer (four-byte uint32_t follows)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="mGQGJF">0x1b</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="e_ZBT_">unsigned integer (eight-byte uint64_t follows)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="GOQf93">0x20..0x37</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="jO-HOk">negative integer -1-0x00..-1-0x17 (-1..-24)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="E9iJ89">0x38</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="G5aKl9">negative integer -1-n (one-byte uint8_t for n follows)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="KHIKru">0x39</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="6s_BQy">negative integer -1-n (two-byte uint16_t for n follows)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="2ofWuH">0x3a</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="NvzqGR">negative integer -1-n (four-byte uint32_t for n follows)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="70uHDv">0x3b</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="_F8nv_">negative integer -1-n (eight-byte uint64_t for n follows)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="q7ipuy">0x40..0x57</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="DndDLZ">byte string (0x00..0x17 bytes follow)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="Dx2Myi">0x58</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="9sVT05">byte string (one-byte uint8_t for n, and then n bytes follow)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="eqmgjt">0x59</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="5mn03-">byte string (two-byte uint16_t for n, and then n bytes follow)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="WqYEek">0x5a</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="cKpX10">byte string (four-byte uint32_t for n, and then n bytes follow)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="m1sqzL">0x5b</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="Z5Zgw7">byte string (eight-byte uint64_t for n, and then n bytes follow)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="xB0huK">0x5f</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="3CZqOv">byte string, byte strings follow, terminated by &quot;break&quot;</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="8YFi3q">0x60..0x77</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="P3yExh">UTF-8 string (0x00..0x17 bytes follow)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="weqXyj">0x78</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="Br4Vuh">UTF-8 string (one-byte uint8_t for n, and then n bytes follow)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="gkhieO">0x79</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="ntoTCV">UTF-8 string (two-byte uint16_t for n, and then n bytes follow)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="CkOng_">0x7a</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="mRmhbI">UTF-8 string (four-byte uint32_t for n, and then n bytes follow)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="phOF33">0x7b</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="qzjDjx">UTF-8 string (eight-byte uint64_t for n, and then n bytes follow)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="xbgvIf">0x7f</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="as1B44">UTF-8 string, UTF-8 strings follow, terminated by &quot;break&quot;</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="hynNfK">0x80..0x97</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="tTSwSy">array (0x00..0x17 data items follow)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="W0XW7B">0x98</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="Vt-Ooi">array (one-byte uint8_t for n, and then n data items follow)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="cW5F58">0x99</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="A3BZ6Z">array (two-byte uint16_t for n, and then n data items follow)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="uZ67A-">0x9a</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="7FPk3F">array (four-byte uint32_t for n, and then n data items follow)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="CI--od">0x9b</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="OKohW9">array (eight-byte uint64_t for n, and then n data items follow)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="NZMvne">0x9f</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="t2CLsy">array, data items follow, terminated by &quot;break&quot;</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="75OXXw">0xa0..0xb7</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="wkHAQV">map (0x00..0x17 pairs of data items follow)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="ALnd3G">0xb8</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="iu6SP8">map (one-byte uint8_t for n, and then n pairs of data items follow)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="lT8OFJ">0xb9</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="2CsSAR">map (two-byte uint16_t for n, and then n pairs of data items follow)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="IMeiyc">0xba</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="VnguO4">map (four-byte uint32_t for n, and then n pairs of data items follow)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="DCvmMv">0xbb</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="weZh3D">map (eight-byte uint64_t for n, and then n pairs of data items follow)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="zQJ5IY">0xbf</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="ZLB1e3">map, pairs of data items follow, terminated by &quot;break&quot;</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="8NvwuA">0xc0</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="yI5bT4">text-based date/time (data item follows; see <a target="_blank"
                  rel="noopener noreferrer" href="#stringdatetimesect">Section 3.4.1</a>)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="QuIivu">0xc1</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="cKXjO2">epoch-based date/time (data item follows; see <a target="_blank"
                  rel="noopener noreferrer" href="#epochdatetimesect">Section 3.4.2</a>)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="b9gomr">0xc2</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="Zq6njz">unsigned bignum (data item &quot;byte string&quot; follows)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="B9rrEa">0xc3</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="9bGiXu">negative bignum (data item &quot;byte string&quot; follows)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="n2uuCu">0xc4</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="Ym5Ly2">decimal Fraction (data item &quot;array&quot; follows; see <a target="_blank"
                  rel="noopener noreferrer" href="#fractions">Section 3.4.4</a>)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="5PT1vb">0xc5</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="eelBQX">bigfloat (data item &quot;array&quot; follows; see <a target="_blank"
                  rel="noopener noreferrer" href="#fractions">Section 3.4.4</a>)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="99Ban8">0xc6..0xd4</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="hJzrqJ">(tag)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="bNBIIo">0xd5..0xd7</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="TB0bN3">expected conversion (data item follows; see <a target="_blank" rel="noopener noreferrer"
                  href="#convexpect">Section 3.4.5.2</a>)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="2HUkTP">0xd8..0xdb</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="YGvley">(more tags; 1/2/4/8 bytes of tag number and then a data item follow)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="IN4Mh5">0xe0..0xf3</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="yia7nl">(simple value)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="zOxvQQ">0xf4</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="DUGjly">false</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="39yW5P">0xf5</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="AiRkQG">true</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="zhJLo7">0xf6</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="tlSW1z">null</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="RpINOE">0xf7</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="eMTPMx">undefined</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="TxrhO8">0xf8</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="Buf9Yq">(simple value, one byte follows)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="AC-BoU">0xf9</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="NXroJg">half-precision float (two-byte IEEE 754)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="LFlDU0">0xfa</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="kF1Sb6">single-precision float (four-byte IEEE 754)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="rNLxrp">0xfb</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="7PTTfV">double-precision float (eight-byte IEEE 754)</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="FeY3Tp">0xff</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="lY8Cf3">&quot;break&quot; stop code</p>
         </td>
      </tr>
   </tbody>
</table>
<h2 data-id="IbWUqK"><a target="_blank" rel="noopener noreferrer" href="#section-appendix.c">Appendix C. </a><a
      target="_blank" rel="noopener noreferrer" href="#name-pseudocode">Pseudocode</a></h2>
<p data-id="Eu8K9t">The well-formedness of a CBOR item can be checked by the pseudocode in <a target="_blank"
      rel="noopener noreferrer" href="#pseudo">Figure 1</a>. The data is well-formed if and only if:<a target="_blank"
      rel="noopener noreferrer" href="#section-appendix.c-1">¶</a></p>
<ol>
   <li>
      <p data-id="MiWsIS">the pseudocode does not &quot;fail&quot;;<a target="_blank" rel="noopener noreferrer"
            href="#section-appendix.c-2.1">¶</a></p>
   </li>
   <li>
      <p data-id="31m_vY">after execution of the pseudocode, no bytes are left in the input (except in streaming
         applications).<a target="_blank" rel="noopener noreferrer" href="#section-appendix.c-2.2">¶</a></p>
   </li>
</ol>
<p data-id="EAbv5S">The pseudocode has the following prerequisites:<a target="_blank" rel="noopener noreferrer"
      href="#section-appendix.c-3">¶</a></p>
<ol>
   <li>
      <p data-id="89AmlN">take(n) reads n bytes from the input data and returns them as a byte string. If n bytes are no
         longer available, take(n) fails.<a target="_blank" rel="noopener noreferrer"
            href="#section-appendix.c-4.1">¶</a></p>
   </li>
   <li>
      <p data-id="lWbygn">uint() converts a byte string into an unsigned integer by interpreting the byte string in
         network byte order.<a target="_blank" rel="noopener noreferrer" href="#section-appendix.c-4.2">¶</a></p>
   </li>
   <li>
      <p data-id="zLcSg9">Arithmetic works as in C.<a target="_blank" rel="noopener noreferrer"
            href="#section-appendix.c-4.3">¶</a></p>
   </li>
   <li>
      <p data-id="PT-oOg">All variables are unsigned integers of sufficient range.<a target="_blank"
            rel="noopener noreferrer" href="#section-appendix.c-4.4">¶</a></p>
   </li>
</ol>
<p data-id="8MbtKr">Note that <code>well_formed</code> returns the major type for well-formed definite-length items, but
   99 for an indefinite-length item (or -1 for a &quot;break&quot; stop code, only if <code>breakable</code> is set).
   This is used in <code>well_formed_indefinite</code> to ascertain that indefinite-length strings only contain
   definite-length strings as chunks.<a target="_blank" rel="noopener noreferrer" href="#section-appendix.c-5">¶</a></p>
<pre data-id="NXMBhq"><code>
well_formed(breakable = false) {
  // process initial bytes
  ib = uint(take(1));
  mt = ib &gt;&gt; 5;
  val = ai = ib &amp; 0x1f;
  switch (ai) {
    case 24: val = uint(take(1)); break;
    case 25: val = uint(take(2)); break;
    case 26: val = uint(take(4)); break;
    case 27: val = uint(take(8)); break;
    case 28: case 29: case 30: fail();
    case 31:
      return well_formed_indefinite(mt, breakable);
  }
  // process content
  switch (mt) {
    // case 0, 1, 7 do not have content; just use val
    case 2: case 3: take(val); break; // bytes/UTF-8
    case 4: for (i = 0; i &lt; val; i++) well_formed(); break;
    case 5: for (i = 0; i &lt; val*2; i++) well_formed(); break;
    case 6: well_formed(); break;     // 1 embedded data item
    case 7: if (ai == 24 &amp;&amp; val &lt; 32) fail(); // bad simple
  }
  return mt;                    // definite-length data item
}

well_formed_indefinite(mt, breakable) {
  switch (mt) {
    case 2: case 3:
      while ((it = well_formed(true)) != -1)
        if (it != mt)           // need definite-length chunk
          fail();               //    of same type
      break;
    case 4: while (well_formed(true) != -1); break;
    case 5: while (well_formed(true) != -1) well_formed(); break;
    case 7:
      if (breakable)
        return -1;              // signal break out
      else fail();              // no enclosing indefinite
    default: fail();            // wrong mt
  }
  return 99;                    // indefinite-length data item
}
</code></pre>
<p data-id="al6__4"><a target="_blank" rel="noopener noreferrer" href="#figure-1">Figure 1</a>: <a target="_blank"
      rel="noopener noreferrer" href="#name-pseudocode-for-well-formedn">Pseudocode for Well-Formedness Check</a></p>
<p data-id="d5ppVP">Note that the remaining complexity of a complete CBOR decoder is about presenting data that has been
   decoded to the application in an appropriate form.<a target="_blank" rel="noopener noreferrer"
      href="#section-appendix.c-7">¶</a></p>
<p data-id="gAfglr">Major types 0 and 1 are designed in such a way that they can be encoded in C from a signed integer
   without actually doing an if-then-else for positive/negative (<a target="_blank" rel="noopener noreferrer"
      href="#branchless">Figure 2</a>). This uses the fact that (-1-n), the transformation for major type 1, is the same
   as ~n (bitwise complement) in C unsigned arithmetic; ~n can then be expressed as (-1)^n for the negative case, while
   0^n leaves n unchanged for nonnegative. The sign of a number can be converted to -1 for negative and 0 for
   nonnegative (0 or positive) by arithmetic-shifting the number by one bit less than the bit length of the number (for
   example, by 63 for 64-bit numbers).<a target="_blank" rel="noopener noreferrer" href="#section-appendix.c-8">¶</a>
</p>
<pre data-id="JFn3VL"><code>
void encode_sint(int64_t n) {
  uint64t ui = n &gt;&gt; 63;    // extend sign to whole length
  unsigned mt = ui &amp; 0x20; // extract (shifted) major type
  ui ^= n;                 // complement negatives
  if (ui &lt; 24)
    *p++ = mt + ui;
  else if (ui &lt; 256) {
    *p++ = mt + 24;
    *p++ = ui;
  } else
       ...
</code></pre>
<p data-id="Sx5A7h"><a target="_blank" rel="noopener noreferrer" href="#figure-2">Figure 2</a>: <a target="_blank"
      rel="noopener noreferrer" href="#name-pseudocode-for-encoding-a-s">Pseudocode for Encoding a Signed Integer</a>
</p>
<p data-id="wQjzuZ">See <a target="_blank" rel="noopener noreferrer" href="#terminology">Section 1.2</a> for some
   specific assumptions about the profile of the C language used in these pieces of code.<a target="_blank"
      rel="noopener noreferrer" href="#section-appendix.c-10">¶</a></p>
<h2 data-id="47re60"><a target="_blank" rel="noopener noreferrer" href="#section-appendix.d">Appendix D. </a><a
      target="_blank" rel="noopener noreferrer" href="#name-half-precision">Half-Precision</a></h2>
<p data-id="5Rz4md">As half-precision floating-point numbers were only added to IEEE 754 in 2008 [<a target="_blank"
      rel="noopener noreferrer" href="#IEEE754">IEEE754</a>], today&apos;s programming platforms often still only have
   limited support for them. It is very easy to include at least decoding support for them even without such support. An
   example of a small decoder for half-precision floating-point numbers in the C language is shown in <a target="_blank"
      rel="noopener noreferrer" href="#decode-half-c">Figure 3</a>. A similar program for Python is in <a
      target="_blank" rel="noopener noreferrer" href="#decode-half-py">Figure 4</a>; this code assumes that the 2-byte
   value has already been decoded as an (unsigned short) integer in network byte order (as would be done by the
   pseudocode in <a target="_blank" rel="noopener noreferrer" href="#pseudocode">Appendix C</a>).<a target="_blank"
      rel="noopener noreferrer" href="#section-appendix.d-1">¶</a></p>
<pre data-id="CN14bA"><code>
#include &lt;math.h&gt;

double decode_half(unsigned char *halfp) {
  unsigned half = (halfp[0] &lt;&lt; 8) + halfp[1];
  unsigned exp = (half &gt;&gt; 10) &amp; 0x1f;
  unsigned mant = half &amp; 0x3ff;
  double val;
  if (exp == 0) val = ldexp(mant, -24);
  else if (exp != 31) val = ldexp(mant + 1024, exp - 25);
  else val = mant == 0 ? INFINITY : NAN;
  return half &amp; 0x8000 ? -val : val;
}
</code></pre>
<p data-id="Xxv2u-"><a target="_blank" rel="noopener noreferrer" href="#figure-3">Figure 3</a>: <a target="_blank"
      rel="noopener noreferrer" href="#name-c-code-for-a-half-precision">C Code for a Half-Precision Decoder</a></p>
<pre data-id="usIb99"><code>
import struct
from math import ldexp

def decode_single(single):
    return struct.unpack(&quot;!f&quot;, struct.pack(&quot;!I&quot;, single))[0]

def decode_half(half):
    valu = (half &amp; 0x7fff) &lt;&lt; 13 | (half &amp; 0x8000) &lt;&lt; 16
    if ((half &amp; 0x7c00) != 0x7c00):
        return ldexp(decode_single(valu), 112)
    return decode_single(valu | 0x7f800000)
</code></pre>
<p data-id="72Uq1s"><a target="_blank" rel="noopener noreferrer" href="#figure-4">Figure 4</a>: <a target="_blank"
      rel="noopener noreferrer" href="#name-python-code-for-a-half-prec">Python Code for a Half-Precision Decoder</a>
</p>
<h2 data-id="wTtTYx"><a target="_blank" rel="noopener noreferrer" href="#section-appendix.e">Appendix E. </a><a
      target="_blank" rel="noopener noreferrer" href="#name-comparison-of-other-binary-">Comparison of Other Binary
      Formats to CBOR&apos;s Design Objectives</a></h2>
<p data-id="4ykk1E">The proposal for CBOR follows a history of binary formats that is as long as the history of
   computers themselves. Different formats have had different objectives. In most cases, the objectives of the format
   were never stated, although they can sometimes be implied by the context where the format was first used. Some
   formats were meant to be universally usable, although history has proven that no binary format meets the needs of all
   protocols and applications.<a target="_blank" rel="noopener noreferrer" href="#section-appendix.e-1">¶</a></p>
<p data-id="nQI99a">CBOR differs from many of these formats due to it starting with a set of objectives and attempting
   to meet just those. This section compares a few of the dozens of formats with CBOR&apos;s objectives in order to help
   the reader decide if they want to use CBOR or a different format for a particular protocol or application.<a
      target="_blank" rel="noopener noreferrer" href="#section-appendix.e-2">¶</a></p>
<p data-id="FbmJfq">Note that the discussion here is not meant to be a criticism of any format: to the best of our
   knowledge, no format before CBOR was meant to cover CBOR&apos;s objectives in the priority we have assigned them. A
   brief recap of the objectives from <a target="_blank" rel="noopener noreferrer" href="#objectives">Section 1.1</a>
   is:<a target="_blank" rel="noopener noreferrer" href="#section-appendix.e-3">¶</a></p>
<ol>
   <li>
      <p data-id="gpcsRL">unambiguous encoding of most common data formats from Internet standards<a target="_blank"
            rel="noopener noreferrer" href="#section-appendix.e-4.1">¶</a></p>
   </li>
   <li>
      <p data-id="rDIdlQ">code compactness for encoder or decoder<a target="_blank" rel="noopener noreferrer"
            href="#section-appendix.e-4.2">¶</a></p>
   </li>
   <li>
      <p data-id="fWaKvF">no schema description needed<a target="_blank" rel="noopener noreferrer"
            href="#section-appendix.e-4.3">¶</a></p>
   </li>
   <li>
      <p data-id="e7SHQ9">reasonably compact serialization<a target="_blank" rel="noopener noreferrer"
            href="#section-appendix.e-4.4">¶</a></p>
   </li>
   <li>
      <p data-id="vjH8pz">applicability to constrained and unconstrained applications<a target="_blank"
            rel="noopener noreferrer" href="#section-appendix.e-4.5">¶</a></p>
   </li>
   <li>
      <p data-id="Fkg7SJ">good JSON conversion<a target="_blank" rel="noopener noreferrer"
            href="#section-appendix.e-4.6">¶</a></p>
   </li>
   <li>
      <p data-id="I4wDcz">extensibility<a target="_blank" rel="noopener noreferrer" href="#section-appendix.e-4.7">¶</a>
      </p>
   </li>
</ol>
<p data-id="gto2YR">A discussion of CBOR and other formats with respect to a different set of design objectives is
   provided in Section <a target="_blank" rel="noopener noreferrer"
      href="https://www.rfc-editor.org/rfc/rfc8618#section-5">5</a> and Appendix <a target="_blank"
      rel="noopener noreferrer" href="https://www.rfc-editor.org/rfc/rfc8618#appendix-C">C</a> of [<a target="_blank"
      rel="noopener noreferrer" href="#RFC8618">RFC8618</a>].<a target="_blank" rel="noopener noreferrer"
      href="#section-appendix.e-5">¶</a></p>
<h2 data-id="BDkgF0"><a target="_blank" rel="noopener noreferrer" href="#section-e.1">E.1. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-asn1-der-ber-and-per">ASN.1 DER, BER, and PER</a></h2>
<p data-id="ZKZgFZ">[<a target="_blank" rel="noopener noreferrer" href="#ASN.1">ASN.1</a>] has many serializations. In
   the IETF, DER and BER are the most common. The serialized output is not particularly compact for many items, and the
   code needed to decode numeric items can be complex on a constrained device.<a target="_blank"
      rel="noopener noreferrer" href="#section-e.1-1">¶</a></p>
<p data-id="5NmdT7">Few (if any) IETF protocols have adopted one of the several variants of Packed Encoding Rules (PER).
   There could be many reasons for this, but one that is commonly stated is that PER makes use of the schema even for
   parsing the surface structure of the data item, requiring significant tool support. There are different versions of
   the ASN.1 schema language in use, which has also hampered adoption.<a target="_blank" rel="noopener noreferrer"
      href="#section-e.1-2">¶</a></p>
<h2 data-id="47gL_j"><a target="_blank" rel="noopener noreferrer" href="#section-e.2">E.2. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-messagepack">MessagePack</a></h2>
<p data-id="_PXmwz">[<a target="_blank" rel="noopener noreferrer" href="#MessagePack">MessagePack</a>] is a concise,
   widely implemented counted binary serialization format, similar in many properties to CBOR, although somewhat less
   regular. While the data model can be used to represent JSON data, MessagePack has also been used in many remote
   procedure call (RPC) applications and for long-term storage of data.<a target="_blank" rel="noopener noreferrer"
      href="#section-e.2-1">¶</a></p>
<p data-id="omxaso">MessagePack has been essentially stable since it was first published around 2011; it has not yet had
   a transition. The evolution of MessagePack is impeded by an imperative to maintain complete backwards compatibility
   with existing stored data, while only few bytecodes are still available for extension. Repeated requests over the
   years from the MessagePack user community to separate out binary and text strings in the encoding recently have led
   to an extension proposal that would leave MessagePack&apos;s &quot;raw&quot; data ambiguous between its usages for
   binary and text data. The extension mechanism for MessagePack remains unclear.<a target="_blank"
      rel="noopener noreferrer" href="#section-e.2-2">¶</a></p>
<h2 data-id="GnPELx"><a target="_blank" rel="noopener noreferrer" href="#section-e.3">E.3. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-bson">BSON</a></h2>
<p data-id="EOA1xt">[<a target="_blank" rel="noopener noreferrer" href="#BSON">BSON</a>] is a data format that was
   developed for the storage of JSON-like maps (JSON objects) in the MongoDB database. Its major distinguishing feature
   is the capability for in-place update, which prevents a compact representation. BSON uses a counted representation
   except for map keys, which are null-byte terminated. While BSON can be used for the representation of JSON-like
   objects on the wire, its specification is dominated by the requirements of the database application and has become
   somewhat baroque. The status of how BSON extensions will be implemented remains unclear.<a target="_blank"
      rel="noopener noreferrer" href="#section-e.3-1">¶</a></p>
<h2 data-id="2zJ3Mo"><a target="_blank" rel="noopener noreferrer" href="#section-e.4">E.4. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-msdtp-rfc-713">MSDTP: RFC 713</a></h2>
<p data-id="qlj-Ed">Message Services Data Transmission (MSDTP) is a very early example of a compact message format; it
   is described in [<a target="_blank" rel="noopener noreferrer" href="#RFC0713">RFC0713</a>], written in 1976. It is
   included here for its historical value, not because it was ever widely used.<a target="_blank"
      rel="noopener noreferrer" href="#section-e.4-1">¶</a></p>
<h2 data-id="znTp8D"><a target="_blank" rel="noopener noreferrer" href="#section-e.5">E.5. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-conciseness-on-the-wire">Conciseness on the Wire</a></h2>
<p data-id="e5BmYU">While CBOR&apos;s design objective of code compactness for encoders and decoders is a higher
   priority than its objective of conciseness on the wire, many people focus on the wire size. <a target="_blank"
      rel="noopener noreferrer" href="#concise">Table 8</a> shows some encoding examples for the simple nested array [1,
   [2, 3]]; where some form of indefinite-length encoding is supported by the encoding, [_ 1, [2, 3]] (indefinite length
   on the outer array) is also shown.<a target="_blank" rel="noopener noreferrer" href="#section-e.5-1">¶</a></p>
<table>
   <tbody>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="K6NPGr"><a target="_blank" rel="noopener noreferrer" href="#table-8">Table 8</a>: <a
                  target="_blank" rel="noopener noreferrer" href="#name-examples-for-different-leve">Examples for
                  Different Levels of Conciseness</a></p>
         </td>
      </tr>
      <tr>
         <th colspan="1" rowspan="1">
            <p data-id="1daLGy">Format</p>
         </th>
         <th colspan="1" rowspan="1">
            <p data-id="7-1lmY">[1, [2, 3]]</p>
         </th>
         <th colspan="1" rowspan="1">
            <p data-id="F1kSL1">[_ 1, [2, 3]]</p>
         </th>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="ycq00X">RFC 713</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="925ehy">c2 05 81 c2 02 82 83</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="0md7vf"> </p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="uVlbxJ">ASN.1 BER</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="IsjMFM">30 0b 02 01 01 30 06 02 01 02 02 01 03</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="GItpFf">30 80 02 01 01 30 06 02 01 02 02 01 03 00 00</p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="_AF1ui">MessagePack</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="-a1PTu">92 01 92 02 03</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="l_V5T-"> </p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="HlwrYH">BSON</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="WWsZ9y">22 00 00 00 10 30 00 01 00 00 00 04 31 00 13 00 00 00 10 30 00 02 00 00 00 10 31 00 03
               00 00 00 00 00</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="MAbWRR"> </p>
         </td>
      </tr>
      <tr>
         <td colspan="1" rowspan="1">
            <p data-id="_VScPj">CBOR</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="rj5mgm">82 01 82 02 03</p>
         </td>
         <td colspan="1" rowspan="1">
            <p data-id="Q8bvHc">9f 01 82 02 03 ff</p>
         </td>
      </tr>
   </tbody>
</table>
<h2 data-id="jXKDxx"><a target="_blank" rel="noopener noreferrer" href="#section-appendix.f">Appendix F. </a><a
      target="_blank" rel="noopener noreferrer" href="#name-well-formedness-errors-and-">Well-Formedness Errors and
      Examples</a></h2>
<p data-id="YYyAB6">There are three basic kinds of well-formedness errors that can occur in decoding a CBOR data item:<a
      target="_blank" rel="noopener noreferrer" href="#section-appendix.f-1">¶</a></p>
<p data-id="Wp_C5m">Too much data:</p>
<p data-id="Xkjtbz">There are input bytes left that were not consumed. This is only an error if the application assumed
   that the input bytes would span exactly one data item. Where the application uses the self-delimiting nature of CBOR
   encoding to permit additional data after the data item, as is done in CBOR sequences [<a target="_blank"
      rel="noopener noreferrer" href="#RFC8742">RFC8742</a>], for example, the CBOR decoder can simply indicate which
   part of the input has not been consumed.<a target="_blank" rel="noopener noreferrer"
      href="#section-appendix.f-2.2">¶</a></p>
<p data-id="nH4apu">Too little data:</p>
<p data-id="XBHpwE">The input data available would need additional bytes added at their end for a complete CBOR data
   item. This may indicate the input is truncated; it is also a common error when trying to decode random data as CBOR.
   For some applications, however, this may not actually be an error, as the application may not be certain it has all
   the data yet and can obtain or wait for additional input bytes. Some of these applications may have an upper limit
   for how much additional data can appear; here the decoder may be able to indicate that the encoded CBOR data item
   cannot be completed within this limit.<a target="_blank" rel="noopener noreferrer"
      href="#section-appendix.f-2.4">¶</a></p>
<p data-id="ifU9hu">Syntax error:</p>
<p data-id="RAYMUg">The input data are not consistent with the requirements of the CBOR encoding, and this cannot be
   remedied by adding (or removing) data at the end.<a target="_blank" rel="noopener noreferrer"
      href="#section-appendix.f-2.6">¶</a></p>
<p data-id="p8HYpV">In <a target="_blank" rel="noopener noreferrer" href="#pseudocode">Appendix C</a>, errors of the
   first kind are addressed in the first paragraph and bullet list (requiring &quot;no bytes are left&quot;), and errors
   of the second kind are addressed in the second paragraph/bullet list (failing &quot;if n bytes are no longer
   available&quot;). Errors of the third kind are identified in the pseudocode by specific instances of calling fail(),
   in order:<a target="_blank" rel="noopener noreferrer" href="#section-appendix.f-3">¶</a></p>
<ol>
   <li>
      <p data-id="Zv5ss-">a reserved value is used for additional information (28, 29, 30)<a target="_blank"
            rel="noopener noreferrer" href="#section-appendix.f-4.1">¶</a></p>
   </li>
   <li>
      <p data-id="YTSGIP">major type 7, additional information 24, value &lt; 32 (incorrect)<a target="_blank"
            rel="noopener noreferrer" href="#section-appendix.f-4.2">¶</a></p>
   </li>
   <li>
      <p data-id="C-lk7Z">incorrect substructure of indefinite-length byte string or text string (may only contain
         definite-length strings of the same major type)<a target="_blank" rel="noopener noreferrer"
            href="#section-appendix.f-4.3">¶</a></p>
   </li>
   <li>
      <p data-id="vZquW-">&quot;break&quot; stop code (major type 7, additional information 31) occurs in a value
         position of a map or except at a position directly in an indefinite-length item where also another enclosed
         data item could occur<a target="_blank" rel="noopener noreferrer" href="#section-appendix.f-4.4">¶</a></p>
   </li>
   <li>
      <p data-id="Bs92Z-">additional information 31 used with major type 0, 1, or 6<a target="_blank"
            rel="noopener noreferrer" href="#section-appendix.f-4.5">¶</a></p>
   </li>
</ol>
<h2 data-id="DR5qud"><a target="_blank" rel="noopener noreferrer" href="#section-f.1">F.1. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-examples-of-cbor-data-items">Examples of CBOR Data Items That Are Not
      Well-Formed</a></h2>
<p data-id="XCD-_o">This subsection shows a few examples for CBOR data items that are not well-formed. Each example is a
   sequence of bytes, each shown in hexadecimal; multiple examples in a list are separated by commas.<a target="_blank"
      rel="noopener noreferrer" href="#section-f.1-1">¶</a></p>
<p data-id="TOfuC3">Examples for well-formedness error kind 1 (too much data) can easily be formed by adding data to a
   well-formed encoded CBOR data item.<a target="_blank" rel="noopener noreferrer" href="#section-f.1-2">¶</a></p>
<p data-id="Qe2j5T">Similarly, examples for well-formedness error kind 2 (too little data) can be formed by truncating a
   well-formed encoded CBOR data item. In test suites, it may be beneficial to specifically test with incomplete data
   items that would require large amounts of addition to be completed (for instance by starting the encoding of a string
   of a very large size).<a target="_blank" rel="noopener noreferrer" href="#section-f.1-3">¶</a></p>
<p data-id="Dpr5xR">A premature end of the input can occur in a head or within the enclosed data, which may be bare
   strings or enclosed data items that are either counted or should have been ended by a &quot;break&quot; stop code.<a
      target="_blank" rel="noopener noreferrer" href="#section-f.1-4">¶</a></p>
<p data-id="oc2Z1m">End of input in a head:</p>
<p data-id="nuRm4Q">18, 19, 1a, 1b, 19 01, 1a 01 02, 1b 01 02 03 04 05 06 07, 38, 58, 78, 98, 9a 01 ff 00, b8, d8, f8,
   f9 00, fa 00 00, fb 00 00 00<a target="_blank" rel="noopener noreferrer" href="#section-f.1-5.2">¶</a></p>
<p data-id="c1e0Hs">Definite-length strings with short data:</p>
<p data-id="wwGjNI">41, 61, 5a ff ff ff ff 00, 5b ff ff ff ff ff ff ff ff 01 02 03, 7a ff ff ff ff 00, 7b 7f ff ff ff ff
   ff ff ff 01 02 03<a target="_blank" rel="noopener noreferrer" href="#section-f.1-5.4">¶</a></p>
<p data-id="w9yoqM">Definite-length maps and arrays not closed with enough items:</p>
<p data-id="axS8hb">81, 81 81 81 81 81 81 81 81 81, 82 00, a1, a2 01 02, a1 00, a2 00 00 00<a target="_blank"
      rel="noopener noreferrer" href="#section-f.1-5.6">¶</a></p>
<p data-id="Qst9Ht">Tag number not followed by tag content:</p>
<p data-id="T9n3QZ">c0<a target="_blank" rel="noopener noreferrer" href="#section-f.1-5.8">¶</a></p>
<p data-id="SYJImt">Indefinite-length strings not closed by a &quot;break&quot; stop code:</p>
<p data-id="KOBdYQ">5f 41 00, 7f 61 00<a target="_blank" rel="noopener noreferrer" href="#section-f.1-5.10">¶</a></p>
<p data-id="U2nYmG">Indefinite-length maps and arrays not closed by a &quot;break&quot; stop code:</p>
<p data-id="o-X1UJ"> 9f, 9f 01 02, bf, bf 01 02 01 02, 81 9f, 9f 80 00, 9f 9f 9f 9f 9f ff ff ff ff, 9f 81 9f 81 9f 9f ff
   ff ff<a target="_blank" rel="noopener noreferrer" href="#section-f.1-5.12">¶</a></p>
<p data-id="a6kxTm">A few examples for the five subkinds of well-formedness error kind 3 (syntax error) are shown
   below.<a target="_blank" rel="noopener noreferrer" href="#section-f.1-6">¶</a></p>
<p data-id="zjxtbs">Subkind 1:</p>
<p data-id="GrC0mJ"></p>
<p data-id="a_8Kcj">Reserved additional information values:</p>
<p data-id="6EYwig">1c, 1d, 1e, 3c, 3d, 3e, 5c, 5d, 5e, 7c, 7d, 7e, 9c, 9d, 9e, bc, bd, be, dc, dd, de, fc, fd, fe,<a
      target="_blank" rel="noopener noreferrer" href="#section-f.1-7.2.2.2">¶</a></p>
<p data-id="uhrLgJ">Subkind 2:</p>
<p data-id="UHdzXZ"></p>
<p data-id="wixqRJ">Reserved two-byte encodings of simple values:</p>
<p data-id="HQDKsu">f8 00, f8 01, f8 18, f8 1f<a target="_blank" rel="noopener noreferrer"
      href="#section-f.1-7.4.2.2">¶</a></p>
<p data-id="0cAvrf">Subkind 3:</p>
<p data-id="PE2_7G"></p>
<p data-id="RGYV4J">Indefinite-length string chunks not of the correct type:</p>
<p data-id="OzMMiS">5f 00 ff, 5f 21 ff, 5f 61 00 ff, 5f 80 ff, 5f a0 ff, 5f c0 00 ff, 5f e0 ff, 7f 41 00 ff<a
      target="_blank" rel="noopener noreferrer" href="#section-f.1-7.6.2.2">¶</a></p>
<p data-id="fCCaEl">Indefinite-length string chunks not definite length:</p>
<p data-id="xtApke"> 5f 5f 41 00 ff ff, 7f 7f 61 00 ff ff<a target="_blank" rel="noopener noreferrer"
      href="#section-f.1-7.6.2.4">¶</a></p>
<p data-id="fmder1">Subkind 4:</p>
<p data-id="lSxWak"></p>
<p data-id="ZIXkNO">Break occurring on its own outside of an indefinite-length item:</p>
<p data-id="Ctg-Wm"> ff<a target="_blank" rel="noopener noreferrer" href="#section-f.1-7.8.2.2">¶</a></p>
<p data-id="4LbcZC">Break occurring in a definite-length array or map or a tag:</p>
<p data-id="4fHPxZ">81 ff, 82 00 ff, a1 ff, a1 ff 00, a1 00 ff, a2 00 00 ff, 9f 81 ff, 9f 82 9f 81 9f 9f ff ff ff ff<a
      target="_blank" rel="noopener noreferrer" href="#section-f.1-7.8.2.4">¶</a></p>
<p data-id="Mhj9Ea">Break in an indefinite-length map that would lead to an odd number of items (break in a value
   position):</p>
<p data-id="sEIjrB">bf 00 ff, bf 00 00 00 ff<a target="_blank" rel="noopener noreferrer"
      href="#section-f.1-7.8.2.6">¶</a></p>
<p data-id="EmZMPu">Subkind 5:</p>
<p data-id="rKxZU6"></p>
<p data-id="IPpZKI">Major type 0, 1, 6 with additional information 31:</p>
<p data-id="xUQrmt">1f, 3f, df<a target="_blank" rel="noopener noreferrer" href="#section-f.1-7.10.2.2">¶</a></p>
<h2 data-id="E0pLlF"><a target="_blank" rel="noopener noreferrer" href="#section-appendix.g">Appendix G. </a><a
      target="_blank" rel="noopener noreferrer" href="#name-changes-from-rfc-7049">Changes from RFC 7049</a></h2>
<p data-id="--_fDg">As discussed in the introduction, this document formally obsoletes RFC 7049 while keeping full
   compatibility with the interchange format from RFC 7049. This document provides editorial improvements, added detail,
   and fixed errata. This document does not create a new version of the format.<a target="_blank"
      rel="noopener noreferrer" href="#section-appendix.g-1">¶</a></p>
<h2 data-id="SpvE4I"><a target="_blank" rel="noopener noreferrer" href="#section-g.1">G.1. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-errata-processing-and-cleri">Errata Processing and Clerical Changes</a></h2>
<p data-id="-Jhp_N">The two verified errata on RFC 7049, [<a target="_blank" rel="noopener noreferrer"
      href="#Err3764">Err3764</a>] and [<a target="_blank" rel="noopener noreferrer" href="#Err3770">Err3770</a>],
   concerned two encoding examples in the text that have been corrected (<a target="_blank" rel="noopener noreferrer"
      href="#bignums">Section 3.4.3</a>: &quot;29&quot; -&gt; &quot;49&quot;, <a target="_blank"
      rel="noopener noreferrer" href="#numbers">Section 5.5</a>: &quot;0b000_11101&quot; -&gt; &quot;0b000_11001&quot;).
   Also, RFC 7049 contained an example using the numeric value 24 for a simple value [<a target="_blank"
      rel="noopener noreferrer" href="#Err5917">Err5917</a>], which is not well-formed; this example has been removed.
   Errata report 5763 [<a target="_blank" rel="noopener noreferrer" href="#Err5763">Err5763</a>] pointed to an error in
   the wording of the definition of tags; this was resolved during a rewrite of <a target="_blank"
      rel="noopener noreferrer" href="#tags">Section 3.4</a>. Errata report 5434 [<a target="_blank"
      rel="noopener noreferrer" href="#Err5434">Err5434</a>] pointed out that the Universal Binary JSON (UBJSON) example
   in <a target="_blank" rel="noopener noreferrer" href="#comparison-app">Appendix E</a> no longer complied with the
   version of UBJSON current at the time of the errata report submission. It turned out that the UBJSON specification
   had completely changed since 2013; this example therefore was removed. Other errata reports [<a target="_blank"
      rel="noopener noreferrer" href="#Err4409">Err4409</a>] [<a target="_blank" rel="noopener noreferrer"
      href="#Err4963">Err4963</a>] [<a target="_blank" rel="noopener noreferrer" href="#Err4964">Err4964</a>] complained
   that the map key sorting rules for canonical encoding were onerous; these led to a reconsideration of the canonical
   encoding suggestions and replacement by the deterministic encoding suggestions (described below). An editorial
   suggestion in errata report 4294 [<a target="_blank" rel="noopener noreferrer" href="#Err4294">Err4294</a>] was also
   implemented (improved symmetry by adding &quot;Second value&quot; to a comment to the last example in <a
      target="_blank" rel="noopener noreferrer" href="#indef">Section 3.2.2</a>).<a target="_blank"
      rel="noopener noreferrer" href="#section-g.1-1">¶</a></p>
<p data-id="jHfVkg">Other clerical changes include:<a target="_blank" rel="noopener noreferrer"
      href="#section-g.1-2">¶</a></p>
<ol>
   <li>
      <p data-id="OXEmgZ">the use of new xml2rfc functionality [<a target="_blank" rel="noopener noreferrer"
            href="#RFC7991">RFC7991</a>];<a target="_blank" rel="noopener noreferrer" href="#section-g.1-3.1">¶</a></p>
   </li>
   <li>
      <p data-id="G4NVVV">more explanation of the notation used;<a target="_blank" rel="noopener noreferrer"
            href="#section-g.1-3.2">¶</a></p>
   </li>
   <li>
      <p data-id="L3FhYb">the update of references, e.g., from RFC 4627 to [<a target="_blank" rel="noopener noreferrer"
            href="#RFC8259">RFC8259</a>], from CNN-TERMS to [<a target="_blank" rel="noopener noreferrer"
            href="#RFC7228">RFC7228</a>], and from the 5.1 edition to the 11th edition of [<a target="_blank"
            rel="noopener noreferrer" href="#ECMA262">ECMA262</a>]; the addition of a reference to [<a target="_blank"
            rel="noopener noreferrer" href="#IEEE754">IEEE754</a>] and importation of required definitions; the addition
         of references to [<a target="_blank" rel="noopener noreferrer" href="#C">C</a>] and [<a target="_blank"
            rel="noopener noreferrer" href="#Cplusplus20">Cplusplus20</a>]; and the addition of a reference to [<a
            target="_blank" rel="noopener noreferrer" href="#RFC8618">RFC8618</a>] that further illustrates the
         discussion in <a target="_blank" rel="noopener noreferrer" href="#comparison-app">Appendix E</a>;<a
            target="_blank" rel="noopener noreferrer" href="#section-g.1-3.3">¶</a></p>
   </li>
   <li>
      <p data-id="Phbk4V">in the discussion of diagnostic notation (<a target="_blank" rel="noopener noreferrer"
            href="#diagnostic-notation">Section 8</a>), the &quot;Extended Diagnostic Notation&quot; (EDN) defined in
         [<a target="_blank" rel="noopener noreferrer" href="#RFC8610">RFC8610</a>] is now mentioned, the gap in
         representing NaN payloads is now highlighted, and an explanation of representing indefinite-length strings with
         no chunks has been added (<a target="_blank" rel="noopener noreferrer" href="#encoding-indicators">Section
            8.1</a>);<a target="_blank" rel="noopener noreferrer" href="#section-g.1-3.4">¶</a></p>
   </li>
   <li>
      <p data-id="J6XcSi">the addition of this appendix.<a target="_blank" rel="noopener noreferrer"
            href="#section-g.1-3.5">¶</a></p>
   </li>
</ol>
<h2 data-id="mtwrd6"><a target="_blank" rel="noopener noreferrer" href="#section-g.2">G.2. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-changes-in-iana-considerati">Changes in IANA Considerations</a></h2>
<p data-id="Nj4AvG">The IANA considerations were generally updated (clerical changes, e.g., now pointing to the CBOR
   Working Group as the author of the specification). References to the respective IANA registries were added to the
   informative references.<a target="_blank" rel="noopener noreferrer" href="#section-g.2-1">¶</a></p>
<p data-id="ibEYld">In the &quot;Concise Binary Object Representation (CBOR) Tags&quot; registry [<a target="_blank"
      rel="noopener noreferrer" href="#IANA.cbor-tags">IANA.cbor-tags</a>], tags in the space from 256 to 32767 (lower
   half of &quot;1+2&quot;) are no longer assigned by First Come First Served; this range is now Specification
   Required.<a target="_blank" rel="noopener noreferrer" href="#section-g.2-2">¶</a></p>
<h2 data-id="KQNkSK"><a target="_blank" rel="noopener noreferrer" href="#section-g.3">G.3. </a><a target="_blank"
      rel="noopener noreferrer" href="#name-changes-in-suggestions-and-">Changes in Suggestions and Other Informational
      Components</a></h2>
<p data-id="HvsHa8">While revising the document, beyond the addressing of the errata reports, the working group drew
   upon nearly seven years of experience with CBOR in a diverse set of applications. This led to a number of editorial
   changes, including adding tables for illustration, but also emphasizing some aspects and de-emphasizing others.<a
      target="_blank" rel="noopener noreferrer" href="#section-g.3-1">¶</a></p>
<p data-id="G7sTL1">A significant addition is <a target="_blank" rel="noopener noreferrer"
      href="#cbor-data-models">Section 2</a>, which discusses the CBOR data model and its small variations involved in
   the processing of CBOR. The introduction of terms for those variations (basic generic, extended generic, specific)
   enables more concise language in other places of the document and also helps to clarify expectations of
   implementations and of the extensibility features of the format.<a target="_blank" rel="noopener noreferrer"
      href="#section-g.3-2">¶</a></p>
<p data-id="N8WWIC">As a format derived from the JSON ecosystem, RFC 7049 was influenced by the JSON number system that
   was in turn inherited from JavaScript at the time. JSON does not provide distinct integers and floating-point values
   (and the latter are decimal in the format). CBOR provides binary representations of numbers, which do differ between
   integers and floating-point values. Experience from implementation and use suggested that the separation between
   these two number domains should be more clearly drawn in the document; language that suggested an integer could
   seamlessly stand in for a floating-point value was removed. Also, a suggestion (based on I-JSON [<a target="_blank"
      rel="noopener noreferrer" href="#RFC7493">RFC7493</a>]) was added for handling these types when converting JSON to
   CBOR, and the use of a specific rounding mechanism has been recommended.<a target="_blank" rel="noopener noreferrer"
      href="#section-g.3-3">¶</a></p>
<p data-id="mD6lZP">For a single value in the data model, CBOR often provides multiple encoding options. A new section
   (<a target="_blank" rel="noopener noreferrer" href="#serialization-considerations">Section 4</a>) introduces the term
   &quot;preferred serialization&quot; (<a target="_blank" rel="noopener noreferrer" href="#preferred">Section 4.1</a>)
   and defines it for various kinds of data items. On the basis of this terminology, the section then discusses how a
   CBOR-based protocol can define &quot;deterministic encoding&quot; (<a target="_blank" rel="noopener noreferrer"
      href="#det-enc">Section 4.2</a>), which avoids terms &quot;canonical&quot; and &quot;canonicalization&quot; from
   RFC 7049. The suggestion of &quot;Core Deterministic Encoding Requirements&quot; (<a target="_blank"
      rel="noopener noreferrer" href="#core-det">Section 4.2.1</a>) enables generic support for such protocol-defined
   encoding requirements. This document further eases the implementation of deterministic encoding by simplifying the
   map ordering suggested in RFC 7049 to a simple lexicographic ordering of encoded keys. A description of the older
   suggestion is kept as an alternative, now termed &quot;length-first map key ordering&quot; (<a target="_blank"
      rel="noopener noreferrer" href="#length-first">Section 4.2.3</a>).<a target="_blank" rel="noopener noreferrer"
      href="#section-g.3-4">¶</a></p>
<p data-id="da6LPp">The terminology for well-formed and valid data was sharpened and more stringently used, avoiding
   less well-defined alternative terms such as &quot;syntax error&quot;, &quot;decoding error&quot;, and &quot;strict
   mode&quot; outside of examples. Also, a third level of requirements that an application has on its input data beyond
   CBOR-level validity is now explicitly called out. Well-formed (processable at all), valid (checked by a
   validity-checking generic decoder), and expected input (as checked by the application) are treated as a hierarchy of
   layers of acceptability.<a target="_blank" rel="noopener noreferrer" href="#section-g.3-5">¶</a></p>
<p data-id="r9OZUC">The handling of non-well-formed simple values was clarified in text and pseudocode. <a
      target="_blank" rel="noopener noreferrer" href="#errors">Appendix F</a> was added to discuss well-formedness
   errors and provide examples for them. The pseudocode was updated to be more portable, and some portability
   considerations were added.<a target="_blank" rel="noopener noreferrer" href="#section-g.3-6">¶</a></p>
<p data-id="6eOtob">The discussion of validity has been sharpened in two areas. Map validity (handling of duplicate
   keys) was clarified, and the domain of applicability of certain implementation choices explained. Also, while
   streamlining the terminology for tags, tag numbers, and tag content, discussion was added on tag validity, and the
   restrictions were clarified on tag content, in general and specifically for tag 1.<a target="_blank"
      rel="noopener noreferrer" href="#section-g.3-7">¶</a></p>
<p data-id="YGDzyy">An implementation note (and note for future tag definitions) was added to <a target="_blank"
      rel="noopener noreferrer" href="#tags">Section 3.4</a> about defining tags with semantics that depend on
   serialization order.<a target="_blank" rel="noopener noreferrer" href="#section-g.3-8">¶</a></p>
<p data-id="5CqW3x">Tag 35 is not defined by this document; the registration based on the definition in RFC 7049 remains
   in place.<a target="_blank" rel="noopener noreferrer" href="#section-g.3-9">¶</a></p>
<p data-id="GHbRjp">Terminology was introduced in <a target="_blank" rel="noopener noreferrer" href="#encoding">Section
      3</a> for &quot;argument&quot; and &quot;head&quot;, simplifying further discussion.<a target="_blank"
      rel="noopener noreferrer" href="#section-g.3-10">¶</a></p>
<p data-id="i3z3_S">The security considerations (<a target="_blank" rel="noopener noreferrer"
      href="#securitycons">Section 10</a>) were mostly rewritten and significantly expanded; in multiple other places,
   the document is now more explicit that a decoder cannot simply condone well-formedness errors.<a target="_blank"
      rel="noopener noreferrer" href="#section-g.3-11">¶</a></p>
<h2 data-id="knz_PU"><a target="_blank" rel="noopener noreferrer" href="#name-acknowledgements">Acknowledgements</a>
</h2>
<p data-id="obJCkO">CBOR was inspired by MessagePack. MessagePack was developed and promoted by Sadayuki Furuhashi
   (&quot;frsyuki&quot;). This reference to MessagePack is solely for attribution; CBOR is not intended as a version of,
   or replacement for, MessagePack, as it has different design goals and requirements.<a target="_blank"
      rel="noopener noreferrer" href="#section-appendix.h-1">¶</a></p>
<p data-id="uy525-">The need for functionality beyond the original MessagePack specification became obvious to many
   people at about the same time around the year 2012. BinaryPack is a minor derivation of MessagePack that was
   developed by Eric Zhang for the binaryjs project. A similar, but different, extension was made by Tim Caswell for his
   msgpack-js and msgpack-js-browser projects. Many people have contributed to the discussion about extending
   MessagePack to separate text string representation from byte string representation.<a target="_blank"
      rel="noopener noreferrer" href="#section-appendix.h-2">¶</a></p>
<p data-id="Fd0kjZ">The encoding of the additional information in CBOR was inspired by the encoding of length
   information designed by Klaus Hartke for CoAP.<a target="_blank" rel="noopener noreferrer"
      href="#section-appendix.h-3">¶</a></p>
<p data-id="SoqH5_">This document also incorporates suggestions made by many people, notably Dan Frost, James Manger,
   Jeffrey Yasskin, Joe Hildebrand, Keith Moore, Laurence Lundblade, Matthew Lepinski, Michael Richardson, Nico
   Williams, Peter Occil, Phillip Hallam-Baker, Ray Polk, Stuart Cheshire, Tim Bray, Tony Finch, Tony Hansen, and Yaron
   Sheffer. Benjamin Kaduk provided an extensive review during IESG processing. Éric Vyncke, Erik Kline, Robert Wilton,
   and Roman Danyliw provided further IESG comments, which included an IoT directorate review by Eve Schooler.<a
      target="_blank" rel="noopener noreferrer" href="#section-appendix.h-4">¶</a></p>
<h2 data-id="yvD-yU"><a target="_blank" rel="noopener noreferrer" href="#name-authors-addresses">Authors&apos;
      Addresses</a></h2>
<p data-id="tpxn3s">Carsten Bormann</p>
<p data-id="Bk_o6u">Universität Bremen TZI</p>
<p data-id="tLbCji">Postfach 330440</p>
<p data-id="iO1A3Y">D-28359 Bremen</p>
<p data-id="TN_BXq">Germany</p>
<p data-id="Lwl8S4">Phone: <a target="_blank" rel="noopener noreferrer"
      href="tel:+49-421-218-63921">+49-421-218-63921</a></p>
<p data-id="ZARnt6">Email: <a target="_blank" rel="noopener noreferrer" href="mailto:cabo@tzi.org">cabo@tzi.org</a></p>
<p data-id="Wjh4wi">Paul Hoffman</p>
<p data-id="wSFqcK">ICANN</p>
<p data-id="oA_SIN">Email: <a target="_blank" rel="noopener noreferrer"
      href="mailto:paul.hoffman@icann.org">paul.hoffman@icann.org</a></p>